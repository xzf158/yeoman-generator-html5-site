/*
* jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
*
* Uses the built in easing capabilities added In jQuery 1.1
* to offer multiple easing options
*
* TERMS OF USE - jQuery Easing
*
* Open source under the BSD License.
*
* Copyright Â© 2008 George McGinley Smith
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without modification,
* are permitted provided that the following conditions are met:
*
* Redistributions of source code must retain the above copyright notice, this list of
* conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice, this list
* of conditions and the following disclaimer in the documentation and/or other materials
* provided with the distribution.
*
* Neither the name of the author nor the names of contributors may be used to endorse
* or promote products derived from this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
* EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
* MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
*  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
*  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
*  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
* AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
*  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
* OF THE POSSIBILITY OF SUCH DAMAGE.
*
*/

/*!
 * VERSION: beta 1.9.2
 * DATE: 2013-03-25
 * JavaScript (ActionScript 3 and 2 also available)
 * UPDATES AND DOCS AT: http://www.greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, easing.EasePack, plugins.CSSPlugin, plugins.RoundPropsPlugin, plugins.BezierPlugin
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/*
 * Pixastic - JavaScript Image Processing Library
 * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
 * MIT License [http://www.pixastic.com/lib/license.txt]
 */

/*
 * Pixastic Lib - Blend - v0.1.1
 * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
 * License: [http://www.pixastic.com/lib/license.txt]
 */

/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

/*!
Video.js - HTML5 Video Player
Version 3.2.0

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/

jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}),define("jquery.easing",function(){}),define("browser.animation",[],function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}),define("core/common",["jquery","jquery.easing","browser.animation"],function(e){function l(){var n=e.browser.mozilla?"DOMMouseScroll":"mousewheel";t.$body.on(n,function(n){if(t.isFullScreen)return!1;t.isDragScroll=!1,t.isAnimate&&(t.tmpScroll.stop(),t.$body.stop(),t.isAnimate=!1),e.browser.mozilla?t.targetTop+=n.originalEvent.detail*30:t.targetTop-=n.originalEvent.wheelDelta/3;if(t.targetTop<0){t.targetTop=0;if(t.$document.scrollTop()<=0)return!1}else t.targetTop>t.scrollHeight&&(t.targetTop=t.scrollHeight);return!1})}function c(){function o(){if(Math.abs(t.currentTop-t.targetTop)>0){r=new Date,i=r-e,e=r,s=t.options.spring*i/17,s=s>.4?.4:s,t.currentTop+=(t.targetTop-t.currentTop)*s,t.currentTop=Math.round(t.currentTop*100)/100,t.currentTop<0&&(t.currentTop=0),Math.abs(t.currentTop-t.targetTop)<=1&&(t.currentTop=t.targetTop);for(var u=0,f=a.length;u<f;u++){var l=a[u];typeof l=="function"?l.call(this,t.currentTop):typeof l.callback=="function"&&l.callback.call(l.scope?l.scope:this,t.currentTop)}!t.isDragScroll&&t.currentTop>=0&&t.$document.scrollTop(t.currentTop)}else t.currentTop=t.targetTop,t.isAnimate||(t.isDragScroll=!0);window.cancelAnimationFrame(n),n=window.requestAnimationFrame(o)}var e=new Date,r,i,s;o()}var t={},n,r=e({}),i={};t.stageW=0,t.stageH=0,t.scrollHeight=0,t.targetTop=0,t.currentTop=0,t.$window=undefined,t.$body=undefined,t.$document=undefined,t.isDragScroll=!1,t.isAnimate=!1,t.tmpScroll=undefined,t.hasTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints>0,t.scaleRate=1,t.ie8=e.browser.msie&&e.browser.version=="8.0",t.ie9=e.browser.msie&&e.browser.version=="9.0",t.isIpad=navigator.userAgent.match(/iPad/i)!=null,t.isAndroid=navigator.userAgent.match(/Android/i)!=null,t.currentPath=undefined,t.supportVideo=!!document.createElement("video").canPlayType,t.isIpad?t.isTablet=!0:t.isAndroid?navigator.userAgent.match(/Mobile/i)!=null?t.isTablet=!1:t.isTablet=!0:t.isTablet=!1,t.isMobile=navigator.userAgent.match(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile/i)!=null,t.isTablet&&(t.isMobile=!1),t.isFullScreen=!1,t.options={mousewheel:!1,spring:.2,useAddress:!1};var s=function(e,t,n){var r=null,i;return function(){var s=this,o=arguments,u=+(new Date);clearTimeout(r),i||(i=u),u-i>=n?(e.apply(s,o),i=u):r=setTimeout(function(){e.apply(s,o)},t)}},o,u=[],a=[],f=[];return t.init=function(n){function h(n){t.isDragScroll&&(t.targetTop=e(this).scrollTop());if(!t.options.mousewheel){t.targetTop=t.currentTop=e(this).scrollTop();for(var r=0,i=a.length;r<i;r++){var s=a[r];typeof s=="function"?s.call(this,t.currentTop):typeof s.callback=="function"&&s.callback.call(s.scope?s.scope:this,t.currentTop)}}}t.options=e.extend({},t.options,n),t.$body=e("body, html"),t.$document=e(document);var r=s(function(){isEnd=!0,t.refresh(isEnd)},200,1e3);t.$window=e(window).resize(function(){t.refresh(!1),clearTimeout(o),o=setTimeout(function(){t.refresh(!0)},400)}),t.refresh(!0);if(t.options.useAddress){require(["jquery.address"],function(){e.address.init(function(e){u("init",e.value)}).internalChange(function(e){u("internal",e.value)}).externalChange(function(e){u("external",e.value)})}),t.$window.on("popstate",function(){t.$document.on("scroll",i)});function i(e){return t.$document.scrollTop(t.currentTop),t.$document.off("scroll",i),!1}function u(e,n){n.indexOf("/")==0&&(n=n.substr(1,n.length-1));for(var r=0,i=f.length;r<i;r++){var s=f[r];typeof s=="function"&&s.call(this,e,n)}t.currentPath=n}}t.ie8?t.$window.scroll(h):t.$document.on("scroll",h),t.options.mousewheel&&!t.ie8&&!t.hasTouch&&(t.targetTop=t.$document.scrollTop(),l(),c(),t.tmpScroll=e("<div/>")),t.currentTop=t.targetTop=t.$document.scrollTop()},t.refresh=function(e){t.stageW=t.$window.width(),t.stageH=t.$window.height(),t.currentTop=t.targetTop=t.$document.scrollTop(),t.scrollHeight=document.documentElement.scrollHeight-t.stageH;for(var n=0,r=u.length;n<r;n++){var i=u[n];typeof i=="function"?i.call(this,e):typeof i.callback=="function"&&i.callback.call(i.scope?i.scope:this,e)}},t.on=function(e,t){r.on(e,t)},t.off=function(e,t){r.off(e,t)},t.trigger=function(e,t){r.trigger(e,t)},t.data=function(e,n){return n!=undefined?(n.length==0?delete i[e]:i[e]=n,t):i[e]},t.resize=function(e){u.push(e)},t.scroll=function(e){a.push(e)},t.addressChange=function(e){f.push(e)},t.addressTo=function(t){e.address&&e.address.value(t)},t.scrollTo=function(e,n){if(e==t.targetTop&&t.options.mousewheel)return;t.isAnimate=!0,t.isDragScroll=!1,t.$body.stop(),t.tmpScroll&&t.tmpScroll.stop(),t.hasTouch||t.ie8?t.$body.animate({scrollTop:e},n?n:900,"easeInOutQuart",function(){t.isAnimate=!1}):t.options.mousewheel&&(t.tmpScroll.css("top",t.currentTop),t.tmpScroll.animate({top:e},{duration:n?n:900,step:function(e,n){t.isDragScroll=!1,t.targetTop=parseInt(e)},easing:"easeInOutQuart",complete:function(){t.isAnimate=!1}}))},t}),define("tools/img.loader",["jquery"],function($){var scheme=function(){},imagesArray={},ipad=navigator.userAgent.match(/iPad/i)!=null,android=navigator.userAgent.match(/Android/i)!=null,iphone=navigator.userAgent.match(/iPhone|iPod/i)!=null,tablet=!1;ipad?tablet=!0:android&&(navigator.userAgent.match(/Mobile/i)!=null?tablet=!1:tablet=!0);var mobile=navigator.userAgent.match(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile/i)!=null;tablet&&(mobile=!1);var touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return scheme.options={preload:!1,holder:undefined,fillMode:"bg",progress:undefined,complete:undefined,defaultPath:"images/",rule:undefined},scheme.load=function(options){function loadProgress(){options.progress&&typeof options.progress=="function"&&options.progress.call(this,Math.round(completeLen/len*100)/100)}function checkIsComplete(){completeLen==len&&options.complete&&typeof options.complete=="function"&&options.complete.call()}options=$.extend({},scheme.options,options),options.holder||(options.holder=$("body"));var $imgHolders,len=0,completeLen=0,className;options.preload?className="preload":className="imgload",options.className&&(className=options.className),$imgHolders=options.holder.find("."+className),options.holder.hasClass(className)&&$imgHolders.push(options.holder),len=$imgHolders.length;if(len==0){checkIsComplete();return}var stageW=$(window).width();return $imgHolders.each(function(){var $this=$(this),src=$this.data("img-src"),fillMode=$this.data("fill-mode")?$this.data("fill-mode"):options.fillMode;if(src){var srcs=src.split(",");srcs.length>1&&(len+=srcs.length-1,$this.data("type","multi"));if(fillMode=="bg"){var multipleBg=[];for(var i=0,il=srcs.length;i<il;i++)multipleBg.push("url({"+i+"})");$this.data("bgImage",multipleBg.join(","))}for(var i=0,il=srcs.length;i<il;i++){if($this.hasClass("adapt")){var rule;$this.attr("data-rule")?(rule=eval("("+$this.attr("data-rule")+")"),!rule.overwrite&&options.rule&&(rule=$.extend({},options.rule,rule))):rule=options.rule?options.rule:undefined;if(rule){rule.hasOwnProperty("overwrite")&&delete rule.overwrite;var hasArrary=!1;for(var resolution in rule)if($.isArray(rule[resolution])){hasArrary=!0;if(stageW>rule[resolution][0]&&stageW<rule[resolution][1]){var atIndex=srcs[i].lastIndexOf("@"),dotIndex=srcs[i].lastIndexOf(".");atIndex<0&&(atIndex=dotIndex);var beforePart=srcs[i].substring(0,atIndex),afterPart=srcs[i].substring(dotIndex);srcs[i]=beforePart+"@"+resolution+afterPart;break}}else if(eval(resolution)!=rule[resolution]){srcs[i]=null;break}hasArrary||$this.removeClass("adapt")}}var src=srcs[i];if(src==null||$this.data("src")==src)completeLen++,loadProgress(),checkIsComplete();else{$this.data("src",src),src.match(/(http:\/\/|https:\/\/)/gi)||(src=src.indexOf("~/")!=-1?src.replace("~/",""):options.defaultPath+src);var img=$("<img/>").load(function(){$this=$(this),imagesArray[srcs[$this.data("index")]]=this;if($this.data("holder").hasClass("none"))$this.data("holder").remove();else{var e=$this.data("holder").data("fill-class")?$this.data("holder").data("fill-class"):"wish-fill-img";fillMode=="canvas"&&(Modernizr&&!Modernizr.canvas||$.browser.msie)&&(fillMode="img"),$this.data("holder").hasClass("adapt")&&$this.data("holder").find("."+e+"-adapt").remove();if(fillMode=="img")$this.data("holder").append($this.attr("alt","").addClass(e)),$this.data("holder").hasClass("adapt")&&$this.addClass(e+"-adapt");else if(fillMode=="canvas"){var t=$("<canvas class='"+e+"' width='"+this.width+"' height='"+this.height+"'/>");ctx=t[0].getContext("2d"),ctx.drawImage(this,0,0,this.width,this.height),$this.data("holder").append(t),$this.data("holder").hasClass("adapt")&&t.addClass(e+"-adapt")}else{var n=$this.data("holder").data("bgImage");n&&(n=n.replace("{"+$this.data("index")+"}",$this.attr("src")),$this.data("holder").data("bgImage",n),n.indexOf("{")==-1&&$this.data("holder").css("backgroundImage",n))}}completeLen++,loadProgress(),checkIsComplete()}).error(function(){completeLen++,loadProgress(),checkIsComplete()}).data({holder:$this,index:i,src:src,type:$this.data("type")}).attr("src",src)}}}else completeLen++,loadProgress(),checkIsComplete()}),scheme.getImageByName=function(e){return imagesArray[e]},this},scheme}),(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0},i=function(e){return e.jquery||"function"==typeof e.each&&e[0]&&e[0].nodeType&&e[0].style},s=function(e){var t=[];return e.each(function(){t.push(this)}),t},o=r.prototype=n.to({},.1,{}),u=[];r.version="1.9.2",o.constructor=r,o.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=n.killTweensOf,r.getTweensOf=n.getTweensOf,r.ticker=n.ticker,o.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},o.updateTo=function(e,t){var r,i=this.ratio;t&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in e)this.vars[r]=e[r];if(this._initted)if(t)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var o,u=1/(1-i),a=this._firstPT;a;)o=a.s+a.c,a.c*=u,a.s=o-a.c,a=a._next}return this},o.render=function(e,t,n){var r,i,s,o,a,f,l,c=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._totalTime,v=this._cycle;if(e>=c?(this._totalTime=c,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,i="onComplete"),0===this._duration&&((0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==d||0===this._duration&&this._rawPrevTime>0)&&(i="onReverseComplete",r=this._reversed),0>e?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(o=this._duration+this._repeatDelay,this._cycle=this._totalTime/o>>0,0!==this._cycle&&this._cycle===this._totalTime/o&&this._cycle--,this._time=this._totalTime-this._cycle*o,this._yoyo&&0!==(1&this._cycle)&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:0>this._time&&(this._time=0)),this._easeType?(a=this._time/this._duration,f=this._easeType,l=this._easePower,(1===f||3===f&&a>=.5)&&(a=1-a),3===f&&(a*=2),1===l?a*=a:2===l?a*=a*a:3===l?a*=a*a*a:4===l&&(a*=a*a*a*a),this.ratio=1===f?1-a:2===f?a:.5>this._time/this._duration?a/2:1-a/2):this.ratio=this._ease.getRatio(this._time/this._duration)),p===this._time&&!n)return d!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),void 0;if(!this._initted){if(this._init(),!this._initted)return;this._time&&!r?this.ratio=this._ease.getRatio(this._time/this._duration):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||this._paused||(this._active=!0),0===d&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===this._duration)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u)),i&&(this._gc||(0>e&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||u)))},r.to=function(e,t,n){return new r(e,t,n)},r.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new r(e,t,n)},r.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new r(e,t,i)},r.staggerTo=r.allTo=function(e,t,o,a,f,l,p){a=a||0;var v,m,g,y,b=o.delay||0,w=[],E=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,o.onCompleteParams||u),f.apply(p||this,l||u)};for(e instanceof Array||("string"==typeof e&&(e=n.selector(e)||e),i(e)&&(e=s(e))),v=e.length,g=0;v>g;g++){m={};for(y in o)m[y]=o[y];m.delay=b,g===v-1&&f&&(m.onComplete=E),w[g]=new r(e[g],t,m),b+=a}return w},r.staggerFrom=r.allFrom=function(e,t,n,i,s,o,u){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,r.staggerTo(e,t,n,i,s,o,u)},r.staggerFromTo=r.allFromTo=function(e,t,n,i,s,o,u,a){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,r.staggerTo(e,t,i,s,o,u,a)},r.delayedCall=function(e,t,n,i,s){return new r(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:i,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:i,immediateRender:!1,useFrames:s,overwrite:0})},r.set=function(e,t){return new r(e,0,t)},r.isTweening=function(e){for(var t,r=n.getTweensOf(e),i=r.length;--i>-1;)if(t=r[i],t._active||t._startTime===t._timeline._time&&t._timeline._active)return!0;return!1};var a=function(e,t){for(var r=[],i=0,s=e._first;s;)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(a(s,t)),i=r.length),s=s._next;return r},f=r.getAllTweens=function(t){return a(e._rootTimeline,t).concat(a(e._rootFramesTimeline,t))};r.killAll=function(e,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var s,o,u,a=f(0!=i),l=a.length,c=n&&r&&i;for(u=0;l>u;u++)o=a[u],(c||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&(e?o.totalTime(o.totalDuration()):o._enabled(!1,!1))},r.killChildTweensOf=function(e,t){if(null!=e){var o,u,a,f,l,h=n._tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),i(e)&&(e=s(e)),e instanceof Array)for(f=e.length;--f>-1;)r.killChildTweensOf(e[f],t);else{o=[];for(a in h)for(u=h[a].target.parentNode;u;)u===e&&(o=o.concat(h[a].tweens)),u=u.parentNode;for(l=o.length,f=0;l>f;f++)t&&o[f].totalTime(o[f].totalDuration()),o[f]._enabled(!1,!1)}}};var l=function(e,n,r,i){void 0===n&&(n=!0),void 0===r&&(r=!0);for(var s,o,u=f(i),a=n&&r&&i,l=u.length;--l>-1;)o=u[l],(a||o instanceof t||(s=o.target===o.vars.onComplete)&&r||n&&!s)&&o.paused(e)};return r.pauseAll=function(e,t,n){l(!0,e,t,n)},r.resumeAll=function(e,t,n){l(!1,e,t,n)},o.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},o.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},o.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},o.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},o.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},o.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},o.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},r},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;for(var n,r,s=this.vars,o=i.length;--o>-1;)if(r=s[i[o]])for(n=r.length;--n>-1;)"{self}"===r[n]&&(r=s[i[o]]=r.concat(),r[n]=this);s.tweens instanceof Array&&this.add(s.tweens,0,s.align,s.stagger)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=function(e){var t,n={};for(t in e)n[t]=e[t];return n},u=r.prototype=new t;return r.version="1.9.2",u.constructor=r,u.kill()._gc=!1,u.to=function(e,t,r,i){return this.add(new n(e,t,r),i)},u.from=function(e,t,r,i){return this.add(n.from(e,t,r),i)},u.fromTo=function(e,t,r,i,s){return this.add(n.fromTo(e,t,r,i),s)},u.staggerTo=function(e,t,i,s,u,a,f,l){var h,p,v=new r({onComplete:a,onCompleteParams:f,onCompleteScope:l});for("string"==typeof e&&(e=n.selector(e)||e),!(e instanceof Array)&&"function"==typeof e.each&&e[0]&&e[0].nodeType&&e[0].style&&(p=[],e.each(function(){p.push(this)}),e=p),s=s||0,h=0;e.length>h;h++)i.startAt&&(i.startAt=o(i.startAt)),v.add(new n(e[h],t,o(i)),h*s);return this.add(v,u)},u.staggerFrom=function(e,t,n,r,i,s,o,u){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u)},u.staggerFromTo=function(e,t,n,r,i,s,o,u,a){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,r,i,s,o,u,a)},u.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},u.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var i,s,o=new r(e),u=o._timeline;for(null==t&&(t=!0),u._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=u._time,i=u._first;i;)s=i._next,t&&i instanceof n&&i.target===i.vars.onComplete||o.add(i,i._startTime-i._delay),i=s;return u.add(o,0),o},u.add=function(i,s,o,u){var f,l,h,p,v;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,i)),!(i instanceof e)){if(i instanceof Array){for(o=o||"normal",u=u||0,f=s,l=i.length,h=0;l>h;h++)(p=i[h])instanceof Array&&(p=new r({tweens:p})),this.add(p,f),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?f=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),f+=u;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,s);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline: it is neither a tween, timeline, function, nor a string.";i=n.delayedCall(0,i)}if(t.prototype.add.call(this,i,s),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(v=this;v._gc&&v._timeline;)v._timeline.smoothChildTiming?v.totalTime(v._totalTime,!0):v._enabled(!0,!1),v=v._timeline;return this},u.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},u.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},u.insert=u.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},u.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},u.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},u.removeLabel=function(e){return delete this._labels[e],this},u.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},u._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i instanceof Array)for(s=i.length;--s>-1;)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s]);if("string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof t&&null==this._labels[n]?t-this.duration():0,r);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n},u.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},u.stop=function(){return this.paused(!0)},u.gotoAndPlay=function(e,t){return this.play(e,t)},u.gotoAndStop=function(e,t){return this.pause(e,t)},u.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r,i,o,u,a,l=this._dirty?this.totalDuration():this._totalDuration,c=this._time,h=this._startTime,p=this._timeScale,d=this._paused;if(e>=l?(this._totalTime=this._time=l,this._reversed||this._hasPausedChild()||(i=!0,u="onComplete",0===this._duration&&(0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(a=!0)),this._rawPrevTime=e,e=l+1e-6):1e-7>e?(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime>0)&&(u="onReverseComplete",i=this._reversed),0>e?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&(a=!0)):this._initted||(a=!0),this._rawPrevTime=e):this._totalTime=this._time=this._rawPrevTime=e,this._time!==c||n||a){if(this._initted||(this._initted=!0),0===c&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s)),this._time>=c)for(r=this._first;r&&(o=r._next,!this._paused||d);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,!this._paused||d);)(r._active||c>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),u&&(this._gc||(h===this._startTime||p!==this._timeScale)&&(0===this._time||l>=this.totalDuration())&&(i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this.vars[u].apply(this.vars[u+"Scope"]||this,this.vars[u+"Params"]||s)))}},u._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},u.getChildren=function(e,t,r,i){i=i||-9999999999;for(var s=[],o=this._first,u=0;o;)i>o._startTime||(o instanceof n?t!==!1&&(s[u++]=o):(r!==!1&&(s[u++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},u.getTweensOf=function(e,t){for(var r=n.getTweensOf(e),i=r.length,s=[],o=0;--i>-1;)(r[i].timeline===this||t&&this._contains(r[i]))&&(s[o++]=r[i]);return s},u._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},u.shiftChildren=function(e,t,n){n=n||0;for(var r,i=this._first,s=this._labels;i;)i._startTime>=n&&(i._startTime+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return this._uncache(!0)},u._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(e,t)&&(i=!0);return i},u.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},u.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return this},u._enabled=function(e,n){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,n)},u.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},u.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},u.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,i=this._last,s=999999999999;i;)t=i._prev,i._dirty&&i.totalDuration(),i._startTime>s&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):s=i._startTime,0>i._startTime&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),s=0),n=i._startTime+i._totalDuration/i._timeScale,n>r&&(r=n),i=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},u.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},u.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=[],s=new n(null,null,1,0),o=function(e){for(;e;){if(e._paused)return!0;e=e._timeline}return!1},u=r.prototype=new e;return u.constructor=r,u.kill()._gc=!1,r.version="1.9.2",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},u.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},u.removeCallback=function(e,t){if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},u.tweenTo=function(e,n){n=n||{};var r,o,u={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(r in n)u[r]=n[r];return u.time=this._parseTimeOrLabel(e),o=new t(this,Math.abs(Number(u.time)-this._time)/this._timeScale||.001,u),u.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||o,n.onStartParams||i)},o},u.tweenFromTo=function(e,t,n){n=n||{},n.startAt={time:this._parseTimeOrLabel(e)};var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-r.vars.startAt.time)/this._timeScale||.001)},u.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r,s,o,u,a,f,l=this._dirty?this.totalDuration():this._totalDuration,c=this._duration,h=this._time,p=this._totalTime,d=this._startTime,v=this._timeScale,m=this._rawPrevTime,g=this._paused,y=this._cycle;if(e>=l?(this._locked||(this._totalTime=l,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,u="onComplete",0===c&&(0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(a=!0)),this._rawPrevTime=e,this._yoyo&&0!==(1&this._cycle)?this._time=e=0:(this._time=c,e=c+1e-6)):1e-7>e?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==h||0===c&&this._rawPrevTime>0&&!this._locked)&&(u="onReverseComplete",s=this._reversed),0>e?(this._active=!1,0===c&&this._rawPrevTime>=0&&(a=!0)):this._initted||(a=!0),this._rawPrevTime=e,e=0):(this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(f=c+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=c-this._time),this._time>c?(this._time=c,e=c+1e-6):0>this._time?this._time=e=0:e=this._time))),this._cycle!==y&&!this._locked){var b=this._yoyo&&0!==(1&y),w=b===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,S=this._cycle,x=this._rawPrevTime,T=this._time;this._totalTime=y*c,y>this._cycle?b=!b:this._totalTime+=c,this._time=h,this._rawPrevTime=0===c?m-1e-5:m,this._cycle=y,this._locked=!0,h=b?0:c,this.render(h,t,0===c),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i),w&&(h=b?c+1e-6:-0.000001,this.render(h,!0,!1)),this._time=T,this._totalTime=E,this._cycle=S,this._rawPrevTime=x,this._locked=!1}if(this._time===h&&!n&&!a)return p!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),void 0;if(this._initted||(this._initted=!0),0===p&&this.vars.onStart&&0!==this._totalTime&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i)),this._time>=h)for(r=this._first;r&&(o=r._next,!this._paused||g);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;else for(r=this._last;r&&(o=r._prev,!this._paused||g);)(r._active||h>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=o;this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),u&&(this._locked||this._gc||(d===this._startTime||v!==this._timeScale)&&(0===this._time||l>=this.totalDuration())&&(s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this.vars[u].apply(this.vars[u+"Scope"]||this,this.vars[u+"Params"]||i)))},u.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var r,i,s=[],u=this.getChildren(e,t,n),a=0,f=u.length;for(r=0;f>r;r++)i=u[r],i._paused||i._timeline._time>=i._startTime&&i._timeline._time<i._startTime+i._totalDuration/i._timeScale&&(o(i._timeline)||(s[a++]=i));return s},u.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),r=n.length;for(t=0;r>t;t++)if(n[t].time>e)return n[t].name;return null},u.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(e>t[n].time)return t[n].name;return null},u.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},u.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=Math.PI/180,n=[],r=[],i=[],s={},o=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;return i.b=a+(e-a)/4,s.b=c+p,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(c+h)/2,o.b=h-p,u.b=l+(r-l)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]},f=function(e,t,s,o,u){var f,l,c,h,p,d,v,m,g,y,b,w,E,S=e.length-1,x=0,T=e[0].a;for(f=0;S>f;f++)p=e[x],l=p.a,c=p.d,h=e[x+1].d,u?(b=n[f],w=r[f],E=.25*(w+b)*t/(o?.5:i[f]||.5),d=c-(c-l)*(o?.5*t:E/b),v=c+(h-c)*(o?.5*t:E/w),m=c-(d+(v-d)*(3*b/(b+w)+.5)/4)):(d=c-.5*(c-l)*t,v=c+.5*(h-c)*t,m=c-(d+v)/2),d+=m,v+=m,p.c=g=d,p.b=0!==f?T:T=p.a+.6*(p.c-p.a),p.da=c-l,p.ca=g-l,p.ba=T-l,s?(y=a(l,T,g,c),e.splice(x,1,y[0],y[1],y[2],y[3]),x+=4):x++,T=v;p=e[x],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,s&&(y=a(p.a,T,p.c,p.d),e.splice(x,1,y[0],y[1],y[2],y[3]))},l=function(e,t,i,s){var u,a,f,l,c,h,p=[];if(s)for(e=[s].concat(e),a=e.length;--a>-1;)"string"==typeof (h=e[a][t])&&"="===h.charAt(1)&&(e[a][t]=s[t]+Number(h.charAt(0)+h.substr(2)));if(u=e.length-2,0>u)return p[0]=new o(e[0][t],0,0,e[-1>u?0:1][t]),p;for(a=0;u>a;a++)f=e[a][t],l=e[a+1][t],p[a]=new o(f,0,0,l),i&&(c=e[a+2][t],n[a]=(n[a]||0)+(l-f)*(l-f),r[a]=(r[a]||0)+(c-l)*(c-l));return p[a]=new o(e[a][t],0,0,e[a+1][t]),p},c=function(e,t,o,a,c,h){var p,d,v,m,g,y,b,w,E={},S=[],x=h||e[0];c="string"==typeof c?","+c+",":u,null==t&&(t=1);for(d in e[0])S.push(d);if(e.length>1){for(w=e[e.length-1],b=!0,p=S.length;--p>-1;)if(d=S[p],Math.abs(x[d]-w[d])>.05){b=!1;break}b&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}for(n.length=r.length=i.length=0,p=S.length;--p>-1;)d=S[p],s[d]=-1!==c.indexOf(","+d+","),E[d]=l(e,d,s[d],h);for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p]),r[p]=Math.sqrt(r[p]);if(!a){for(p=S.length;--p>-1;)if(s[d])for(v=E[S[p]],y=v.length-1,m=0;y>m;m++)g=v[m+1].da/r[m]+v[m].da/n[m],i[m]=(i[m]||0)+g*g;for(p=i.length;--p>-1;)i[p]=Math.sqrt(i[p])}for(p=S.length,m=o?4:1;--p>-1;)d=S[p],v=E[d],f(v,t,o,a,s[d]),b&&(v.splice(0,m),v.splice(v.length-m,m));return E},h=function(e,t,n){t=t||"soft";var r,i,s,u,a,f,l,c,h,p,d,v={},m="cubic"===t?3:2,y="soft"===t,b=[];if(y&&n&&(e=[n].concat(e)),null==e||m+1>e.length)throw"invalid Bezier data";for(h in e[0])b.push(h);for(f=b.length;--f>-1;){for(h=b[f],v[h]=a=[],p=0,c=e.length,l=0;c>l;l++)r=null==n?e[l][h]:"string"==typeof (d=e[l][h])&&"="===d.charAt(1)?n[h]+Number(d.charAt(0)+d.substr(2)):Number(d),y&&l>1&&c-1>l&&(a[p++]=(r+a[p-2])/2),a[p++]=r;for(c=p-m+1,p=0,l=0;c>l;l+=m)r=a[l],i=a[l+1],s=a[l+2],u=2===m?0:a[l+3],a[p++]=d=3===m?new o(r,i,s,u):new o(r,(2*i+r)/3,(2*i+s)/3,s);a.length=p}return v},p=function(e,t,n){for(var r,i,s,o,u,a,f,l,c,h,p,d=1/n,v=e.length;--v>-1;)for(h=e[v],s=h.a,o=h.d-s,u=h.c-s,a=h.b-s,r=i=0,l=1;n>=l;l++)f=d*l,c=1-f,r=i-(i=(f*f*o+3*c*(f*u+c*a))*f),p=v*n+l-1,t[p]=(t[p]||0)+r*r},d=function(e,t){t=t>>0||6;var n,r,i,s,o=[],u=[],a=0,f=0,l=t-1,c=[],h=[];for(n in e)p(e[n],o,t);for(i=o.length,r=0;i>r;r++)a+=Math.sqrt(o[r]),s=r%t,h[s]=a,s===l&&(f+=a,s=r/t>>0,c[s]=h,u[s]=f,a=0,h=[]);return{length:f,lengths:u,segments:c}},v=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,i,s,o,u,a=t.values||[],f={},l=a[0],p=t.autoRotate||n.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(r in l)this._props.push(r);for(s=this._props.length;--s>-1;)r=this._props[s],this._overwriteProps.push(r),i=this._func[r]="function"==typeof e[r],f[r]=i?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),u||f[r]!==a[0][r]&&(u=f);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?c(a,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,u):h(a,t.type,f),this._segCount=this._beziers[r].length,this._timeRes){var v=d(this._beziers,this._timeRes);this._length=v.length,this._lengths=v.lengths,this._segments=v.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;)for(o=0;3>o;o++)r=p[s][o],this._func[r]="function"==typeof e[r]?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]:!1;return!0},set:function(t){var n,r,i,s,o,u,a,f,l,c,h=this._segCount,p=this._func,d=this._target;if(this._timeRes){if(l=this._lengths,c=this._curSeg,t*=this._length,i=this._li,t>this._l2&&h-1>i){for(f=h-1;f>i&&t>=(this._l2=l[++i]););this._l1=l[i-1],this._li=i,this._curSeg=c=this._segments[i],this._s2=c[this._s1=this._si=0]}else if(this._l1>t&&i>0){for(;i>0&&(this._l1=l[--i])>=t;);0===i&&this._l1>t?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=c=this._segments[i],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(n=i,t-=this._l1,i=this._si,t>this._s2&&c.length-1>i){for(f=c.length-1;f>i&&t>=(this._s2=c[++i]););this._s1=c[i-1],this._si=i}else if(this._s1>t&&i>0){for(;i>0&&(this._s1=c[--i])>=t;);0===i&&this._s1>t?this._s1=0:i++,this._s2=c[i],this._si=i}u=(i+(t-this._s1)/(this._s2-this._s1))*this._prec}else n=0>t?0:t>=1?h-1:h*t>>0,u=(t-n*(1/h))*h;for(r=1-u,i=this._props.length;--i>-1;)s=this._props[i],o=this._beziers[s][n],a=(u*u*o.da+3*r*(u*o.ca+r*o.ba))*u+o.a,this._round[s]&&(a=a+(a>0?.5:-0.5)>>0),p[s]?d[s](a):d[s]=a;if(this._autoRotate){var v,m,g,y,b,w,E,S=this._autoRotate;for(i=S.length;--i>-1;)s=S[i][2],w=S[i][3]||0,E=S[i][4]===!0?1:e,o=this._beziers[S[i][0]][n],v=this._beziers[S[i][1]][n],m=o.a+(o.b-o.a)*u,y=o.b+(o.c-o.b)*u,m+=(y-m)*u,y+=(o.c+(o.d-o.c)*u-y)*u,g=v.a+(v.b-v.a)*u,b=v.b+(v.c-v.b)*u,g+=(b-g)*u,b+=(v.c+(v.d-v.c)*u-b)*u,a=Math.atan2(b-g,y-m)*E+w,p[s]?d[s](a):d[s]=a}}}),m=v.prototype;v.bezierThrough=c,v.cubicToQuadratic=a,v._autoCSS=!0,v.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)},v._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(e){var n=e._internals,r=n._parseToProxy,i=n._setPluginRatio,s=n.CSSPropTween;n._registerComplexSpecialProp("bezier",{parser:function(e,n,o,u,a,f){n instanceof Array&&(n={values:n}),f=new v;var l,c,h,p=n.values,d=p.length-1,m=[],g={};if(0>d)return a;for(l=0;d>=l;l++)h=r(e,p[l],u,a,f,d!==l),m[l]=h.end;for(c in n)g[c]=n[c];return g.values=m,a=new s(e,"bezier",0,0,h.pt,2),a.data=h,a.plugin=f,a.setRatio=i,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(l=g.autoRotate===!0?0:Number(g.autoRotate)*t,g.autoRotate=null!=h.end.left?[["left","top","rotation",l,!0]]:null!=h.end.x?[["x","y","rotation",l,!0]]:!1),g.autoRotate&&(u._transform||u._enableTransforms(!1),h.autoRotate=u._target._gsTransform),f._onInitTween(h.proxy,g,u._tween),a}})}},m._roundProps=function(e,t){for(var n=this._overwriteProps,r=n.length;--r>-1;)(e[n[r]]||e.bezier||e.bezierThrough)&&(this._round[n[r]]=t)},m._kill=function(e){var t,n,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=r.length;--n>-1;)r[n]===t&&r.splice(n,1);return this._super._kill.call(this,e)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,r,i,s,o=function(){e.call(this,"css"),this._overwriteProps.length=0},u={},a=o.prototype=new e("css");a.constructor=o,o.version="1.9.2",o.API=2,o.defaultTransformPerspective=0,a="px",o.suffixMap={top:a,right:a,bottom:a,left:a,width:a,height:a,fontSize:a,padding:a,margin:a,perspective:a};var f,l,c,h,p,d,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,g=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/,E=/opacity:([^;]*)/,S=/alpha\(opacity *=.+?\)/i,x=/([A-Z])/g,T=/-([a-z])/gi,N=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(e,t){return t.toUpperCase()},k=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,A=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,O=/,(?=[^\)]*(?:\(|$))/gi,M=Math.PI/180,_=180/Math.PI,D={},P=document,H=P.createElement("div"),B=P.createElement("img"),j=o._internals={_specialProps:u},F=navigator.userAgent,I=function(){var e,t=F.indexOf("Android"),n=P.createElement("div");return c=-1!==F.indexOf("Safari")&&-1===F.indexOf("Chrome")&&(-1===t||Number(F.substr(t+8,1))>3),p=c&&6>Number(F.substr(F.indexOf("Version/")+8,1)),h=-1!==F.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(F),d=parseFloat(RegExp.$1),n.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",e=n.getElementsByTagName("a")[0],e?/^0.55/.test(e.style.opacity):!1}(),q=function(e){return w.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},R=function(e){window.console&&console.log(e)},U="",z="",W=function(e,t){t=t||H;var n,r,i=t.style;if(void 0!==i[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+e];);return r>=0?(z=3===r?"ms":n[r],U="-"+z.toLowerCase()+"-",z+e):null},X=P.defaultView?P.defaultView.getComputedStyle:function(){},V=o.getStyle=function(e,t,n,r,i){var s;return I||"opacity"!==t?(!r&&e.style[t]?s=e.style[t]:(n=n||X(e,null))?(e=n.getPropertyValue(t.replace(x,"-$1").toLowerCase()),s=e||n.length?e:n[t]):e.currentStyle&&(n=e.currentStyle,s=n[t]),null==i||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:i):q(e)},$=function(e,t,n){var r,i,s={},o=e._gsOverwrittenClassNamePT;if(o&&!n){for(;o;)o.setRatio(0),o=o._next;e._gsOverwrittenClassNamePT=null}if(t=t||X(e,null))if(r=t.length)for(;--r>-1;)s[t[r].replace(T,C)]=t.getPropertyValue(t[r]);else for(r in t)s[r]=t[r];else if(t=e.currentStyle||e.style)for(r in t)s[r.replace(T,C)]=t[r];return I||(s.opacity=q(e)),i=Et(e,t,!1),s.rotation=i.rotation*_,s.skewX=i.skewX*_,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.x=i.x,s.y=i.y,wt&&(s.z=i.z,s.rotationX=i.rotationX*_,s.rotationY=i.rotationY*_,s.scaleZ=i.scaleZ),s.filters&&delete s.filters,s},J=function(e,t,n,r){var i,s,o,u={},a=e.style;for(s in n)"cssText"!==s&&"length"!==s&&isNaN(s)&&t[s]!==(i=n[s])&&-1===s.indexOf("Origin")&&("number"==typeof i||"string"==typeof i)&&(u[s]=""!==i&&"auto"!==i&&"none"!==i||"string"!=typeof t[s]||""===t[s].replace(y,"")?i:0,void 0!==a[s]&&(o=new ft(a,s,a[s],o)));if(r)for(s in r)"className"!==s&&(u[s]=r[s]);return{difs:u,firstMPT:o}},K={width:["Left","Right"],height:["Top","Bottom"]},Q=["marginLeft","marginRight","marginTop","marginBottom"],G=function(e,t,n){var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),i=K[t],s=i.length;for(n=n||X(e,null);--s>-1;)r-=parseFloat(V(e,"padding"+i[s],n,!0))||0,r-=parseFloat(V(e,"border"+i[s]+"Width",n,!0))||0;return r},Y=function(e,t,n,r,i){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var s,o=k.test(t),u=e,a=H.style,f=0>n;return f&&(n=-n),"%"===r&&-1!==t.indexOf("border")?s=n/100*(o?e.clientWidth:e.clientHeight):(a.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;","%"!==r&&u.appendChild?a[o?"borderLeftWidth":"borderTopWidth"]=n+r:(u=e.parentNode||P.body,a[o?"width":"height"]=n+r),u.appendChild(H),s=parseFloat(H[o?"offsetWidth":"offsetHeight"]),u.removeChild(H),0!==s||i||(s=Y(e,t,n,r,!0))),f?-s:s},Z=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var n=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],i=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];return null==i?i="0":"center"===i&&(i="50%"),("center"===r||isNaN(parseFloat(r)))&&(r="50%"),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==i.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===i.charAt(1),t.ox=parseFloat(r.replace(y,"")),t.oy=parseFloat(i.replace(y,""))),r+" "+i+(n.length>2?" "+n[2]:"")},et=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},tt=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},nt=function(e,t,n,r){var i,s,o,u,a,f=1e-6;return null==e?a=t:"number"==typeof e?a=e*M:(i=2*Math.PI,s=e.split("_"),o=Number(s[0].replace(y,""))*(-1===e.indexOf("rad")?M:1)-("="===e.charAt(1)?0:t),u=s[1],u&&r&&(r[n]=t+o),"short"===u?(o%=i,o!==o%(i/2)&&(o=0>o?o+i:o-i)):"cw"===u&&0>o?o=(o+9999999999*i)%i-(0|o/i)*i:"ccw"===u&&o>0&&(o=(o-9999999999*i)%i-(0|o/i)*i),a=t+o),f>a&&a>-f&&(a=0),a},rt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},it=function(e,t,n){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(n-t)*e:.5>e?n:2>3*e?t+6*(n-t)*(2/3-e):t)+.5},st=function(e){var t,n,r,i,s,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),rt[e]?rt[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+t+t+n+n+r+r),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(v),i=Number(e[0])%360/360,s=Number(e[1])/100,o=Number(e[2])/100,n=.5>=o?o*(s+1):o+s-o*s,t=2*o-n,e.length>3&&(e[3]=Number(e[3])),e[0]=it(i+1/3,t,n),e[1]=it(i,t,n),e[2]=it(i-1/3,t,n),e):(e=e.match(v)||rt.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):rt.black},ot="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(a in rt)ot+="|"+a+"\\b";ot=RegExp(ot+")","gi");var ut=function(e,t,n,r){if(null==e)return function(e){return e};var i,s=t?(e.match(ot)||[""])[0]:"",o=e.split(s).join("").match(g)||[],u=e.substr(0,e.indexOf(o[0])),a=")"===e.charAt(e.length-1)?")":"",f=-1!==e.indexOf(" ")?" ":",",l=o.length,c=l>0?o[0].replace(v,""):"";return l?i=t?function(e){var t,h,p,d;if("number"==typeof e)e+=c;else if(r&&O.test(e)){for(d=e.replace(O,"|").split("|"),p=0;d.length>p;p++)d[p]=i(d[p]);return d.join(",")}if(t=(e.match(ot)||[s])[0],h=e.split(t).join("").match(g)||[],p=h.length,l>p--)for(;l>++p;)h[p]=n?h[(p-1)/2>>0]:o[p];return u+h.join(f)+f+t+a+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,h;if("number"==typeof e)e+=c;else if(r&&O.test(e)){for(s=e.replace(O,"|").split("|"),h=0;s.length>h;h++)s[h]=i(s[h]);return s.join(",")}if(t=e.match(g)||[],h=t.length,l>h--)for(;l>++h;)t[h]=n?t[(h-1)/2>>0]:o[h];return u+t.join(f)+a}:function(e){return e}},at=function(e){return e=e.split(","),function(t,n,r,i,s,o,u){var a,f=(n+"").split(" ");for(u={},a=0;4>a;a++)u[e[a]]=f[a]=f[a]||f[(a-1)/2>>0];return i.parse(t,u,s,o)}},ft=(j._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,r,i,s=this.data,o=s.proxy,u=s.firstMPT,a=1e-6;u;)t=o[u.v],u.r?t=t>0?t+.5>>0:t-.5>>0:a>t&&t>-a&&(t=0),u.t[u.p]=t,u=u._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===e)for(u=s.firstMPT;u;){if(n=u.t,n.type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.e=i}}else n.e=n.s+n.xs0;u=u._next}},function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),lt=(j._parseToProxy=function(e,t,n,r,i,s){var o,u,a,f,l,c=r,h={},p={},d=n._transform,v=D;for(n._transform=null,D=t,r=l=n.parse(e,t,r,i),D=v,s&&(n._transform=d,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(1>=r.type&&(u=r.p,p[u]=r.s+r.c,h[u]=r.s,s||(f=new ft(r,"s",u,f,r.r),r.c=0),1===r.type))for(o=r.l;--o>0;)a="xn"+o,u=r.p+"_"+a,p[u]=r.data[a],h[u]=r[a],s||(f=new ft(r,a,u,f,r.rxp[a]));r=r._next}return{proxy:h,end:p,firstMPT:f,pt:l}},j.CSSPropTween=function(e,t,r,i,o,u,a,f,l,c,h){this.t=e,this.p=t,this.s=r,this.c=i,this.n=a||"css_"+t,e instanceof lt||s.push(this.n),this.r=f,this.type=u||0,l&&(this.pr=l,n=!0),this.b=void 0===c?r:c,this.e=void 0===h?r+i:h,o&&(this._next=o,o._prev=this)}),ct=o.parseComplex=function(e,t,n,r,i,s,o,u,a,l){o=new lt(e,t,0,0,o,l?2:1,null,!1,u,n,r),r+="";var c,h,p,d,g,y,b,w,E,S,x,T,N=n.split(", ").join(",").split(" "),C=r.split(", ").join(",").split(" "),k=N.length,L=f!==!1;for((-1!==r.indexOf(",")||-1!==n.indexOf(","))&&(N=N.join(" ").replace(O,", ").split(" "),C=C.join(" ").replace(O,", ").split(" "),k=N.length),k!==C.length&&(N=(s||"").split(" "),k=N.length),o.plugin=a,o.setRatio=l,c=0;k>c;c++)if(d=N[c],g=C[c],w=parseFloat(d),w||0===w)o.appendXtra("",w,et(g,w),g.replace(m,""),L&&-1!==g.indexOf("px"),!0);else if(i&&("#"===d.charAt(0)||0===d.indexOf("rgb")||rt[d]||0===d.indexOf("hsl")))T=","===g.charAt(g.length-1)?"),":")",d=st(d),g=st(g),E=d.length+g.length>6,E&&!I&&0===g[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(C[c]).join("transparent")):(I||(E=!1),o.appendXtra(E?"rgba(":"rgb(",d[0],g[0]-d[0],",",!0,!0).appendXtra("",d[1],g[1]-d[1],",",!0).appendXtra("",d[2],g[2]-d[2],E?",":T,!0),E&&(d=4>d.length?1:d[3],o.appendXtra("",d,(4>g.length?1:g[3])-d,T,!1)));else if(y=d.match(v)){if(b=g.match(m),!b||b.length!==y.length)return o;for(p=0,h=0;y.length>h;h++)x=y[h],S=d.indexOf(x,p),o.appendXtra(d.substr(p,S-p),Number(x),et(b[h],x),"",L&&"px"===d.substr(S+x.length,2),0===h),p=S+x.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l?" "+d:d;if(-1!==r.indexOf("=")&&o.data){for(T=o.xs0+o.data.s,c=1;o.l>c;c++)T+=o["xs"+c]+o.data["xn"+c];o.e=T+o["xs"+c]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},ht=9;for(a=lt.prototype,a.l=a.pr=0;--ht>0;)a["xn"+ht]=0,a["xs"+ht]="";a.xs0="",a._next=a._prev=a.xfirst=a.data=a.plugin=a.setRatio=a.rxp=null,a.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;return o["xs"+u]+=s&&u?" "+e:e||"",n||0===u||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",u>0?(o.data["xn"+u]=t+n,o.rxp["xn"+u]=i,o["xn"+u]=t,o.plugin||(o.xfirst=new lt(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=i,o)):(o["xs"+u]+=t+(r||""),o)};var pt=function(e,t){t=t||{},this.p=t.prefix?W(e)||e:e,u[e]=u[this.p]=this,this.format=t.formatter||ut(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},dt=j._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var r,i,s=e.split(","),o=t.defaultValue;for(n=n||[o],r=0;s.length>r;r++)t.prefix=0===r&&t.prefix,t.defaultValue=n[r]||o,i=new pt(s[r],t)},vt=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";dt(e,{parser:function(e,n,r,i,s,o,a){var f=(window.GreenSockGlobals||window).com.greensock.plugins[t];return f?(f._cssRegister(),u[r].parse(e,n,r,i,s,o,a)):(R("Error: "+t+" js file not loaded."),s)}})}};a=pt.prototype,a.parseComplex=function(e,t,n,r,i,s){var o,u,a,f,l,c,h=this.keyword;if(this.multi&&(O.test(n)||O.test(t)?(u=t.replace(O,"|").split("|"),a=n.replace(O,"|").split("|")):h&&(u=[t],a=[n])),a){for(f=a.length>u.length?a.length:u.length,o=0;f>o;o++)t=u[o]=u[o]||this.dflt,n=a[o]=a[o]||this.dflt,h&&(l=t.indexOf(h),c=n.indexOf(h),l!==c&&(n=-1===c?a:u,n[o]+=" "+h));t=u.join(", "),n=a.join(", ")}return ct(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)},a.parse=function(e,t,n,r,s,o){return this.parseComplex(e.style,this.format(V(e,this.p,i,!1,this.dflt)),this.format(t),s,o)},o.registerSpecialProp=function(e,t,n){dt(e,{parser:function(e,r,i,s,o,u){var a=new lt(e,i,0,0,o,2,i,!1,n);return a.plugin=u,a.setRatio=t(e,r,s._tween,i),a},priority:n})};var mt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),gt=W("transform"),yt=U+"transform",bt=W("transformOrigin"),wt=null!==W("perspective"),Et=function(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,m,g=n?e._gsTransform||{skewY:0}:{skewY:0},y=0>g.scaleX,b=2e-5,w=1e5,E=-Math.PI+1e-4,S=Math.PI-1e-4,x=wt?parseFloat(V(e,bt,t,!1,"0 0 0").split(" ")[2])||g.zOrigin||0:0;for(gt?r=V(e,yt,t,!0):e.currentStyle&&(r=e.currentStyle.filter.match(L),r=r&&4===r.length?r[0].substr(4)+","+Number(r[2].substr(4))+","+Number(r[1].substr(4))+","+r[3].substr(4)+","+(g?g.x:0)+","+(g?g.y:0):null),i=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],s=i.length;--s>-1;)u=Number(i[s]),i[s]=(a=u-(u|=0))?(0|a*w+(0>a?-0.5:.5))/w+u:u;if(16===i.length){var T=i[8],N=i[9],C=i[10],k=i[12],A=i[13],O=i[14];if(g.zOrigin&&(O=-g.zOrigin,k=T*O-i[12],A=N*O-i[13],O=C*O+g.zOrigin-i[14]),!n||k!==g.x||A!==g.y||O!==g.z){var M,_,D,P,H,B,j,F,I=i[0],q=i[1],R=i[2],U=i[3],z=i[4],W=i[5],X=i[6],$=i[7],J=i[11],K=g.rotationX=Math.atan2(X,C),Q=E>K||K>S;K&&(H=Math.cos(-K),B=Math.sin(-K),M=z*H+T*B,_=W*H+N*B,D=X*H+C*B,P=$*H+J*B,T=z*-B+T*H,N=W*-B+N*H,C=X*-B+C*H,J=$*-B+J*H,z=M,W=_,X=D),K=g.rotationY=Math.atan2(T,I),K&&(j=E>K||K>S,H=Math.cos(-K),B=Math.sin(-K),M=I*H-T*B,_=q*H-N*B,D=R*H-C*B,P=U*H-J*B,N=q*B+N*H,C=R*B+C*H,J=U*B+J*H,I=M,q=_,R=D),K=g.rotation=Math.atan2(q,W),K&&(F=E>K||K>S,H=Math.cos(-K),B=Math.sin(-K),I=I*H+z*B,_=q*H+W*B,W=q*-B+W*H,X=R*-B+X*H,q=_),F&&Q?g.rotation=g.rotationX=0:F&&j?g.rotation=g.rotationY=0:j&&Q&&(g.rotationY=g.rotationX=0),g.scaleX=(Math.sqrt(I*I+q*q)*w+.5>>0)/w,g.scaleY=(Math.sqrt(W*W+N*N)*w+.5>>0)/w,g.scaleZ=(Math.sqrt(X*X+C*C)*w+.5>>0)/w,g.skewX=0,g.perspective=J?1/(0>J?-J:J):0,g.x=k,g.y=A,g.z=O}}else if(!wt||0===i.length||g.x!==i[4]||g.y!==i[5]||!g.rotationX&&!g.rotationY){var G=i.length>=6,Y=G?i[0]:1,Z=i[1]||0,et=i[2]||0,tt=G?i[3]:1;g.x=i[4]||0,g.y=i[5]||0,f=Math.sqrt(Y*Y+Z*Z),l=Math.sqrt(tt*tt+et*et),c=Y||Z?Math.atan2(Z,Y):g.rotation||0,h=et||tt?Math.atan2(et,tt)+c:g.skewX||0,p=f-Math.abs(g.scaleX||0),d=l-Math.abs(g.scaleY||0),Math.abs(h)>Math.PI/2&&Math.abs(h)<1.5*Math.PI&&(y?(f*=-1,h+=0>=c?Math.PI:-Math.PI,c+=0>=c?Math.PI:-Math.PI):(l*=-1,h+=0>=h?Math.PI:-Math.PI)),v=(c-g.rotation)%Math.PI,m=(h-g.skewX)%Math.PI,(void 0===g.skewX||p>b||-b>p||d>b||-b>d||v>E&&S>v&&0!==v*w>>0||m>E&&S>m&&0!==m*w>>0)&&(g.scaleX=f,g.scaleY=l,g.rotation=c,g.skewX=h),wt&&(g.rotationX=g.rotationY=g.z=0,g.perspective=parseFloat(o.defaultTransformPerspective)||0,g.scaleZ=1)}g.zOrigin=x;for(s in g)b>g[s]&&g[s]>-b&&(g[s]=0);return n&&(e._gsTransform=g),g},St=function(e){var t,n,r=this.data,i=-r.rotation,s=i+r.skewX,o=1e5,u=(Math.cos(i)*r.scaleX*o>>0)/o,a=(Math.sin(i)*r.scaleX*o>>0)/o,f=(Math.sin(s)*-r.scaleY*o>>0)/o,l=(Math.cos(s)*r.scaleY*o>>0)/o,c=this.t.style,h=this.t.currentStyle;if(h){n=a,a=-f,f=-n,t=h.filter,c.filter="";var p,v,m=this.t.offsetWidth,g=this.t.offsetHeight,y="absolute"!==h.position,E="progid:DXImageTransform.Microsoft.Matrix(M11="+u+", M12="+a+", M21="+f+", M22="+l,S=r.x,x=r.y;if(null!=r.ox&&(p=(r.oxp?.01*m*r.ox:r.ox)-m/2,v=(r.oyp?.01*g*r.oy:r.oy)-g/2,S+=p-(p*u+v*a),x+=v-(p*f+v*l)),y)p=m/2,v=g/2,E+=", Dx="+(p-(p*u+v*a)+S)+", Dy="+(v-(p*f+v*l)+x)+")";else{var T,N,C,k=8>d?1:-1;for(p=r.ieOffsetX||0,v=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>u?-u:u)*m+(0>a?-a:a)*g))/2+S),r.ieOffsetY=Math.round((g-((0>l?-l:l)*g+(0>f?-f:f)*m))/2+x),ht=0;4>ht;ht++)N=Q[ht],T=h[N],n=-1!==T.indexOf("px")?parseFloat(T):Y(this.t,N,parseFloat(T),T.replace(b,""))||0,C=n!==r[N]?2>ht?-r.ieOffsetX:-r.ieOffsetY:2>ht?p-r.ieOffsetX:v-r.ieOffsetY,c[N]=(r[N]=Math.round(n-C*(0===ht||2===ht?1:k)))+"px";E+=", sizingMethod='auto expand')"}c.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(A,E):E+" "+t,(0===e||1===e)&&1===u&&0===a&&0===f&&1===l&&(y&&-1===E.indexOf("Dx=0, Dy=0")||w.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf("gradient(")&&c.removeAttribute("filter"))}},xt=function(){var e,t,n,r,i,s,o,u,a,f=this.data,l=this.t.style,c=f.perspective,p=f.scaleX,d=0,v=0,m=0,g=0,y=f.scaleY,b=0,w=0,E=0,S=0,x=f.scaleZ,T=0,N=0,C=0,k=c?-1/c:0,L=f.rotation,A=f.zOrigin,O=",",M=1e5;h&&(o=l.top?"top":l.bottom?"bottom":parseFloat(V(this.t,"top",null,!1))?"bottom":"top",n=V(this.t,o,null,!1),u=parseFloat(n)||0,a=n.substr((u+"").length)||"px",f._ffFix=!f._ffFix,l[o]=(f._ffFix?u+.05:u-.05)+a),(L||f.skewX)&&(n=p*Math.cos(L),r=y*Math.sin(L),L-=f.skewX,d=p*-Math.sin(L),y*=Math.cos(L),p=n,g=r),L=f.rotationY,L&&(e=Math.cos(L),t=Math.sin(L),n=p*e,r=g*e,i=x*-t,s=k*-t,v=p*t,b=g*t,x*=e,k*=e,p=n,g=r,E=i,N=s),L=f.rotationX,L&&(e=Math.cos(L),t=Math.sin(L),n=d*e+v*t,r=y*e+b*t,i=S*e+x*t,s=C*e+k*t,v=d*-t+v*e,b=y*-t+b*e,x=S*-t+x*e,k=C*-t+k*e,d=n,y=r,S=i,C=s),A&&(T-=A,m=v*T,w=b*T,T=x*T+A),m=(n=(m+=f.x)-(m|=0))?(0|n*M+(0>n?-0.5:.5))/M+m:m,w=(n=(w+=f.y)-(w|=0))?(0|n*M+(0>n?-0.5:.5))/M+w:w,T=(n=(T+=f.z)-(T|=0))?(0|n*M+(0>n?-0.5:.5))/M+T:T,l[gt]="matrix3d("+(p*M>>0)/M+O+(g*M>>0)/M+O+(E*M>>0)/M+O+(N*M>>0)/M+O+(d*M>>0)/M+O+(y*M>>0)/M+O+(S*M>>0)/M+O+(C*M>>0)/M+O+(v*M>>0)/M+O+(b*M>>0)/M+O+(x*M>>0)/M+O+(k*M>>0)/M+O+m+O+w+O+T+O+(c?1+ -T/c:1)+")"},Tt=function(){var e,t,n,r,i,s,o,u,a,f=this.data,l=this.t,c=l.style;h&&(e=c.top?"top":c.bottom?"bottom":parseFloat(V(l,"top",null,!1))?"bottom":"top",t=V(l,e,null,!1),n=parseFloat(t)||0,r=t.substr((n+"").length)||"px",f._ffFix=!f._ffFix,c[e]=(f._ffFix?n+.05:n-.05)+r),f.rotation||f.skewX?(i=f.rotation,s=i-f.skewX,o=1e5,u=f.scaleX*o,a=f.scaleY*o,c[gt]="matrix("+(Math.cos(i)*u>>0)/o+","+(Math.sin(i)*u>>0)/o+","+(Math.sin(s)*-a>>0)/o+","+(Math.cos(s)*a>>0)/o+","+f.x+","+f.y+")"):c[gt]="matrix("+f.scaleX+",0,0,"+f.scaleY+","+f.x+","+f.y+")"};dt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation",{parser:function(e,t,n,r,s,o,u){if(r._transform)return s;var a,f,l,c,h,p,d,v=r._transform=Et(e,i,!0),m=e.style,g=1e-6,y=mt.length,b=u,w={};if("string"==typeof b.transform&&gt)l=m.cssText,m[gt]=b.transform,m.display="block",a=Et(e,null,!1),m.cssText=l;else if("object"==typeof b){if(a={scaleX:tt(null!=b.scaleX?b.scaleX:b.scale,v.scaleX),scaleY:tt(null!=b.scaleY?b.scaleY:b.scale,v.scaleY),scaleZ:tt(null!=b.scaleZ?b.scaleZ:b.scale,v.scaleZ),x:tt(b.x,v.x),y:tt(b.y,v.y),z:tt(b.z,v.z),perspective:tt(b.transformPerspective,v.perspective)},d=b.directionalRotation,null!=d)if("object"==typeof d)for(l in d)b[l]=d[l];else b.rotation=d;a.rotation=nt("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:v.rotation*_,v.rotation,"rotation",w),wt&&(a.rotationX=nt("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":v.rotationX*_||0,v.rotationX,"rotationX",w),a.rotationY=nt("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":v.rotationY*_||0,v.rotationY,"rotationY",w)),a.skewX=null==b.skewX?v.skewX:nt(b.skewX,v.skewX),a.skewY=null==b.skewY?v.skewY:nt(b.skewY,v.skewY),(f=a.skewY-v.skewY)&&(a.skewX+=f,a.rotation+=f)}for(h=v.z||v.rotationX||v.rotationY||a.z||a.rotationX||a.rotationY||a.perspective,h||null==b.scale||(a.scaleZ=1);--y>-1;)n=mt[y],c=a[n]-v[n],(c>g||-g>c||null!=D[n])&&(p=!0,s=new lt(v,n,v[n],c,s),n in w&&(s.e=w[n]),s.xs0=0,s.plugin=o,r._overwriteProps.push(s.n));return c=b.transformOrigin,(c||wt&&h&&v.zOrigin)&&(gt?(p=!0,c=(c||V(e,n,i,!1,"50% 50%"))+"",n=bt,s=new lt(m,n,0,0,s,-1,"css_transformOrigin"),s.b=m[n],s.plugin=o,wt?(l=v.zOrigin,c=c.split(" "),v.zOrigin=(c.length>2?parseFloat(c[2]):l)||0,s.xs0=s.e=m[n]=c[0]+" "+(c[1]||"50%")+" 0px",s=new lt(v,"zOrigin",0,0,s,-1,s.n),s.b=l,s.xs0=s.e=v.zOrigin):s.xs0=s.e=m[n]=c):Z(c+"",v)),p&&(r._transformType=h||3===this._transformType?3:2),s},prefix:!0}),dt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),dt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,s,o){t=this.format(t);var u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(v=parseFloat(e.offsetWidth),m=parseFloat(e.offsetHeight),u=t.split(" "),a=0;x.length>a;a++)this.p.indexOf("border")&&(x[a]=W(x[a])),c=l=V(e,x[a],i,!1,"0px"),-1!==c.indexOf(" ")&&(l=c.split(" "),c=l[0],l=l[1]),h=f=u[a],p=parseFloat(c),y=c.substr((p+"").length),b="="===h.charAt(1),b?(d=parseInt(h.charAt(0)+"1",10),h=h.substr(2),d*=parseFloat(h),g=h.substr((d+"").length-(0>d?1:0))||""):(d=parseFloat(h),g=h.substr((d+"").length)),""===g&&(g=r[n]||y),g!==y&&(w=Y(e,"borderLeft",p,y),E=Y(e,"borderTop",p,y),"%"===g?(c=100*(w/v)+"%",l=100*(E/m)+"%"):"em"===g?(S=Y(e,"borderLeft",1,"em"),c=w/S+"em",l=E/S+"em"):(c=w+"px",l=E+"px"),b&&(h=parseFloat(c)+d+g,f=parseFloat(l)+d+g)),o=ct(T,x[a],c+" "+l,h+" "+f,!1,"0px",o);return o},prefix:!0,formatter:ut("0px 0px 0px 0px",!1,!0)}),dt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,s,o){var u,a,f,l,c,h,p="background-position",v=i||X(e,null),m=this.format((v?d?v.getPropertyValue(p+"-x")+" "+v.getPropertyValue(p+"-y"):v.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),g=this.format(t);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(h=V(e,"backgroundImage").replace(N,""),h&&"none"!==h)){for(u=m.split(" "),a=g.split(" "),B.setAttribute("src",h),f=2;--f>-1;)m=u[f],l=-1!==m.indexOf("%"),l!==(-1!==a[f].indexOf("%"))&&(c=0===f?e.offsetWidth-B.width:e.offsetHeight-B.height,u[f]=l?parseFloat(m)/100*c+"px":100*(parseFloat(m)/c)+"%");m=u.join(" ")}return this.parseComplex(e.style,m,g,s,o)},formatter:Z}),dt("backgroundSize",{defaultValue:"0 0",formatter:Z}),dt("perspective",{defaultValue:"0px",prefix:!0}),dt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),dt("transformStyle",{prefix:!0}),dt("backfaceVisibility",{prefix:!0}),dt("margin",{parser:at("marginTop,marginRight,marginBottom,marginLeft")}),dt("padding",{parser:at("paddingTop,paddingRight,paddingBottom,paddingLeft")}),dt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,s,o){var u,a,f;return 9>d?(a=e.currentStyle,f=8>d?" ":",",u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")",t=this.format(t).split(",").join(f)):(u=this.format(V(e,this.p,i,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,u,t,s,o)}}),dt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),dt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),dt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,s,o){return this.parseComplex(e.style,this.format(V(e,"borderTopWidth",i,!1,"0px")+" "+V(e,"borderTopStyle",i,!1,"solid")+" "+V(e,"borderTopColor",i,!1,"#000")),this.format(t),s,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ot)||["#000"])[0]}}),dt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new lt(s,o,0,0,i,-1,n,!1,0,s[o],t)}});var Nt=function(e){var t,n=this.t,r=n.filter,i=this.s+this.c*e>>0;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")?(n.removeAttribute("filter"),t=!V(this.data,"filter")):(n.filter=r.replace(S,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity=100)"),-1===r.indexOf("opacity")?n.filter+=" alpha(opacity="+i+")":n.filter=r.replace(w,"opacity="+i))};dt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,s,o){var u,a=parseFloat(V(e,"opacity",i,!1,"1")),f=e.style;return t=parseFloat(t),"autoAlpha"===n&&(u=V(e,"visibility",i),1===a&&"hidden"===u&&0!==t&&(a=0),s=new lt(f,"visibility",0,0,s,-1,null,!1,0,0!==a?"visible":"hidden",0===t?"hidden":"visible"),s.xs0="visible",r._overwriteProps.push(s.n)),I?s=new lt(f,"opacity",a,t-a,s):(s=new lt(f,"opacity",100*a,100*(t-a),s),s.xn1="autoAlpha"===n?1:0,f.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=o,s.setRatio=Nt),s}});var Ct=function(e){if(1===e||0===e){this.t.className=1===e?this.e:this.b;for(var t=this.data,n=this.t.style,r=n.removeProperty?"removeProperty":"removeAttribute";t;)t.v?n[t.p]=t.v:n[r](t.p.replace(x,"-$1").toLowerCase()),t=t._next}else this.t.className!==this.b&&(this.t.className=this.b)};dt("className",{parser:function(e,t,r,s,o,u,a){var f,l,c=e.className,h=e.style.cssText;return o=s._classNamePT=new lt(e,r,0,0,o,2),o.setRatio=Ct,o.pr=-11,n=!0,o.b=c,o.e="="!==t.charAt(1)?t:"+"===t.charAt(0)?c+" "+t.substr(2):c.split(t.substr(2)).join(""),s._tween._duration&&(l=$(e,i,!0),e.className=o.e,f=J(e,l,$(e),a),e.className=c,o.data=f.firstMPT,e.style.cssText=h,o=o.xfirst=s.parse(e,f.difs,o,u)),o}});var kt=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration)for(var t,n="all"===this.e,r=this.t.style,i=n?r.cssText.split(";"):this.e.split(","),s=r.removeProperty?"removeProperty":"removeAttribute",o=i.length,a=u.transform.parse;--o>-1;)t=i[o],n&&(t=t.substr(0,t.indexOf(":")).split(" ").join("")),u[t]&&(t=u[t].parse===a?gt:u[t].p),t&&r[s](t.replace(x,"-$1").toLowerCase())};for(dt("clearProps",{parser:function(e,t,r,i,s){return s=new lt(e,r,0,0,s,2),s.setRatio=kt,s.e=t,s.pr=-10,s.data=i._tween,n=!0,s}}),a="bezier,throwProps,physicsProps,physics2D".split(","),ht=a.length;ht--;)vt(a[ht]);a=o.prototype,a._firstPT=null,a._onInitTween=function(e,t,u){if(!e.nodeType)return!1;this._target=e,this._tween=u,this._vars=t,f=t.autoRound,n=!1,r=t.suffixMap||o.suffixMap,i=X(e,""),s=this._overwriteProps;var a,h,d,v,m,g,y,b,w,S=e.style;if(l&&""===S.zIndex&&(a=V(e,"zIndex",i),("auto"===a||""===a)&&(S.zIndex=0)),"string"==typeof t&&(v=S.cssText,a=$(e,i),S.cssText=v+";"+t,a=J(e,a,$(e)).difs,!I&&E.test(t)&&(a.opacity=parseFloat(RegExp.$1)),t=a,S.cssText=v),this._firstPT=h=this.parse(e,t,null),this._transformType){for(w=3===this._transformType,gt?c&&(l=!0,""===S.zIndex&&(y=V(e,"zIndex",i),("auto"===y||""===y)&&(S.zIndex=0)),p&&(S.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):S.zoom=1,d=h;d&&d._next;)d=d._next;b=new lt(e,"transform",0,0,null,2),this._linkCSSP(b,null,d),b.setRatio=w&&wt?xt:gt?Tt:St,b.data=this._transform||Et(e,i,!0),s.pop()}if(n){for(;h;){for(g=h._next,d=v;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:m)?h._prev._next=h:v=h,(h._next=d)?d._prev=h:m=h,h=g}this._firstPT=v}return!0},a.parse=function(e,t,n,s){var o,a,l,c,h,p,d,v,m,g,y=e.style;for(o in t)p=t[o],a=u[o],a?n=a.parse(e,p,o,this,n,s,t):(h=V(e,o,i)+"",m="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&!p.indexOf("rgb")?(m||(p=st(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=ct(y,o,h,p,!0,"transparent",n,0,s)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(l=parseFloat(h),d=l||0===l?h.substr((l+"").length):"",(""===h||"auto"===h)&&("width"===o||"height"===o?(l=G(e,o,i),d="px"):(l="opacity"!==o?0:1,d="")),g=m&&"="===p.charAt(1),g?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),v=p.replace(b,"")):(c=parseFloat(p),v=m?p.substr((c+"").length)||"":""),""===v&&(v=r[o]||d),p=c||0===c?(g?c+l:c)+v:t[o],d!==v&&""!==v&&(c||0===c)&&(l||0===l)&&(l=Y(e,o,l,d),"%"===v?(l/=Y(e,o,100,"%")/100,l>100&&(l=100),t.strictUnits!==!0&&(h=l+"%")):"em"===v?l/=Y(e,o,1,"em"):(c=Y(e,o,c,v),v="px"),g&&(c||0===c)&&(p=c+l+v)),g&&(c+=l),!l&&0!==l||!c&&0!==c?p||"NaN"!=p+""&&null!=p?(n=new lt(y,o,c||l||0,0,n,-1,"css_"+o,!1,0,h,p),n.xs0="display"===o&&"none"===p?h:p):R("invalid "+o+" tween value: "+t[o]):(n=new lt(y,o,l,c-l,n,0,"css_"+o,f!==!1&&("px"===v||"zIndex"===o),0,h,p),n.xs0=v)):n=ct(y,o,h,p,!0,null,n,0,s)),s&&n&&!n.plugin&&(n.plugin=s);return n},a.setRatio=function(e){var t,n,r,i=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-0.000001)for(;i;){if(t=i.c*e+i.s,i.r?t=t>0?t+.5>>0:t-.5>>0:s>t&&t>-s&&(t=0),i.type)if(1===i.type)if(r=i.l,2===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+t+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+t+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(e);else i.t[i.p]=t+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(e),i=i._next;else for(;i;)2!==i.type?i.t[i.p]=i.e:i.setRatio(e),i=i._next},a._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2},a._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next),e._next=t,e._prev=n),e},a._kill=function(t){var n,r,i,s=t,o=!1;if(t.css_autoAlpha||t.css_alpha){s={};for(r in t)s[r]=t[r];s.css_opacity=1,s.css_autoAlpha&&(s.css_visibility=1)}return t.css_className&&(n=this._classNamePT)&&(i=n.xfirst,i&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=null),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._target._gsOverwrittenClassNamePT=this._linkCSSP(n,this._target._gsOverwrittenClassNamePT),this._classNamePT=null,o=!0),e.prototype._kill.call(this,s)||o};var Lt=function(e,t,n){var r,i,s,o;if(e.slice)for(i=e.length;--i>-1;)Lt(e[i],t,n);else for(r=e.childNodes,i=r.length;--i>-1;)s=r[i],o=s.type,s.style&&(t.push($(s)),n&&n.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Lt(s,t,n)};return o.cascadeTo=function(e,n,r){var i,s,o,u=t.to(e,n,r),a=[u],f=[],l=[],c=[],h=t._internals.reservedProps;for(e=u._targets||u.target,Lt(e,f,c),u.render(n,!0),Lt(e,l),u.render(0,!0),u._enabled(!0),i=c.length;--i>-1;)if(s=J(c[i],f[i],l[i]),s.firstMPT){s=s.difs;for(o in r)h[o]&&(s[o]=r[o]);a.push(t.to(c[i],n,s))}return a},e.activate([o]),o},!0),function(){var e=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=e.prototype;t._onInitAllProps=function(){for(var e,t,n,r=this._tween,i=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),s=i.length,o={},u=r._propLookup.roundProps;--s>-1;)o[i[s]]=1;for(s=i.length;--s>-1;)for(e=i[s],t=r._firstPT;t;)n=t._next,t.pg?t.t._roundProps(o,!0):t.n===e&&(this._add(t.t,e,t.s,t.c),n&&(n._prev=t._prev),t._prev?t._prev._next=n:r._firstPT===t&&(r._firstPT=n),t._next=t._prev=null,r._propLookup[e]=u),t=n;return!1},t._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(e,t){var n;if("function"!=typeof e.setAttribute)return!1;this._target=e,this._proxy={};for(n in t)this._addTween(this._proxy,n,parseFloat(e.getAttribute(n)),t[n],n),this._overwriteProps.push(n);return!0},set:function(e){this._super.setRatio.call(this,e);for(var t,n=this._overwriteProps,r=n.length;--r>-1;)t=n[r],this._target.setAttribute(t,this._proxy[t]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var n,r,i,s,o,u,a,f=t.useRadians===!0?2*Math.PI:360;for(n in t)"useRadians"!==n&&(u=(t[n]+"").split("_"),r=u[0],a=u[1],i=parseFloat("function"!=typeof e[n]?e[n]:e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]()),s=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?i+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,o=s-i,"short"===a?(o%=f,o!==o%(f/2)&&(o=0>o?o+f:o-f)):"cw"===a&&0>o?o=(o+9999999999*f)%f-(0|o/f)*f:"ccw"===a&&o>0&&(o=(o-9999999999*f)%f-(0|o/f)*f),this._addTween(e,n,i,i+o,n),this._overwriteProps.push(n));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r=window.GreenSockGlobals||window,i=r.com.greensock,s=2*Math.PI,o=Math.PI/2,u=i._class,a=function(t,n){var r=u("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},f=e.register||function(){},l=function(e,t,n,r){var i=u("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return f(i,e),i},c=function(t,n){var r=u("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},h=l("Back",c("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),c("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),c("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),p=u("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),d=p.prototype=new e;return d.constructor=p,d.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},p.ease=new p(.7,.7),d.config=p.config=function(e,t,n){return new p(e,t,n)},t=u("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),d=t.prototype=new e,d.constructor=t,d.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},d.config=t.config=function(e){return new t(e)},l("Bounce",a("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),a("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),a("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),l("Circ",a("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),a("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),a("CircInOut",function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,n,r){var i=u("easing."+t,function(e,t){this._p1=e||1,this._p2=t||r,this._p3=this._p2/s*(Math.asin(1/this._p1)||0)},!0),o=i.prototype=new e;return o.constructor=i,o.getRatio=n,o.config=function(e,t){return new i(e,t)},i},l("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*s/this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*s/this._p2))},.3),n("ElasticInOut",function(e){return 1>(e*=2)?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*s/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*s/this._p2)+1},.45)),l("Expo",a("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),a("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),a("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),l("Sine",a("SineOut",function(e){return Math.sin(e*o)}),a("SineIn",function(e){return-Math.cos(e*o)+1}),a("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)})),u("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),f(r.SlowMo,"SlowMo","ease,"),f(t,"SteppedEase","ease,"),h},!0)}),function(e){var t,n,r,i,s,o=e.GreenSockGlobals||e,u=function(e){var t,n=e.split("."),r=o;for(t=0;n.length>t;t++)r[n[t]]=r=r[n[t]]||{};return r},a=u("com.greensock"),f=function(){},l={},c=function(t,n,r,i){this.sc=l[t]?l[t].sc:[],l[t]=this,this.gsClass=null,this.func=r;var s=[];this.check=function(a){for(var f,h,p,d,v=n.length,m=v;--v>-1;)(f=l[n[v]]||new c(n[v],[])).gsClass?(s[v]=f.gsClass,m--):a&&f.sc.push(this);if(0===m&&r)for(h=("com.greensock."+t).split("."),p=h.pop(),d=u(h.join("."))[p]=this.gsClass=r.apply(r,s),i&&(o[p]=d,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+t.split(".").join("/"),[],function(){return d}):"undefined"!=typeof module&&module.exports&&(module.exports=d)),v=0;this.sc.length>v;v++)this.sc[v].check()},this.check(!0)},h=e._gsDefine=function(e,t,n,r){return new c(e,t,n,r)},p=a._class=function(e,t,n){return t=t||function(){},h(e,[],function(){return t},n),t};h.globals=o;var d=[0,0,1,1],v=[],m=p("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?d.concat(t):d},!0),g=m.map={},y=m.register=function(e,t,n,r){for(var i,s,o,u,f=t.split(","),l=f.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=f[l],i=r?p("easing."+s,null,!0):a.easing[s]||{},o=c.length;--o>-1;)u=c[o],g[s+"."+u]=g[u+s]=i[u]=e.getRatio?e:e[u]||new e};for(r=m.prototype,r._calcEnd=!1,r.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},t=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=t.length;--n>-1;)r=t[n]+",Power"+n,y(new m(null,null,1,n),r,"easeOut",!0),y(new m(null,null,2,n),r,"easeIn"+(0===n?",easeNone":"")),y(new m(null,null,3,n),r,"easeInOut");g.linear=a.easing.Linear.easeIn,g.swing=a.easing.Quad.easeInOut;var b=p("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});r=b.prototype,r.addEventListener=function(e,t,n,r,o){o=o||0;var u,a,f=this._listeners[e],l=0;for(null==f&&(this._listeners[e]=f=[]),a=f.length;--a>-1;)u=f[a],u.c===t&&u.s===n?f.splice(a,1):0===l&&o>u.pr&&(l=a+1);f.splice(l,0,{c:t,s:n,up:r,pr:o}),this!==i||s||i.wake()},r.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return r.splice(n,1),void 0},r.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(t=i.length,n=this._eventTarget;--t>-1;)r=i[t],r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n)};var w=e.requestAnimationFrame,E=e.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()};for(t=["ms","moz","webkit","o"],n=t.length;--n>-1&&!w;)w=e[t[n]+"RequestAnimationFrame"],E=e[t[n]+"CancelAnimationFrame"]||e[t[n]+"CancelRequestAnimationFrame"];p("Ticker",function(e,t){var n,r,o,u,a,l=this,c=S(),h=t!==!1&&w,p=function(e){l.time=(S()-c)/1e3,(!n||l.time>=a||e===!0)&&(l.frame++,a=l.time+u,l.dispatchEvent("tick")),e!==!0&&(o=r(p))};b.call(l),this.time=this.frame=0,this.tick=function(){p(!0)},this.sleep=function(){null!=o&&(h&&E?E(o):clearTimeout(o),r=f,o=null,l===i&&(s=!1))},this.wake=function(){o&&l.sleep(),r=0===n?f:h&&w?w:function(e){return setTimeout(e,1e3*u)},l===i&&(s=!0),p()},this.fps=function(e){return arguments.length?(n=e,u=1/(n||60),a=this.time+u,l.wake(),void 0):n},this.useRAF=function(e){return arguments.length?(h=e,l.fps(n),void 0):h},l.fps(e),setTimeout(function(){h&&!o&&l.useRAF(!1)},1e3)}),r=a.Ticker.prototype=new a.events.EventDispatcher,r.constructor=a.Ticker;var x=p("core.Animation",function(e,t){if(this.vars=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(this.vars.delay)||0,this._timeScale=1,this._active=this.vars.immediateRender===!0,this.data=this.vars.data,this._reversed=this.vars.reversed===!0,B){s||i.wake();var n=this.vars.useFrames?H:B;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});i=x.ticker=new a.Ticker,r=x.prototype,r._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1,r.play=function(e,t){return arguments.length&&this.seek(e,t),this.reversed(!1),this.paused(!1)},r.pause=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!0)},r.resume=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!1)},r.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},r.restart=function(e,t){return this.reversed(!1),this.paused(!1),this.totalTime(e?-this._delay:0,t!==!1)},r.reverse=function(e,t){return arguments.length&&this.seek(e||this.totalDuration(),t),this.reversed(!0),this.paused(!1)},r.render=function(){},r.invalidate=function(){return this},r._enabled=function(e,t){return s||i.wake(),this._gc=!e,this._active=e&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(){return this._enabled(!1,!1)},r.kill=function(e,t){return this._kill(e,t),this},r._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},r.eventCallback=function(e,t,n,r){if(null==e)return null;if("on"===e.substr(0,2)){var i,s=this.vars;if(1===arguments.length)return s[e];if(null==t)delete s[e];else if(s[e]=t,s[e+"Params"]=n,s[e+"Scope"]=r,n)for(i=n.length;--i>-1;)"{self}"===n[i]&&(n=s[e+"Params"]=n.concat(),n[i]=this);"onUpdate"===e&&(this._onUpdate=t)}return this},r.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},r.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},r.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this.totalTime(e,t)):this._time},r.totalTime=function(e,t){if(s||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),!r._active)for(;r._timeline;)r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==e&&this.render(e,t,!1)}return this},r.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},r.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||1e-6,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},r.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._totalTime,!0)),this):this._reversed},r.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){s||e||i.wake();var t=this._timeline.rawTime(),n=t-this._pauseTime;!e&&this._timeline.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=!e&&this._totalTime>0&&this._totalTime<this._totalDuration,e||0===n||this.render(this._time,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var T=p("core.SimpleTimeline",function(e){x.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});r=T.prototype=new x,r.constructor=T,r.kill()._gc=!1,r._first=r._last=null,r._sortChildren=!1,r.add=function(e,t){var n,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),n=this._last,this._sortChildren)for(r=e._startTime;n&&n._startTime>r;)n=n._prev;return n?(e._next=n._next,n._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=n,this._timeline&&this._uncache(!0),this},r.insert=r.add,r._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},r.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},r.rawTime=function(){return s||i.wake(),this._totalTime};var N=p("TweenLite",function(e,t,n){if(x.call(this,t,n),null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var r,i,s,o=e.jquery||"function"==typeof e.each&&e[0]&&e[0].nodeType&&e[0].style,u=this.vars.overwrite;if(this._overwrite=u=null==u?P[N.defaultOverwrite]:"number"==typeof u?u>>0:P[u],(o||e instanceof Array)&&"number"!=typeof e[0])for(this._targets=s=o&&!e.slice?k(e):e.slice(0),this._propLookup=[],this._siblings=[],r=0;s.length>r;r++)i=s[r],i?"string"!=typeof i?"function"==typeof i.each&&i[0]&&i[0].nodeType&&i[0].style?(s.splice(r--,1),this._targets=s=s.concat(k(i))):(this._siblings[r]=j(i,this,!1),1===u&&this._siblings[r].length>1&&F(i,this,null,1,this._siblings[r])):(i=s[r--]=N.selector(i),"string"==typeof i&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=j(e,this,!1),1===u&&this._siblings.length>1&&F(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),C=function(e){return"function"==typeof e.each&&e[0]&&e[0].nodeType&&e[0].style},k=function(e){var t=[];return e.each(function(){t.push(this)}),t},L=function(e,t){var n,r={};for(n in e)D[n]||n in t&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n||!(!O[n]||O[n]&&O[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r};r=N.prototype=new x,r.constructor=N,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=!1,N.version="1.9.2",N.defaultEase=r._ease=new m(null,null,1,1),N.defaultOverwrite="auto",N.ticker=i,N.autoSleep=!0,N.selector=e.$||e.jQuery||function(t){return e.$?(N.selector=e.$,e.$(t)):e.document?e.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var A=N._internals={},O=N._plugins={},M=N._tweenLookup={},_=0,D=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=x._rootFramesTimeline=new T,B=x._rootTimeline=new T;B._startTime=i.time,H._startTime=i.frame,B._active=H._active=!0,x._updateRoot=function(){if(B.render((i.time-B._startTime)*B._timeScale,!1,!1),H.render((i.frame-H._startTime)*H._timeScale,!1,!1),!(i.frame%120)){var e,t,n;for(n in M){for(t=M[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete M[n]}if(n=B._first,(!n||n._paused)&&N.autoSleep&&!H._first&&1===i._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||i.sleep()}}},i.addEventListener("tick",x._updateRoot);var j=function(e,t,n){var r,i,s=e._gsTweenID;if(M[s||(e._gsTweenID=s="t"+_++)]||(M[s]={target:e,tweens:[]}),t&&(r=M[s].tweens,r[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return M[s].tweens},F=function(e,t,n,r,i){var s,o,u,a;if(1===r||r>=4){for(a=i.length,s=0;a>s;s++)if((u=i[s])!==t)u._gc||u._enabled(!1,!1)&&(o=!0);else if(5===r)break;return o}var f,l=t._startTime+1e-10,c=[],h=0,p=0===t._duration;for(s=i.length;--s>-1;)(u=i[s])===t||u._gc||u._paused||(u._timeline!==t._timeline?(f=f||I(t,0,p),0===I(u,f,p)&&(c[h++]=u)):l>=u._startTime&&u._startTime+u.totalDuration()/u._timeScale+1e-10>l&&((p||!u._initted)&&2e-10>=l-u._startTime||(c[h++]=u)));for(s=h;--s>-1;)u=c[s],2===r&&u._kill(n,e)&&(o=!0),(2!==r||!u._firstPT&&u._initted)&&u._enabled(!1,!1)&&(o=!0);return o},I=function(e,t,n){for(var r=e._timeline,i=r._timeScale,s=e._startTime;r._timeline;){if(s+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return s/=i,s>t?s-t:n&&s===t||!e._initted&&2e-10>s-t?1e-10:(s+=e.totalDuration()/e._timeScale/i)>t?0:s-t-1e-10};r._init=function(){var e,t,n,r=this.vars,i=this._overwrittenProps,s=this._duration,o=r.ease;if(r.startAt){if(r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=N.to(this.target,0,r.startAt),r.immediateRender&&(this._startAt=null,0===this._time&&0!==s))return}else if(r.runBackwards&&r.immediateRender&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time)return r.overwrite=r.delay=0,r.runBackwards=!1,this._startAt=N.to(this.target,0,r),r.overwrite=this._overwrite,r.runBackwards=!0,r.delay=this._delay,void 0;if(this._ease=o?o instanceof m?r.easeParams instanceof Array?o.config.apply(o,r.easeParams):o:"function"==typeof o?new m(o,r.easeParams):g[o]||N.defaultEase:N.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],i?i[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,i);if(t&&N._onPluginEvent("_onInitAllProps",this),i&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=r.onUpdate,this._initted=!0},r._initProps=function(e,t,n,r){var i,s,o,u,a,f,l;if(null==e)return!1;this.vars.css||e.style&&e.nodeType&&O.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(i in this.vars){if(D[i]){if(("onStartParams"===i||"onUpdateParams"===i||"onCompleteParams"===i||"onReverseCompleteParams"===i||"onRepeatParams"===i)&&(a=this.vars[i]))for(s=a.length;--s>-1;)"{self}"===a[s]&&(a=this.vars[i]=a.concat(),a[s]=this)}else if(O[i]&&(u=new O[i])._onInitTween(e,this.vars[i],this)){for(this._firstPT=f={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:u._priority},s=u._overwriteProps.length;--s>-1;)t[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(o=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=t[i]=f={_next:this._firstPT,t:e,p:i,f:"function"==typeof e[i],n:i,pg:!1,pr:0},f.s=f.f?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),l=this.vars[i],f.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-f.s||0;f&&f._next&&(f._next._prev=f)}return r&&this._kill(r,e)?this._initProps(e,t,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&F(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r)):o},r.render=function(e,t,n){var r,i,s,o=this._time;if(e>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete"),0===this._duration&&((0===e||0>this._rawPrevTime)&&this._rawPrevTime!==e&&(n=!0),this._rawPrevTime=e);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===this._duration&&this._rawPrevTime>0)&&(i="onReverseComplete",r=this._reversed),0>e?(this._active=!1,0===this._duration&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/this._duration,a=this._easeType,f=this._easePower;(1===a||3===a&&u>=.5)&&(u=1-u),3===a&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===a?1-u:2===a?u:.5>e/this._duration?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/this._duration);if(this._time!==o||n){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!r?this.ratio=this._ease.getRatio(this._time/this._duration):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||this._paused||(this._active=!0),0===o&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===this._duration)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||v))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v)),i&&(this._gc||(0>e&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||v)))}},r._kill=function(e,t){if("all"===e&&(e=null),null!=e||null!=t&&t!==this.target){t="string"!=typeof t?t||this._targets||this.target:N.selector(t)||t;var n,r,i,s,o,u,a,f;if((t instanceof Array||C(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n])&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){a=e||o,f=e!==r&&"all"!==r&&e!==o&&(null==e||e._tempKill!==!0);for(i in a)(s=o[i])&&(s.pg&&s.t._kill(a)&&(u=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[i]),f&&(r[i]=1);this._firstPT||this._enabled(!1,!1)}}return u}return this._enabled(!1,!1)},r.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},r._enabled=function(e,t){if(s||i.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=j(r[n],this,!0);else this._siblings=j(this.target,this,!0)}return x.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?N._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},N.to=function(e,t,n){return new N(e,t,n)},N.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new N(e,t,n)},N.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new N(e,t,r)},N.delayedCall=function(e,t,n,r,i){return new N(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})},N.set=function(e,t){return new N(e,0,t)},N.killTweensOf=N.killDelayedCallsTo=function(e,t){for(var n=N.getTweensOf(e),r=n.length;--r>-1;)n[r]._kill(t,e)},N.getTweensOf=function(e){if(null!=e){e="string"!=typeof e?e:N.selector(e)||e;var t,n,r,i;if((e instanceof Array||C(e))&&"number"!=typeof e[0]){for(t=e.length,n=[];--t>-1;)n=n.concat(N.getTweensOf(e[t]));for(t=n.length;--t>-1;)for(i=n[t],r=t;--r>-1;)i===n[r]&&n.splice(t,1)}else for(n=j(e).concat(),t=n.length;--t>-1;)n[t]._gc&&n.splice(t,1);return n}};var q=p("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=q.prototype},!0);if(r=q.prototype,q.version="1.9.1",q.API=2,r._firstPT=null,r._addTween=function(e,t,n,r,i,s){var o,u;null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))&&(this._firstPT=u={_next:this._firstPT,t:e,p:t,s:n,c:o,f:"function"==typeof e[t],n:i||t,r:s},u._next&&(u._next._prev=u))},r.setRatio=function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.c*e+n.s,n.r?t=t+(t>0?.5:-0.5)>>0:r>t&&t>-r&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next},r._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},r._roundProps=function(e,t){for(var n=this._firstPT;n;)(e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&(n.r=t),n=n._next},N._onPluginEvent=function(e,t){var n,r,i,s,o,u=t._firstPT;if("_onInitAllProps"===e){for(;u;){for(o=u._next,r=i;r&&r.pr>u.pr;)r=r._next;(u._prev=r?r._prev:s)?u._prev._next=u:i=u,(u._next=r)?r._prev=u:s=u,u=o}u=t._firstPT=i}for(;u;)u.pg&&"function"==typeof u.t[e]&&u.t[e]()&&(n=!0),u=u._next;return n},q.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===q.API&&(O[(new e[t])._propName]=e[t]);return!0},h.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=p("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){q.call(this,n,r),this._overwriteProps=i||[]},e.global===!0),u=o.prototype=new q(n);u.constructor=o,o.API=e.API;for(t in s)"function"==typeof e[t]&&(u[s[t]]=e[t]);return o.version=e.version,q.activate([o]),o},t=e._gsQueue){for(n=0;t.length>n;n++)t[n]();for(r in l)l[r].func||e.console.log("GSAP encountered missing dependency: com.greensock."+r)}s=!1}(window),define("TweenMax",function(){});var Pixastic=function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(t){var n=!1,r=function(){n||(n=!0,t())};document.write('<script defer src="//:" id="__onload_ie_pixastic__"></script>');var i=document.getElementById("__onload_ie_pixastic__");i.onreadystatechange=function(){i.readyState=="complete"&&(i.parentNode.removeChild(i),r())},document.addEventListener&&document.addEventListener("DOMContentLoaded",r,!1),e(window,"load",r)}function n(){var e=r("pixastic",null,"img"),t=r("pixastic",null,"canvas"),n=e.concat(t);for(var i=0;i<n.length;i++)(function(){var e=n[i],t=[],r=e.className.split(" ");for(var s=0;s<r.length;s++){var o=r[s];if(o.substring(0,9)=="pixastic-"){var u=o.substring(9);u!=""&&t.push(u)}}if(t.length)if(e.tagName.toLowerCase()=="img"){var a=new Image;a.src=e.src;if(a.complete)for(var f=0;f<t.length;f++){var l=Pixastic.applyAction(e,e,t[f],null);l&&(e=l)}else a.onload=function(){for(var n=0;n<t.length;n++){var r=Pixastic.applyAction(e,e,t[n],null);r&&(e=r)}}}else setTimeout(function(){for(var n=0;n<t.length;n++){var r=Pixastic.applyAction(e,e,t[n],null);r&&(e=r)}},1)})()}function r(e,t,n){var r=new Array;t==null&&(t=document),n==null&&(n="*");var s=t.getElementsByTagName(n),o=s.length,u=new RegExp("(^|\\s)"+e+"(\\s|$)");for(i=0,j=0;i<o;i++)u.test(s[i].className)&&(r[j]=s[i],j++);return r}function o(e,t){if(!Pixastic.debug)return;try{switch(t){case"warn":console.warn("Pixastic:",e);break;case"error":console.error("Pixastic:",e);break;default:console.log("Pixastic:",e)}}catch(n){}!s}typeof pixastic_parseonload!="undefined"&&pixastic_parseonload&&t(n);var s,u=function(){var e=document.createElement("canvas"),t=!1;try{t=typeof e.getContext=="function"&&!!e.getContext("2d")}catch(n){}return function(){return t}}(),a=function(){var e=document.createElement("canvas"),t=!1,n;try{typeof e.getContext=="function"&&(n=e.getContext("2d"))&&(t=typeof n.getImageData=="function")}catch(r){}return function(){return t}}(),f=function(){var e=!1,t=document.createElement("canvas");if(u()&&a()){t.width=t.height=1;var n=t.getContext("2d");n.fillStyle="rgb(255,0,0)",n.fillRect(0,0,1,1);var r=document.createElement("canvas");r.width=r.height=1;var i=r.getContext("2d");i.fillStyle="rgb(0,0,255)",i.fillRect(0,0,1,1),n.globalAlpha=.5,n.drawImage(r,0,0);var s=n.getImageData(0,0,1,1).data;e=s[2]!=255}return function(){return e}}();return{parseOnLoad:!1,debug:!1,applyAction:function(e,t,n,r){r=r||{};var i=e.tagName.toLowerCase()=="canvas";if(i&&Pixastic.Client.isIE())return Pixastic.debug&&o("Tried to process a canvas element but browser is IE."),!1;var s,u,a=!1;Pixastic.Client.hasCanvas()&&(a=!!r.resultCanvas,s=r.resultCanvas||document.createElement("canvas"),u=s.getContext("2d"));var f=e.offsetWidth,l=e.offsetHeight;i&&(f=e.width,l=e.height);if(f==0||l==0){if(e.parentNode!=null){Pixastic.debug&&o("Image has 0 width and/or height.");return}var c=e.style.position,h=e.style.left;e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),f=e.offsetWidth,l=e.offsetHeight,document.body.removeChild(e),e.style.position=c,e.style.left=h}if(n.indexOf("(")>-1){var p=n;n=p.substr(0,p.indexOf("("));var d=p.match(/\((.*?)\)/);if(d[1]){d=d[1].split(";");for(var v=0;v<d.length;v++){thisArg=d[v].split("=");if(thisArg.length==2)if(thisArg[0]=="rect"){var m=thisArg[1].split(",");r[thisArg[0]]={left:parseInt(m[0],10)||0,top:parseInt(m[1],10)||0,width:parseInt(m[2],10)||0,height:parseInt(m[3],10)||0}}else r[thisArg[0]]=thisArg[1]}}}r.rect?(r.rect.left=Math.round(r.rect.left),r.rect.top=Math.round(r.rect.top),r.rect.width=Math.round(r.rect.width),r.rect.height=Math.round(r.rect.height)):r.rect={left:0,top:0,width:f,height:l};var g=!1;Pixastic.Actions[n]&&typeof Pixastic.Actions[n].process=="function"&&(g=!0);if(!g)return Pixastic.debug&&o('Invalid action "'+n+'". Maybe file not included?'),!1;if(!Pixastic.Actions[n].checkSupport())return Pixastic.debug&&o('Action "'+n+'" not supported by this browser.'),!1;Pixastic.Client.hasCanvas()?(s!==e&&(s.width=f,s.height=l),a||(s.style.width=f+"px",s.style.height=l+"px"),u.drawImage(t,0,0,f,l),e.__pixastic_org_image?(s.__pixastic_org_image=e.__pixastic_org_image,s.__pixastic_org_width=e.__pixastic_org_width,s.__pixastic_org_height=e.__pixastic_org_height):(s.__pixastic_org_image=e,s.__pixastic_org_width=f,s.__pixastic_org_height=l)):Pixastic.Client.isIE()&&typeof e.__pixastic_org_style=="undefined"&&(e.__pixastic_org_style=e.style.cssText);var y={image:e,canvas:s,width:f,height:l,useData:!0,options:r},b=Pixastic.Actions[n].process(y);return b?Pixastic.Client.hasCanvas()?(y.useData&&Pixastic.Client.hasCanvasImageData()&&(s.getContext("2d").putImageData(y.canvasData,r.rect.left,r.rect.top),s.getContext("2d").fillRect(0,0,0,0)),r.leaveDOM||(s.title=e.title,s.imgsrc=e.imgsrc,i||(s.alt=e.alt),i||(s.imgsrc=e.src),s.className=e.className,s.style.cssText=e.style.cssText,s.name=e.name,s.tabIndex=e.tabIndex,s.id=e.id,e.parentNode&&e.parentNode.replaceChild&&e.parentNode.replaceChild(s,e)),r.resultCanvas=s,s):e:!1},prepareData:function(e,t){var n=e.canvas.getContext("2d"),r=e.options.rect,i=n.getImageData(r.left,r.top,r.width,r.height),s=i.data;return t||(e.canvasData=i),s},process:function(e,t,n,r){if(e.tagName.toLowerCase()=="img"){var i=new Image;i.src=e.src;if(i.complete){var s=Pixastic.applyAction(e,i,t,n);return r&&r(s),s}i.onload=function(){var s=Pixastic.applyAction(e,i,t,n);r&&r(s)}}if(e.tagName.toLowerCase()=="canvas"){var s=Pixastic.applyAction(e,e,t,n);return r&&r(s),s}},revert:function(e){if(Pixastic.Client.hasCanvas()){if(e.tagName.toLowerCase()=="canvas"&&e.__pixastic_org_image)return e.width=e.__pixastic_org_width,e.height=e.__pixastic_org_height,e.getContext("2d").drawImage(e.__pixastic_org_image,0,0),e.parentNode&&e.parentNode.replaceChild&&e.parentNode.replaceChild(e.__pixastic_org_image,e),e}else Pixastic.Client.isIE()&&typeof e.__pixastic_org_style!="undefined"&&(e.style.cssText=e.__pixastic_org_style)},Client:{hasCanvas:u,hasCanvasImageData:a,hasGlobalAlpha:f,isIE:function(){var e=navigator.userAgent.toLowerCase(),t=(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],n=/msie/.test(e)&&!/opera/.test(e);return n&&t>=9?!1:!!document.all&&!!window.attachEvent&&!window.opera}},Actions:{}}}();typeof jQuery!="undefined"&&jQuery&&jQuery.fn&&(jQuery.fn.pixastic=function(e,t){var n=[];return this.each(function(){if(this.tagName.toLowerCase()=="img"&&!this.complete)return;var r=Pixastic.process(this,e,t);r&&n.push(r)}),n.length>0?jQuery(n):this}),Pixastic.Actions.desaturate={process:function(e){var t=!!e.options.average&&e.options.average!="false";if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e),r=e.options.rect,i=r.width,s=r.height,o=i*s,u=o*4,a,f;if(t)while(o--)n[u-=4]=n[a=u+1]=n[f=u+2]=(n[u]+n[a]+n[f])/3;else while(o--)n[u-=4]=n[a=u+1]=n[f=u+2]=n[u]*.3+n[a]*.59+n[f]*.11;return!0}if(Pixastic.Client.isIE())return e.image.style.filter+=" gray",!0},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()||Pixastic.Client.isIE()}},Pixastic.Actions.edges={process:function(e){var t=!!e.options.mono&&e.options.mono!="false",n=!!e.options.invert&&e.options.invert!="false";if(Pixastic.Client.hasCanvasImageData()){var r=Pixastic.prepareData(e),i=Pixastic.prepareData(e,!0),s=-1/8,o=[[s,s,s],[s,1,s],[s,s,s]];weight=1/s;var u=e.options.rect,a=u.width,f=u.height,l=a*4,c=f;do{var h=(c-1)*l,p=c==f?c-1:c,d=c==1?0:c-2,v=d*a*4,m=p*a*4,g=a;do{var y=h+(g*4-4),b=v+(g==1?0:g-2)*4,w=m+(g==a?g-1:g)*4,E=((i[b-4]+i[b]+i[b+4]+i[y-4]+i[y+4]+i[w-4]+i[w]+i[w+4])*s+i[y])*weight,S=((i[b-3]+i[b+1]+i[b+5]+i[y-3]+i[y+5]+i[w-3]+i[w+1]+i[w+5])*s+i[y+1])*weight,x=((i[b-2]+i[b+2]+i[b+6]+i[y-2]+i[y+6]+i[w-2]+i[w+2]+i[w+6])*s+i[y+2])*weight;if(t){var T=E*.3+S*.59+x*.11||0;n&&(T=255-T),T<0&&(T=0),T>255&&(T=255),E=S=x=T}else n&&(E=255-E,S=255-S,x=255-x),E<0&&(E=0),S<0&&(S=0),x<0&&(x=0),E>255&&(E=255),S>255&&(S=255),x>255&&(x=255);r[y]=E,r[y+1]=S,r[y+2]=x}while(--g)}while(--c);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.edges2={process:function(e){if(Pixastic.Client.hasCanvasImageData()){var t=Pixastic.prepareData(e),n=Pixastic.prepareData(e,!0),r=e.options.rect,i=r.width,s=r.height,o=i*4,u=o+4,a=s-1,f=i-1;for(var l=1;l<a;++l){var c=u-4,h=c-o,p=c+o,d=-n[h]-n[c]-n[p],v=-n[++h]-n[++c]-n[++p],m=-n[++h]-n[++c]-n[++p],g=n[h+=2],y=n[++h],b=n[++h],w=n[c+=2],E=n[++c],S=n[++c],x=n[p+=2],T=n[++p],N=n[++p],C=-g-w-x,k=-y-E-T,L=-b-S-N;for(var A=1;A<f;++A){c=u+4,h=c-o,p=c+o;var O=127+d-g-w*-8-x,M=127+v-y-E*-8-T,_=127+m-b-S*-8-N;d=C,v=k,m=L,g=n[h],y=n[++h],b=n[++h],w=n[c],E=n[++c],S=n[++c],x=n[p],T=n[++p],N=n[++p],O+=C=-g-w-x,M+=k=-y-E-T,_+=L=-b-S-N,O>255&&(O=255),M>255&&(M=255),_>255&&(_=255),O<0&&(O=0),M<0&&(M=0),_<0&&(_=0),t[u]=O,t[++u]=M,t[++u]=_,u+=2}u+=8}return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.emboss={process:function(e){var t=parseFloat(e.options.strength)||1,n=typeof e.options.greyLevel!="undefined"?parseInt(e.options.greyLevel):180,r=e.options.direction||"topleft",i=!!e.options.blend&&e.options.blend!="false",s=0,o=0;switch(r){case"topleft":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"topright":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottomright":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottomleft":s=1,o=-1;break;case"left":s=0,o=-1}if(Pixastic.Client.hasCanvasImageData()){var u=Pixastic.prepareData(e),a=Pixastic.prepareData(e,!0),f=!!e.options.invertAlpha,l=e.options.rect,c=l.width,h=l.height,p=c*4,d=h;do{var v=(d-1)*p,m=s;d+m<1&&(m=0),d+m>h&&(m=0);var g=(d-1+m)*c*4,y=c;do{var b=v+(y-1)*4,w=o;y+w<1&&(w=0),y+w>c&&(w=0);var E=g+(y-1+w)*4,S=a[b]-a[E],x=a[b+1]-a[E+1],T=a[b+2]-a[E+2],N=S,C=N>0?N:-N,k=x>0?x:-x,L=T>0?T:-T;k>C&&(N=x),L>C&&(N=T),N*=t;if(i){var A=u[b]+N,O=u[b+1]+N,M=u[b+2]+N;u[b]=A>255?255:A<0?0:A,u[b+1]=O>255?255:O<0?0:O,u[b+2]=M>255?255:M<0?0:M}else{var _=n-N;_<0?_=0:_>255&&(_=255),u[b]=u[b+1]=u[b+2]=_}}while(--y)}while(--d);return!0}if(Pixastic.Client.isIE())return e.image.style.filter+=" progid:DXImageTransform.Microsoft.emboss()",!0},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()||Pixastic.Client.isIE()}},Pixastic.Actions.flip={process:function(e){var t=e.options.rect,n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e.image,t.left,t.top,t.width,t.height,0,0,t.width,t.height);var r=e.canvas.getContext("2d");return r.clearRect(t.left,t.top,t.width,t.height),e.options.axis=="horizontal"?(r.scale(-1,1),r.drawImage(n,-t.left-t.width,t.top,t.width,t.height)):(r.scale(1,-1),r.drawImage(n,t.left,-t.top-t.height,t.width,t.height)),e.useData=!1,!0},checkSupport:function(){return Pixastic.Client.hasCanvas()}},Pixastic.Actions.fliph={process:function(e){if(Pixastic.Client.hasCanvas()){var t=e.options.rect,n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e.image,t.left,t.top,t.width,t.height,0,0,t.width,t.height);var r=e.canvas.getContext("2d");return r.clearRect(t.left,t.top,t.width,t.height),r.scale(-1,1),r.drawImage(n,-t.left-t.width,t.top,t.width,t.height),e.useData=!1,!0}if(Pixastic.Client.isIE())return e.image.style.filter+=" fliph",!0},checkSupport:function(){return Pixastic.Client.hasCanvas()||Pixastic.Client.isIE()}},Pixastic.Actions.flipv={process:function(e){if(Pixastic.Client.hasCanvas()){var t=e.options.rect,n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e.image,t.left,t.top,t.width,t.height,0,0,t.width,t.height);var r=e.canvas.getContext("2d");return r.clearRect(t.left,t.top,t.width,t.height),r.scale(1,-1),r.drawImage(n,t.left,-t.top-t.height,t.width,t.height),e.useData=!1,!0}if(Pixastic.Client.isIE())return e.image.style.filter+=" flipv",!0},checkSupport:function(){return Pixastic.Client.hasCanvas()||Pixastic.Client.isIE()}},Pixastic.Actions.glow={process:function(e){var t=parseFloat(e.options.amount)||0,n=parseFloat(e.options.radius)||0;t=Math.min(1,Math.max(0,t)),n=Math.min(5,Math.max(0,n));if(Pixastic.Client.hasCanvasImageData()){var r=e.options.rect,i=document.createElement("canvas");i.width=e.width,i.height=e.height;var s=i.getContext("2d");s.drawImage(e.canvas,0,0);var o=2,u=Math.round(e.width/o),a=Math.round(e.height/o),f=document.createElement("canvas");f.width=u,f.height=a;var l=!0,c=Math.round(n*20),h=f.getContext("2d");for(var p=0;p<c;p++){var d=Math.max(1,Math.round(u-p)),v=Math.max(1,Math.round(a-p));h.clearRect(0,0,u,a),h.drawImage(i,0,0,e.width,e.height,0,0,d,v),s.clearRect(0,0,e.width,e.height),s.drawImage(f,0,0,d,v,0,0,e.width,e.height)}var m=Pixastic.prepareData(e),g=Pixastic.prepareData({canvas:i,options:e.options}),y=r.width*r.height,b=y*4,w=b+1,E=b+2,S=b+3;while(y--)(m[b-=4]+=t*g[b])>255&&(m[b]=255),(m[w-=4]+=t*g[w])>255&&(m[w]=255),(m[E-=4]+=t*g[E])>255&&(m[E]=255);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.histogram={process:function(e){var t=!!e.options.average&&e.options.average!="false",n=!!e.options.paint&&e.options.paint!="false",r=e.options.color||"rgba(255,255,255,0.5)",i=[];typeof e.options.returnValue!="object"&&(e.options.returnValue={values:[]});var s=e.options.returnValue;typeof s.values!="array"&&(s.values=[]),i=s.values;if(Pixastic.Client.hasCanvasImageData()){var o=Pixastic.prepareData(e);e.useData=!1;for(var u=0;u<256;u++)i[u]=0;var a=e.options.rect,f=a.width*a.height,l=f*4,c=l+1,h=l+2,p=l+3,d=Math.round;if(t)while(f--)i[d((o[l-=4]+o[l+1]+o[l+2])/3)]++;else while(f--)i[d(o[l-=4]*.3+o[l+1]*.59+o[l+2]*.11)]++;if(n){var v=0;for(var u=0;u<256;u++)i[u]>v&&(v=i[u]);var m=e.height/v,g=e.width/256,y=e.canvas.getContext("2d");y.fillStyle=r;for(var u=0;u<256;u++)y.fillRect(u*g,e.height-m*i[u],g,i[u]*m)}return s.values=i,!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.hsl={process:function(e){var t=parseInt(e.options.hue,10)||0,n=(parseInt(e.options.saturation,10)||0)/100,r=(parseInt(e.options.lightness,10)||0)/100;if(n<0)var i=1+n;else var i=1+n*2;t=t%360/360;var s=t*6,o=1/255,u=r*255,a=1+r,f=1-r;if(Pixastic.Client.hasCanvasImageData()){var l=Pixastic.prepareData(e),c=e.options.rect,h=c.width*c.height,p=h*4,d=p+1,v=p+2,m=p+3;while(h--){var g=l[p-=4],y=l[d=p+1],b=l[v=p+2];if(t!=0||n!=0){var w=g;y>w&&(w=y),b>w&&(w=b);var E=g;y<E&&(E=y),b<E&&(E=b);var S=w-E,x=(E+w)/510;if(x>0&&S>0){if(x<=.5){var T=S/(w+E)*i;T>1&&(T=1);var N=x*(1+T)}else{var T=S/(510-w-E)*i;T>1&&(T=1);var N=x+T-x*T}if(g==w)if(y==E)var C=5+(w-b)/S+s;else var C=1-(w-y)/S+s;else if(y==w)if(b==E)var C=1+(w-g)/S+s;else var C=3-(w-b)/S+s;else if(g==E)var C=3+(w-y)/S+s;else var C=5-(w-g)/S+s;C<0&&(C+=6),C>=6&&(C-=6);var k=x+x-N,L=C>>0;L==0?(g=N*255,y=(k+(N-k)*(C-L))*255,b=k*255):L==1?(g=(N-(N-k)*(C-L))*255,y=N*255,b=k*255):L==2?(g=k*255,y=N*255,b=(k+(N-k)*(C-L))*255):L==3?(g=k*255,y=(N-(N-k)*(C-L))*255,b=N*255):L==4?(g=(k+(N-k)*(C-L))*255,y=k*255,b=N*255):L==5&&(g=N*255,y=k*255,b=(N-(N-k)*(C-L))*255)}}r<0?(g*=a,y*=a,b*=a):r>0&&(g=g*f+u,y=y*f+u,b=b*f+u),g<0?l[p]=0:g>255?l[p]=255:l[p]=g,y<0?l[d]=0:y>255?l[d]=255:l[d]=y,b<0?l[v]=0:b>255?l[v]=255:l[v]=b}return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.invert={process:function(e){if(Pixastic.Client.hasCanvasImageData()){var t=Pixastic.prepareData(e),n=!!e.options.invertAlpha,r=e.options.rect,i=r.width*r.height,s=i*4,o=s+1,u=s+2,a=s+3;while(i--)t[s-=4]=255-t[s],t[o-=4]=255-t[o],t[u-=4]=255-t[u],n&&(t[a-=4]=255-t[a]);return!0}if(Pixastic.Client.isIE())return e.image.style.filter+=" invert",!0},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()||Pixastic.Client.isIE()}},Pixastic.Actions.laplace={process:function(e){var t=1,n=!!e.options.invert&&e.options.invert!="false",r=parseFloat(e.options.edgeStrength)||0,i=parseInt(e.options.greyLevel)||0;r=-r;if(Pixastic.Client.hasCanvasImageData()){var s=Pixastic.prepareData(e),o=Pixastic.prepareData(e,!0),u=[[-1,-1,-1],[-1,8,-1],[-1,-1,-1]],a=1/8,f=e.options.rect,l=f.width,c=f.height,h=l*4,p=c;do{var d=(p-1)*h,v=p==c?p-1:p,m=p==1?0:p-2,g=m*l*4,y=v*l*4,b=l;do{var w=d+(b*4-4),E=g+(b==1?0:b-2)*4,S=y+(b==l?b-1:b)*4,x=(-o[E-4]-o[E]-o[E+4]-o[w-4]-o[w+4]-o[S-4]-o[S]-o[S+4]+o[w]*8)*a,T=(-o[E-3]-o[E+1]-o[E+5]-o[w-3]-o[w+5]-o[S-3]-o[S+1]-o[S+5]+o[w+1]*8)*a,N=(-o[E-2]-o[E+2]-o[E+6]-o[w-2]-o[w+6]-o[S-2]-o[S+2]-o[S+6]+o[w+2]*8)*a,C=(x+T+N)/3+i;r!=0&&(C>127?C+=(C+1-128)*r:C<127&&(C-=(C+1)*r)),n&&(C=255-C),C<0&&(C=0),C>255&&(C=255),s[w]=s[w+1]=s[w+2]=C}while(--b)}while(--p);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.lighten={process:function(e){var t=parseFloat(e.options.amount)||0;t=Math.max(-1,Math.min(1,t));if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e),r=e.options.rect,i=r.width*r.height,s=i*4,o=s+1,u=s+2,a=t+1;while(i--)(n[s-=4]=n[s]*a)>255&&(n[s]=255),(n[o-=4]=n[o]*a)>255&&(n[o]=255),(n[u-=4]=n[u]*a)>255&&(n[u]=255);return!0}if(Pixastic.Client.isIE()){var f=e.image;return t<0?(f.style.filter+=" light()",f.filters[f.filters.length-1].addAmbient(255,255,255,100*-t)):t>0&&(f.style.filter+=" light()",f.filters[f.filters.length-1].addAmbient(255,255,255,100),f.filters[f.filters.length-1].addAmbient(255,255,255,100*t)),!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()||Pixastic.Client.isIE()}},Pixastic.Actions.mosaic={process:function(e){var t=Math.max(1,parseInt(e.options.blockSize,10));if(Pixastic.Client.hasCanvasImageData()){var n=e.options.rect,r=n.width,i=n.height,s=r*4,o=i,u=e.canvas.getContext("2d"),a=document.createElement("canvas");a.width=a.height=1;var f=a.getContext("2d"),l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.drawImage(e.canvas,n.left,n.top,r,i,0,0,r,i);for(var o=0;o<i;o+=t)for(var h=0;h<r;h+=t){var p=t,d=t;p+h>r&&(p=r-h),d+o>i&&(d=i-o),f.drawImage(l,h,o,p,d,0,0,1,1);var v=f.getImageData(0,0,1,1).data;u.fillStyle="rgb("+v[0]+","+v[1]+","+v[2]+")",u.fillRect(n.left+h,n.top+o,t,t)}return e.useData=!1,!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.noise={process:function(e){var t=0,n=0,r=!1;typeof e.options.amount!="undefined"&&(t=parseFloat(e.options.amount)||0),typeof e.options.strength!="undefined"&&(n=parseFloat(e.options.strength)||0),typeof e.options.mono!="undefined"&&(r=!!e.options.mono&&e.options.mono!="false"),t=Math.max(0,Math.min(1,t)),n=Math.max(0,Math.min(1,n));var i=128*n,s=i/2;if(Pixastic.Client.hasCanvasImageData()){var o=Pixastic.prepareData(e),u=e.options.rect,a=u.width,f=u.height,l=a*4,c=f,h=Math.random;do{var p=(c-1)*l,d=a;do{var v=p+(d-1)*4;if(h()<t){if(r)var m=-s+h()*i,g=o[v]+m,y=o[v+1]+m,b=o[v+2]+m;else var g=o[v]-s+h()*i,y=o[v+1]-s+h()*i,b=o[v+2]-s+h()*i;g<0&&(g=0),y<0&&(y=0),b<0&&(b=0),g>255&&(g=255),y>255&&(y=255),b>255&&(b=255),o[v]=g,o[v+1]=y,o[v+2]=b}}while(--d)}while(--c);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.posterize={process:function(e){var t=256;typeof e.options.levels!="undefined"&&(t=parseInt(e.options.levels,10)||1);if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e);t=Math.max(2,Math.min(256,t));var r=256/t,i=256/(t-1),s=e.options.rect,o=s.width,u=s.height,a=o*4,f=u;do{var l=(f-1)*a,c=o;do{var h=l+(c-1)*4,p=i*(n[h]/r>>0),d=i*(n[h+1]/r>>0),v=i*(n[h+2]/r>>0);p>255&&(p=255),d>255&&(d=255),v>255&&(v=255),n[h]=p,n[h+1]=d,n[h+2]=v}while(--c)}while(--f);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.pointillize={process:function(e){var t=Math.max(1,parseInt(e.options.radius,10)),n=Math.min(5,Math.max(0,parseFloat(e.options.density)||0)),r=Math.max(0,parseFloat(e.options.noise)||0),i=!!e.options.transparent&&e.options.transparent!="false";if(Pixastic.Client.hasCanvasImageData()){var s=e.options.rect,o=s.width,u=s.height,a=o*4,f=u,l=e.canvas.getContext("2d"),c=e.canvas.width,h=e.canvas.height,p=document.createElement("canvas");p.width=p.height=1;var d=p.getContext("2d"),v=document.createElement("canvas");v.width=o,v.height=u;var m=v.getContext("2d");m.drawImage(e.canvas,s.left,s.top,o,u,0,0,o,u);var g=t*2;i&&l.clearRect(s.left,s.top,s.width,s.height);var y=t*r,b=1/n;for(var f=0;f<u+t;f+=g*b)for(var w=0;w<o+t;w+=g*b){rndX=r?w+(Math.random()*2-1)*y>>0:w,rndY=r?f+(Math.random()*2-1)*y>>0:f;var E=rndX-t,S=rndY-t;E<0&&(E=0),S<0&&(S=0);var x=rndX+s.left,T=rndY+s.top;x<0&&(x=0),x>c&&(x=c),T<0&&(T=0),T>h&&(T=h);var N=g,C=g;N+E>o&&(N=o-E),C+S>u&&(C=u-S),N<1&&(N=1),C<1&&(C=1),d.drawImage(v,E,S,N,C,0,0,1,1);var k=d.getImageData(0,0,1,1).data;l.fillStyle="rgb("+k[0]+","+k[1]+","+k[2]+")",l.beginPath(),l.arc(x,T,t,0,Math.PI*2,!0),l.closePath(),l.fill()}return e.useData=!1,!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.removenoise={process:function(e){if(Pixastic.Client.hasCanvasImageData()){var t=Pixastic.prepareData(e),n=e.options.rect,r=n.width,i=n.height,s=r*4,o=i;do{var u=(o-1)*s,a=o==i?o-1:o,f=o==1?0:o-2,l=f*r*4,c=a*r*4,h=r;do{var p=u+(h*4-4),d=l+(h==1?0:h-2)*4,v=c+(h==r?h-1:h)*4,m,g,y,b,w,E;m=g=t[d];var S=t[p-4],x=t[p+4],T=t[v];S<m&&(m=S),x<m&&(m=x),T<m&&(m=T),S>g&&(g=S),x>g&&(g=x),T>g&&(g=T),y=b=t[d+1];var N=t[p-3],C=t[p+5],k=t[v+1];N<y&&(y=N),C<y&&(y=C),k<y&&(y=k),N>b&&(b=N),C>b&&(b=C),k>b&&(b=k),w=E=t[d+2];var L=t[p-2],A=t[p+6],O=t[v+2];L<w&&(w=L),A<w&&(w=A),O<w&&(w=O),L>E&&(E=L),A>E&&(E=A),O>E&&(E=O),t[p]>g?t[p]=g:t[p]<m&&(t[p]=m),t[p+1]>b?t[p+1]=b:t[p+1]<y&&(t[p+1]=y),t[p+2]>E?t[p+2]=E:t[p+2]<w&&(t[p+2]=w)}while(--h)}while(--o);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.resize={process:function(e){if(Pixastic.Client.hasCanvas()){var t=parseInt(e.options.width,10),n=parseInt(e.options.height,10),r=e.canvas;t<1&&(t=1),t<2&&(t=2);var i=document.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d").drawImage(r,0,0,t,n),r.width=t,r.height=n,r.getContext("2d").drawImage(i,0,0),e.useData=!1,!0}},checkSupport:function(){return Pixastic.Client.hasCanvas()}},Pixastic.Actions.rotate={process:function(e){if(Pixastic.Client.hasCanvas()){var t=e.canvas,n=e.width,r=e.height,i=document.createElement("canvas");i.width=n,i.height=r,i.getContext("2d").drawImage(t,0,0,n,r);var s=-parseFloat(e.options.angle)*Math.PI/180,o=s;o>Math.PI*.5&&(o=Math.PI-o),o<-Math.PI*.5&&(o=-Math.PI-o);var u=Math.sqrt(n*n+r*r),a=Math.abs(o)-Math.abs(Math.atan2(r,n)),f=Math.abs(o)+Math.abs(Math.atan2(r,n)),l=Math.abs(Math.cos(a)*u),c=Math.abs(Math.sin(f)*u);t.width=l,t.height=c;var h=t.getContext("2d");return h.translate(l/2,c/2),h.rotate(s),h.drawImage(i,-n/2,-r/2),e.useData=!1,!0}},checkSupport:function(){return Pixastic.Client.hasCanvas()}},Pixastic.Actions.sepia={process:function(e){var t=parseInt(e.options.mode,10)||0;t<0&&(t=0),t>1&&(t=1);if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e),r=e.options.rect,i=r.width,s=r.height,o=i*4,u=s;do{var a=(u-1)*o,f=i;do{var l=a+(f-1)*4;if(t)var c=n[l]*.299+n[l+1]*.587+n[l+2]*.114,h=c+39,p=c+14,d=c-36;else var v=n[l],m=n[l+1],g=n[l+2],h=v*.393+m*.769+g*.189,p=v*.349+m*.686+g*.168,d=v*.272+m*.534+g*.131;h<0&&(h=0),h>255&&(h=255),p<0&&(p=0),p>255&&(p=255),d<0&&(d=0),d>255&&(d=255),n[l]=h,n[l+1]=p,n[l+2]=d}while(--f)}while(--u);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.sharpen={process:function(e){var t=0;typeof e.options.amount!="undefined"&&(t=parseFloat(e.options.amount)||0),t<0&&(t=0),t>1&&(t=1);if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e),r=Pixastic.prepareData(e,!0),i=15,s=1+3*t,o=[[0,-s,0],[-s,i,-s],[0,-s,0]],u=0;for(var a=0;a<3;a++)for(var f=0;f<3;f++)u+=o[a][f];u=1/u;var l=e.options.rect,c=l.width,h=l.height;i*=u,s*=u;var p=c*4,d=h;do{var v=(d-1)*p,m=d==h?d-1:d,g=d==1?0:d-2,y=g*p,b=m*p,w=c;do{var E=v+(w*4-4),S=y+(w==1?0:w-2)*4,x=b+(w==c?w-1:w)*4,T=(-r[S]-r[E-4]-r[E+4]-r[x])*s+r[E]*i,N=(-r[S+1]-r[E-3]-r[E+5]-r[x+1])*s+r[E+1]*i,C=(-r[S+2]-r[E-2]-r[E+6]-r[x+2])*s+r[E+2]*i;T<0&&(T=0),N<0&&(N=0),C<0&&(C=0),T>255&&(T=255),N>255&&(N=255),C>255&&(C=255),n[E]=T,n[E+1]=N,n[E+2]=C}while(--w)}while(--d);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.solarize={process:function(e){var t=!!e.options.average&&e.options.average!="false";if(Pixastic.Client.hasCanvasImageData()){var n=Pixastic.prepareData(e),r=e.options.rect,i=r.width,s=r.height,o=i*4,u=s;do{var a=(u-1)*o,f=i;do{var l=a+(f-1)*4,c=n[l],h=n[l+1],p=n[l+2];c>127&&(c=255-c),h>127&&(h=255-h),p>127&&(p=255-p),n[l]=c,n[l+1]=h,n[l+2]=p}while(--f)}while(--u);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},Pixastic.Actions.unsharpmask={process:function(e){var t=parseFloat(e.options.amount)||0,n=parseFloat(e.options.radius)||0,r=parseFloat(e.options.threshold)||0;t=Math.min(500,Math.max(0,t))/2,n=Math.min(5,Math.max(0,n))/10,r=Math.min(255,Math.max(0,r)),r--;var i=-r;t*=.016,t++;if(Pixastic.Client.hasCanvasImageData()){var s=e.options.rect,o=document.createElement("canvas");o.width=e.width,o.height=e.height;var u=o.getContext("2d");u.drawImage(e.canvas,0,0);var a=2,f=Math.round(e.width/a),l=Math.round(e.height/a),c=document.createElement("canvas");c.width=f,c.height=l;var h=Math.round(n*20),p=c.getContext("2d");for(var d=0;d<h;d++){var v=Math.max(1,Math.round(f-d)),m=Math.max(1,Math.round(l-d));p.clearRect(0,0,f,l),p.drawImage(o,0,0,e.width,e.height,0,0,v,m),u.clearRect(0,0,e.width,e.height),u.drawImage(c,0,0,v,m,0,0,e.width,e.height)}var g=Pixastic.prepareData(e),y=Pixastic.prepareData({canvas:o,options:e.options}),b=s.width,w=s.height,E=b*4,S=w;do{var x=(S-1)*E,T=b;do{var N=x+(T*4-4),C=g[N]-y[N];if(C>r||C<i){var k=y[N];k=t*C+k,g[N]=k>255?255:k<0?0:k}var L=g[N+1]-y[N+1];if(L>r||L<i){var A=y[N+1];A=t*L+A,g[N+1]=A>255?255:A<0?0:A}var O=g[N+2]-y[N+2];if(O>r||O<i){var M=y[N+2];M=t*O+M,g[N+2]=M>255?255:M<0?0:M}}while(--T)}while(--S);return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},define("pixastic",function(){}),Pixastic.Actions.blend={process:function(e){var t=parseFloat(e.options.amount),n=(e.options.mode||"normal").toLowerCase(),r=e.options.image;t=Math.max(0,Math.min(1,t));if(!r)return!1;if(Pixastic.Client.hasCanvasImageData()){var i=e.options.rect,s=Pixastic.prepareData(e),o=i.width,u=i.height;e.useData=!1;var a=document.createElement("canvas");a.width=e.canvas.width,a.height=e.canvas.height;var f=a.getContext("2d");f.drawImage(r,0,0);var l={canvas:a,options:e.options},c=Pixastic.prepareData(l),h=l.canvasData,p=o*u,d=p*4,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A=!1;switch(n){case"normal":break;case"multiply":while(p--)c[d-=4]=s[d]*c[d]/255,c[v=d+1]=s[v]*c[v]/255,c[m=d+2]=s[m]*c[m]/255;A=!0;break;case"lighten":while(p--)(g=s[d-=4])>c[d]&&(c[d]=g),(y=s[v=d+1])>c[v]&&(c[v]=y),(b=s[m=d+2])>c[m]&&(c[m]=b);A=!0;break;case"darken":while(p--)(g=s[d-=4])<c[d]&&(c[d]=g),(y=s[v=d+1])<c[v]&&(c[v]=y),(b=s[m=d+2])<c[m]&&(c[m]=b);A=!0;break;case"darkercolor":while(p--)(g=s[d-=4])*.3+(y=s[v=d+1])*.59+(b=s[m=d+2])*.11<=c[d]*.3+c[v]*.59+c[m]*.11&&(c[d]=g,c[v]=y,c[m]=b);A=!0;break;case"lightercolor":while(p--)(g=s[d-=4])*.3+(y=s[v=d+1])*.59+(b=s[m=d+2])*.11>c[d]*.3+c[v]*.59+c[m]*.11&&(c[d]=g,c[v]=y,c[m]=b);A=!0;break;case"lineardodge":while(p--)(x=s[d-=4]+c[d])>255?c[d]=255:c[d]=x,(T=s[v=d+1]+c[v])>255?c[v]=255:c[v]=T,(N=s[m=d+2]+c[m])>255?c[m]=255:c[m]=N;A=!0;break;case"linearburn":while(p--)(x=s[d-=4]+c[d])<255?c[d]=0:c[d]=x-255,(T=s[v=d+1]+c[v])<255?c[v]=0:c[v]=T-255,(N=s[m=d+2]+c[m])<255?c[m]=0:c[m]=N-255;A=!0;break;case"difference":while(p--)(x=s[d-=4]-c[d])<0?c[d]=-x:c[d]=x,(T=s[v=d+1]-c[v])<0?c[v]=-T:c[v]=T,(N=s[m=d+2]-c[m])<0?c[m]=-N:c[m]=N;A=!0;break;case"screen":while(p--)c[d-=4]=255-((255-c[d])*(255-s[d])>>8),c[v=d+1]=255-((255-c[v])*(255-s[v])>>8),c[m=d+2]=255-((255-c[m])*(255-s[m])>>8);A=!0;break;case"exclusion":var O=2/255;while(p--)c[d-=4]=(g=s[d])-(g*O-1)*c[d],c[v=d+1]=(y=s[v])-(y*O-1)*c[v],c[m=d+2]=(b=s[m])-(b*O-1)*c[m];A=!0;break;case"overlay":var O=2/255;while(p--)(g=s[d-=4])<128?c[d]=c[d]*g*O:c[d]=255-(255-c[d])*(255-g)*O,(y=s[v=d+1])<128?c[v]=c[v]*y*O:c[v]=255-(255-c[v])*(255-y)*O,(b=s[m=d+2])<128?c[m]=c[m]*b*O:c[m]=255-(255-c[m])*(255-b)*O;A=!0;break;case"softlight":var O=2/255;while(p--)(g=s[d-=4])<128?c[d]=((c[d]>>1)+64)*g*O:c[d]=255-(191-(c[d]>>1))*(255-g)*O,(y=s[v=d+1])<128?c[v]=((c[v]>>1)+64)*y*O:c[v]=255-(191-(c[v]>>1))*(255-y)*O,(b=s[m=d+2])<128?c[m]=((c[m]>>1)+64)*b*O:c[m]=255-(191-(c[m]>>1))*(255-b)*O;A=!0;break;case"hardlight":var O=2/255;while(p--)(w=c[d-=4])<128?c[d]=s[d]*w*O:c[d]=255-(255-s[d])*(255-w)*O,(E=c[v=d+1])<128?c[v]=s[v]*E*O:c[v]=255-(255-s[v])*(255-E)*O,(S=c[m=d+2])<128?c[m]=s[m]*S*O:c[m]=255-(255-s[m])*(255-S)*O;A=!0;break;case"colordodge":while(p--)(x=(s[d-=4]<<8)/(255-(w=c[d])))>255||w==255?c[d]=255:c[d]=x,(T=(s[v=d+1]<<8)/(255-(E=c[v])))>255||E==255?c[v]=255:c[v]=T,(N=(s[m=d+2]<<8)/(255-(S=c[m])))>255||S==255?c[m]=255:c[m]=N;A=!0;break;case"colorburn":while(p--)(x=255-(255-s[d-=4]<<8)/c[d])<0||c[d]==0?c[d]=0:c[d]=x,(T=255-(255-s[v=d+1]<<8)/c[v])<0||c[v]==0?c[v]=0:c[v]=T,(N=255-(255-s[m=d+2]<<8)/c[m])<0||c[m]==0?c[m]=0:c[m]=N;A=!0;break;case"linearlight":while(p--)(x=2*(w=c[d-=4])+s[d]-256)<0||w<128&&x<0?c[d]=0:x>255?c[d]=255:c[d]=x,(T=2*(E=c[v=d+1])+s[v]-256)<0||E<128&&T<0?c[v]=0:T>255?c[v]=255:c[v]=T,(N=2*(S=c[m=d+2])+s[m]-256)<0||S<128&&N<0?c[m]=0:N>255?c[m]=255:c[m]=N;A=!0;break;case"vividlight":while(p--)(w=c[d-=4])<128?w?(x=255-(255-s[d]<<8)/(2*w))<0?c[d]=0:c[d]=x:c[d]=0:(x=C=2*w-256)<255?(x=(s[d]<<8)/(255-C))>255?c[d]=255:c[d]=x:x<0?c[d]=0:c[d]=x,(E=c[v=d+1])<128?E?(T=255-(255-s[v]<<8)/(2*E))<0?c[v]=0:c[v]=T:c[v]=0:(T=k=2*E-256)<255?(T=(s[v]<<8)/(255-k))>255?c[v]=255:c[v]=T:T<0?c[v]=0:c[v]=T,(S=c[m=d+2])<128?S?(N=255-(255-s[m]<<8)/(2*S))<0?c[m]=0:c[m]=N:c[m]=0:(N=L=2*S-256)<255?(N=(s[m]<<8)/(255-L))>255?c[m]=255:c[m]=N:N<0?c[m]=0:c[m]=N;A=!0;break;case"pinlight":while(p--)(w=c[d-=4])<128?(g=s[d])<(C=2*w)?c[d]=g:c[d]=C:(g=s[d])>(C=2*w-256)?c[d]=g:c[d]=C,(E=c[v=d+1])<128?(y=s[v])<(k=2*E)?c[v]=y:c[v]=k:(y=s[v])>(k=2*E-256)?c[v]=y:c[v]=k,(w=c[m=d+2])<128?(g=s[m])<(C=2*w)?c[m]=g:c[m]=C:(g=s[m])>(C=2*w-256)?c[m]=g:c[m]=C;A=!0;break;case"hardmix":while(p--)(w=c[d-=4])<128?255-(255-s[d]<<8)/(2*w)<128||w==0?c[d]=0:c[d]=255:(C=2*w-256)<255&&(s[d]<<8)/(255-C)<128?c[d]=0:c[d]=255,(E=c[v=d+1])<128?255-(255-s[v]<<8)/(2*E)<128||E==0?c[v]=0:c[v]=255:(k=2*E-256)<255&&(s[v]<<8)/(255-k)<128?c[v]=0:c[v]=255,(S=c[m=d+2])<128?255-(255-s[m]<<8)/(2*S)<128||S==0?c[m]=0:c[m]=255:(L=2*S-256)<255&&(s[m]<<8)/(255-L)<128?c[m]=0:c[m]=255;A=!0}A&&f.putImageData(h,0,0);if(t!=1&&!Pixastic.Client.hasGlobalAlpha()){var p=o*u,M=t,_=1-t;while(p--){var d=p*4,D=s[d]*_+c[d]*M>>0,P=s[d+1]*_+c[d+1]*M>>0,H=s[d+2]*_+c[d+2]*M>>0;s[d]=D,s[d+1]=P,s[d+2]=H}e.useData=!0}else{var B=e.canvas.getContext("2d");B.save(),B.globalAlpha=t,B.drawImage(a,0,0,i.width,i.height,i.left,i.top,i.width,i.height),B.globalAlpha=1,B.restore()}return!0}},checkSupport:function(){return Pixastic.Client.hasCanvasImageData()}},define("blend",function(){}),define("compose/canvas-compose",["jquery","tools/img.loader","TweenMax","pixastic","blend"],function(e,t){function x(e,t){var e=new Image;e.onLoad=function(){t.call(this)}}function T(e){Pixastic.revert(document.getElementById(c)),p.save(),p.globalCompositeOperation="copy",p.fillStyle="rgba(0,0,0,0)",p.fillRect(0,0,y.width,y.height),p.restore(),r&&p.drawImage(r,0,0,h.width,h.height),v.save(),v.globalCompositeOperation="copy",v.globalAlpha=.8,v.fillStyle=e?e:i,v.fillRect(0,0,d.width,d.height),v.restore(),v.save(),v.globalCompositeOperation="destination-in",v.drawImage(b,0,0,b.width,b.height),v.restore(),p.drawImage(y,0,0,y.width,y.height),p.drawImage(d,0,0,h.width,h.height),s&&(p.save(),p.globalAlpha=.5,p.drawImage(s,0,0,s.width,s.height),p.restore()),u&&p.drawImage(u,0,0,u.width,u.height),a&&p.drawImage(a,0,0,a.width,a.height),f&&p.drawImage(f,0,0,f.width,f.height),o&&p.drawImage(o,0,0,o.width,o.height),Pixastic.process(document.getElementById(c),"blend",{amount:1,mode:"multiply",image:w}),m&&document.getElementById(c).getContext("2d").drawImage(m,0,0,m.width,m.height)}var n=function(){},r,i,s,o,u,a,f,l=e("<div/>"),c,h,p,d,v,m,g,y,b,w,E,S=[];return n.init=function(t){if(!e("html").hasClass("canvas"))return;E=t,c=t.canvasId,h=document.getElementById(c),p=h.getContext("2d"),d=document.createElement("canvas"),d.width=h.width,d.height=h.height,v=d.getContext("2d"),i=t.defaultColor,l.css("color",i),r=t.defaultBgImg,y=t.car,s=t.patterns,b=t.colorMask,w=t.carShadowMask,o=t.sticker,u=t.inletGrille,m=t.carHighLight,g=t.defaultBackground,T(i)},n.updateColor=function(e,t,r){if(i==e)return;r||S.push({action:n.updateColor,args:[i,t,!0],type:"color"}),i=e,t==0?T():TweenMax.to(l[0],t?t:1,{css:{color:i},onUpdate:function(){T(l.css("color"))},ease:Cubic.easeOut,overwrite:1,onComplete:function(){}})},n.updatePatterns=function(e,t){if(s&&e&&s.src==e.src)return;t||S.push({action:n.updatePatterns,args:[s,!0],type:"patterns"}),s=e,T()},n.updateSticker=function(e,t){if(o&&e&&o.src==e.src)return;t||S.push({action:n.updateSticker,args:[o,!0],type:"sticker"}),o=e,T()},n.updateBackground=function(e,t){if(g==e)return;t||S.push({action:n.updateBackground,args:[g,!0],type:"background"}),g=e},n.undo=function(e){var t=S.pop();if(t){t.action.apply(this,t.args);var n;t.args[0]&&(n=t.args[0].src?t.args[0].src:t.args[0]),e.apply(this,[t.type,n])}},n.reset=function(){u=undefined,f=undefined,a=undefined,s=undefined,o=undefined,g=E.defaultBackground,S.length=0,S=[],i!=E.defaultColor?n.updateColor(E.defaultColor,undefined,!0):T()},n.upload=function(t){var n=new Image;n.onload=function(){var r=document.createElement("canvas");r.width=n.width,r.height=n.height;var i=r.getContext("2d");i.drawImage(n,0,0,n.width,n.height),i.drawImage(document.getElementById(c),(n.width-h.width)/2,(n.height-h.height)/2,h.width,h.height);var s=r.toDataURL("image/jpeg",.9);e.post("php/upload.php",{data:s}).done(function(e){t.call(this,e)})},n.src=g},n}),define("animate/parallax",["jquery","TweenMax"],function($){var scheme=function(){},timelines={},timeScales={};return scheme.init=function(e){e.each(function(t){var n=$(this),r=n.attr("id");if(!r)throw new Error("Parallax holder: "+e.selector+" "+t+" must have id.");var i=new TimelineMax({paused:!0});timelines[r]=i,n.find("[data-portion-parallax]").andSelf().each(function(e){scheme.addTo($(this),i)})})},scheme.getTimelineByName=function(e){return timelines[e]},scheme.addTo=function($el,timeline,parallaxArr){var parallaxs=parallaxArr?parallaxArr:eval($el.attr("data-portion-parallax"));if($.isArray(parallaxs))for(var i=0,il=parallaxs.length;i<il;i++)parallaxs[i].duration||(parallaxs[i].duration=0),typeof timeline=="string"&&(timeline=scheme.getTimelineByName(timeline)),timeline&&timeline.to($el[0],parallaxs[i].duration,parallaxs[i].vars,parallaxs[i].stone)},scheme.update=function(e){e||(e={});for(var t in timelines)e[t]<=.5&&timelines[t].timeScale()!=1?timelines[t].timeScale(1):e[t]>.5&&timelines[t].timeScale()!=timeScales[t]&&timelines[t].timeScale(timeScales[t]),e[t]==undefined,timelines[t].seek(e[t]?e[t]:0)},scheme.setTimeScales=function(e){timeScales=e},scheme}),define("libs/class",[],function(){function r(e){if(Object.prototype.toString.call(e)==="[object Array]"){var t=[],n=0,r=e.length;for(;n<r;n++)t[n]=arguments.callee(e[n]);return t}if(typeof e=="object"){console.log(e);var t={},n;for(n in e)t[n]=arguments.callee(e[n]);return t}return e}var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.constructor=o,o.extend=arguments.callee,o},n}),define("animate/section.ani",["jquery"],function(e){var t=function(){};return t}),define("sections/base",["libs/class","tools/img.loader","animate/section.ani"],function(e,t,n){var r=[],i=[],s=!1,o={showLoading:undefined,hideLoading:undefined},u=e.extend({holder:undefined,index:0,waitting:!1,refresh:function(e){},resize:function(e){},prepare:function(e){this.holder?t.load({holder:this.holder,complete:function(){e&&typeof e=="function"&&e.call(this)}}):e&&typeof e=="function"&&e.call(this)},enter:function(e,t,r){var i=this;n.enter(i,e,function(){i.afterEnter.call(i),t&&typeof t=="function"&&t.call(i),u.animating=!1},r)},beforeEnter:function(){return!0},afterEnter:function(){return!0},exit:function(e,t,r){var i=this;n.exit(i,e,function(){i.afterExit.call(i),t&&typeof t=="function"&&t.call(i)},r)},beforeExit:function(){return!0},afterExit:function(){return!0},switchTo:function(e,t,n,r,i){if(u.animating)return;var s=this;u.animating=!0,o.showLoading&&typeof o.showLoading=="function"&&o.showLoading.call(this),require.config({catchError:!1}),require([e],function(e){u.toPage=e.inst;if(e.inst==u.cs){u.animating=!1,o.hideLoading&&typeof o.hideLoading=="function"&&o.hideLoading.call(this,n);return}if(!s.beforeExit.call(s))return;u.cs=e.inst,e.inst.prepare(function(){function u(){e.inst.enter.call(e.inst,e.inst.index>s.index,t,i),s.exit.call(s,e.inst.index>s.index,null,i),o.hideLoading&&typeof o.hideLoading=="function"&&o.hideLoading.call(this,n)}e.inst.waitting=!0;if(e.inst.beforeEnter.call(e.inst))u();else var r=setInterval(function(){console.log(e.inst.waitting);if(e.inst.waitting)return;clearInterval(r),u()},5)})},function(e){r.call(this),u.animating=!1,o.hideLoading&&typeof o.hideLoading=="function"&&o.hideLoading.call(this,n)})}});return u.cs=undefined,u.toPage=undefined,u.animating=!1,u.switchTo=function(e,t,n,r){u.cs&&u.cs.switchTo(e,t,null,n,r)},u.refresh=function(e){for(var t=0,n=i.length;t<n;t++)i[t].refresh(e)},u.resize=function(e){for(var t=0,n=i.length;t<n;t++)i[t].resize(e)},u._extend=u.extend,u.extend=function(e){var t=u._extend(e);return r.push(t),s&&(t.inst=new t,i.push(t.inst)),t},u.init=function(e){s=!0,o=e;for(var t=0,n=r.length;t<n;t++)if(!r[t].inst){var a=new r[t];r[t].inst=a,i.push(a),u.cs=r[t].inst}},u}),function(e,t){function n(){if(!r.READY){r.event.determineEventTypes();for(var e in r.gestures)r.gestures.hasOwnProperty(e)&&r.detection.register(r.gestures[e]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,s=!1,o=!1;r.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;r.length>i;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,n){var u=this;this.bindDom(e,r.EVENT_TYPES[t],function(f){var l=f.type.toLowerCase();if(!l.match(/mouse/)||!o){(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===f.which)&&(s=!0),l.match(/touch|pointer/)&&(o=!0);var c=0;s&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?c=r.PointerEvent.updatePointer(t,f):l.match(/touch/)?c=f.touches.length:o||(c=l.match(/up/)?0:1),c>0&&t==r.EVENT_END?t=r.EVENT_MOVE:c||(t=r.EVENT_END),c||null===i?i=f:f=i,n.call(r.detection,u.collectEventData(e,t,f)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(c=r.PointerEvent.updatePointer(t,f))),c||(i=null,s=!1,o=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var i=this.getTouchList(n,t),s=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:t,pointerType:s,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==r.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;i>r;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var i=0;r.length>i;i++)for(var s in t)t.hasOwnProperty(s)&&(n=s,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[s]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var s=this.gestures[n];if(!this.stopped&&t[s.name]!==!1&&s.handler.call(s,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,i=e.touches.length;i>n;n++)t.touches.push(r.utils.extend({},e.touches[n]))}var s=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,u=e.center.pageY-t.center.pageY,a=r.utils.getVelocity(s,o,u);return r.utils.extend(e,{deltaTime:s,deltaX:o,deltaY:u,velocityX:a.x,velocityY:a.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),direction:r.utils.getDirection(t.center,e.center),scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?0>e.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>e.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&r.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-e.scale),s=Math.abs(e.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>s)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),s>n.options.transform_min_rotation&&n.trigger("rotate",e),i>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==r.EVENT_START&&n.trigger(this.name,e),t)}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(e.Hammer=r,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return r}))}(this),function(e,t){e!==t&&(Hammer.event.bindDom=function(n,r,i){e(n).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(t,n){return e(this.element).on(t,n)},Hammer.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},Hammer.Instance.prototype.trigger=function(t,n){var r=e(this.element);return r.has(n.target).length&&(r=e(n.target)),r.trigger({type:t,gesture:n})},e.fn.hammer=function(t){return this.each(function(){var n=e(this),r=n.data("hammer");r?r&&t&&Hammer.utils.extend(r.options,t):n.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto),define("hammer",function(){}),define("sections/spo-garage",["jquery","sections/base","compose/canvas-compose","tools/img.loader","core/common","hammer"],function(e,t,n,r,i){var s=t.extend({init:function(){function C(e){if(f==e)return;f=e,u.data({"img-src":e,"fill-mode":"canvas","fill-class":"wish-fill-img bg"}).addClass("imgload"),r.load({holder:u,complete:function(){var e=u.find(".bg");e.length>1&&(TweenMax.to(e.eq(0)[0],.35,{alpha:0,ease:Quart.easeOut,onComplete:function(){e.eq(0).remove()}}),TweenMax.fromTo(e.eq(1)[0],.35,{alpha:0},{alpha:1,ease:Quart.easeOut,startAt:{alpha:0}}))}})}function k(){i.ie8&&(w.val(w.attr("placeholder")),E.val(E.attr("placeholder")),S.val(S.attr("placeholder"))),e("form").on("focus","input[type='text']",function(){var t=e(this);t.val()==t.attr("placeholder")&&t.val(""),L.html()!=L.data("content")&&L.html(L.data("content")).removeClass("send-msg")}).on("blur","input[type='text']",function(){var t=e(this);i.ie8&&e.trim(t.val())==""&&t.val(t.attr("placeholder"))}).on("submit",function(){return A(),!1}),w.on("blur",function(){var t=e(this);N.test(w.val())?(w.removeClass("error"),w.next().css("visibility","hidden")):(w.addClass("error"),w.val().indexOf(" ")!=-1?w.next().html("There are no spaces allowed in this field.").css("visibility","visible"):w.next().html("Please enter 7 characters or less.").css("visibility","visible"))}),E.on("blur",function(){N.test(E.val())?(E.removeClass("error"),E.next().css("visibility","hidden")):(E.addClass("error"),E.val().indexOf(" ")!=-1?E.next().html("There are no spaces allowed in this field.").css("visibility","visible"):E.next().html("Please enter 7 characters or less.").css("visibility","visible"))}),S.on("blur",function(){T.test(S.val())?(S.removeClass("error"),S.next().css("visibility","hidden")):(S.addClass("error"),S.next().html("Please enter a valid email address.").css("visibility","visible"))}),x.on("click",function(){return A(),!1}),e("#submit-btn").on("click",function(){return x.trigger("click"),!1})}function A(){var t=!1;!N.test(w.val())||e.trim(w.val())==w.attr("placeholder")?(w.addClass("error"),t=!0):w.removeClass("error"),!N.test(E.val())||e.trim(E.val())==E.attr("placeholder")?(E.addClass("error"),t=!0):E.removeClass("error"),e.trim(S.val())==""||e.trim(S.val())==S.attr("placeholder")||!T.test(S.val())?(S.addClass("error"),t=!0):S.removeClass("error");if(!t){if(c)return;c=!0,w.trigger("blur"),E.trigger("blur"),S.trigger("blur"),o.html("Send..."),e.post("php/sendEmail.php",{name:w.val(),friendname:E.val(),email:S.val(),url:i.data("current-design").url},function(t){var n,r=!0;try{n=e.parseJSON(t)}catch(s){r=!1}c=!1,o.html("Send");if(!r||!n[0]||!n[0].link){L.addClass("send-msg").html("An error accurs. Please try again.");return}L.addClass("send-msg").html("Your design has been sent. Thank you!"),i.ie8?(w.val(w.attr("placeholder")),E.val(E.attr("placeholder")),S.val(S.attr("placeholder"))):(w.val(""),E.val(""),S.val(""))})}}if(!e("html").hasClass("canvas"))return;f="spon-garage-pop.png";var t,s=e(".btn-menus"),o=e("#submitted-select form>p"),h=e("#left-btn").on("click",function(){t&&(TweenMax.to(t.find("ul")[0],.4,{left:"0"}),t.data("position","left"),h.hide(),p.show())}),p=e("#right-btn").on("click",function(){t&&(TweenMax.to(t.find("ul")[0],.4,{left:"-"+(t.find("li").length-7)*t.find("li").eq(0).width()}),t.data("position","right"),p.hide(),h.show())});i.resize(function(t){t&&s.each(function(){var t=e(this);t.data("position")=="right"&&t.find("ul").css("left",-(t.find("li").length-7)*t.find("li").eq(0).width())})}),u=e("#garage-board"),l=e(".color-info");var d=["#b455a0","#70bf54","#047bc1","#ffc20e","#f15a22","#f27da9","#4fc6e0","#fff45f","#67b1a2","#6676b1","#b19766","#b26666"],v=e("#colors-switch").on("click","li",function(t){var r=e(this);return r.addClass("selected").siblings().removeClass("selected"),t.originalEvent&&(n.updateColor(r.data("color")),i.trigger("TRACKING",["/design-your-own/dav/color/"+(r.data("index")+1)])),!1}).find("li");v.each(function(t){e(this).data({index:t,color:d[t]}).find("div").css({"background-position":"0px -"+(t+1)*40+"px"})}),a=e("#garage-slt-bubble");var m=e("#patterns-switch").on("click","li",function(t){var s=e(this);s.addClass("selected").siblings().removeClass("selected"),t.originalEvent&&(n.updatePatterns(r.getImageByName(s.data("img"))),i.trigger("TRACKING",["/design-your-own/dav/stickers/"+(s.data("index")+1)]))}).find("li");m.each(function(t){e(this).data({index:t}).find("div").css({"background-position":"0px -"+(t+1)*40+"px"})});var g=e("#background-switch").on("click","li",function(t){var r=e(this);C(r.data("bg-img")),t.originalEvent&&(n.updateBackground(r.data("img")),i.trigger("TRACKING",["/design-your-own/dav/background/"+(r.data("index")+1)])),r.addClass("selected").siblings().removeClass("selected")}).find("li");g.each(function(t){e(this).data({index:t}).find("div").css({"background-position":"0px -"+(t+1)*40+"px"})});var y=e("#sticker-switch").on("click","li",function(t){var s=e(this);s.addClass("selected").siblings().removeClass("selected"),t.originalEvent&&(n.updateSticker(r.getImageByName(s.data("img"))),i.trigger("TRACKING",["/design-your-own/dav/patterns/"+(s.data("index")+1)]))}).find("li");y.each(function(t){e(this).data({index:t}).find("div").css({"background-position":"0px -"+(t+1)*40+"px"})});var b=e(".btns").on("click","li",function(){$this=e(this);if($this.hasClass("selected"))return;e(".btn-menus").fadeOut(),t=null,h.hide(),p.hide(),$this.addClass("selected").siblings().removeClass("selected"),i.trigger("TRACKING",["/design-your-own/dav/"+$this.data("title").toLowerCase()]);switch($this.data("target")){case"reset":e(".color-info").fadeOut(),n.reset(),C("spon-garage-pop.png"),b.each(function(){e(this).find("div:first-child").css({"background-position":""})}),setTimeout(function(){u.find(".selected").removeClass("selected")},100);break;case"undo":e(".color-info").fadeOut(),n.undo(function(t,n){switch(t){case"color":n!="#d6292c"?v.each(function(){var t=e(this);t.data("color")==n&&t.trigger("click")}):(v.removeClass("selected"),b.eq(0).find("div:first-child").css({"background-position":""}));break;case"patterns":n?m.each(function(){var t=e(this);n.indexOf(t.data("img"))!=-1&&t.trigger("click")}):(m.removeClass("selected"),b.eq(2).find("div:first-child").css({"background-position":""}));break;case"sticker":n?y.each(function(){var t=e(this);n.indexOf(t.data("img"))!=-1&&t.trigger("click")}):(y.removeClass("selected"),b.eq(3).find("div:first-child").css({"background-position":""}));break;case"background":n!="images/overlay-bg-new.jpg"?g.each(function(){var t=e(this);n.indexOf(t.data("img"))!=-1&&t.trigger("click")}):(C("spon-garage-pop.png"),g.removeClass("selected"),b.eq(1).find("div:first-child").css({"background-position":""}))}}),setTimeout(function(){$this.removeClass("selected")},100);break;case"upload":setTimeout(function(){$this.removeClass("selected")},100),e(".color-info").hide(),i.trigger("SHOW-CAR-UPLOAD",["upload"]),setTimeout(function(){n.upload(function(t){console.log(t);var n,r=!0;try{n=e.parseJSON(t)}catch(s){r=!1}!r||n.error?(alert("An error accurs. Please try again."),i.trigger("hideOverklay")):(i.data("current-design",n),i.trigger("SHOW-CAR-UPLOAD",["complete"]),e("#download-btn").attr("href","php/download.php?path="+n.url))})},400);break;default:$this.data("target")=="colors-switch"?e(".color-info").fadeIn():e(".color-info").fadeOut(),t=e("#"+$this.data("target")),t.stop().fadeIn();if(t.find("li").length<=7)return;t.data("position")=="right"?(h.show(),p.hide()):(h.hide(),p.show())}}).on("mouseover","li",function(){if(!i.hasTouch){var t=e(this);a.find("p").html(t.attr("data-title")),a.show().css("left",t.outerWidth()*t.data("index")-(a.width()-t.outerWidth())/2).fadeIn()}}).on("mouseleave","li",function(){i.hasTouch||a.hide()}).find("li").each(function(t){e(this).data("index",t)}),w=e("#first-name"),E=e("#last-name"),S=e("#email"),x=e("#submit");k();var T=/^\w+([-\.]\w+)*@\w+([\.-]\w+)*\.\w{2,4}$/,N=/^[A-Za-z]{1,7}$/,L=e("#submitted-done-desc p");L.data("content",L.html())}}),o,u,a,f,l,c=!1,h;return s}),define("tools/slider",["jquery","libs/class","TweenMax"],function(e,t){var n=1,r=undefined,i=!1,s=t.extend({el:undefined,ul:undefined,viewPort:undefined,lis:undefined,liW:0,liCount:0,_defaultIndex:1,_idPrefix:undefined,isSpringback:!1,isSeek:!1,options:{onceShow:2,autoResize:!1,itemWidth:-1,itemMargin:0,animationLoop:!1,direction:"v",viewPortPosition:"relative",bound:!1,start:undefined,ended:undefined,update:undefined,_loop:!1,touch:!0},_index:0,currentIndex:0,prevIndex:-1,currentPosition:0,_prevPosition:0,animating:!1,startX:0,startY:0,indexChange:0,_liCache:{},fillObj:undefined,init:function(t,n){this.options=e.extend({},this.options,n),this._idPrefix=(t.attr("id")?t.attr("id"):"slider-"+Math.round(Math.random()*1e3))+"-li-";var r=this;this.options.autoResize&&e(window).resize(function(){r.resize()}),this.el=t,this.ul=this.el.children("ul"),this.lis=this.ul.children("li").each(function(t){e(this).data({index:t}).addClass(r._idPrefix+"item").addClass(r._idPrefix+t).css("-webkit-backface-visibility","hidden")}),this.liCount=this.lis.length,this.ul.css({"-webkit-transform":"translate3d(0,0,0)",position:"absolute","-webkit-backface-visibility":"hidden",width:this.liCount+"00%"}),this.viewport=e("<div class='silder-holder' style='position: "+this.options.viewPortPosition+";overflow:hidden;width:100%;top:0px;'></div>"),this.viewport.append(this.ul).appendTo(this.el);if(this.options.animationLoop&&this.liCount>2&&this.options.onceShow==1){this.liCount>=5&&(this._defaultIndex=2);for(var i=0;i<this._defaultIndex;i++)this.ul.prepend(this.ul.find("."+this._idPrefix+"item:last-child"));this.options._loop=!0,this._seekTo(this._defaultIndex,-1)}var r=this;setTimeout(function(){r.resize()},100);var s="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;s&&this.options.touch&&this.el.bind("touchstart",function(e){r.touchStart(e.originalEvent)})},getLiByIndex:function(e){return this.ul.find("."+this._idPrefix+e)},resize:function(){this.options.fillObj?(this.viewport.height(this.options.fillObj.height()),this.options.itemWidth=this.options.fillObj.width()):this.el.height()>0?(this.viewport.height(this.el.height()),this.options.itemWidth=this.el.width()):(this.viewport.height(this.ul.height()),this.options.itemWidth=this.ul.width()),this.options.itemWidth>0?this.liW=this.options.itemWidth:this.liW=this.el.width()/this.options.onceShow;var t=this;this.lis.each(function(){e(this).css({width:t.liW,height:t.viewport.height()})}),this.currentPosition=-this._index*(this.liW+this.options.itemMargin),this.ul.css({width:this.liCount*(this.liW+this.options.itemMargin),left:this.currentPosition}),this._prevPosition=this.currentPosition},prev:function(e,t){if(this.animating)return;if(this.options._loop)this.indexChange=-1,this.prevIndex=this.currentIndex,console.log(this.currentIndex),this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.liCount-1),this._seekTo(this._defaultIndex-1,e,t);else{if(this._index!=0){var n=this.options.onceShow-this._index;n=n<0?-this.options.onceShow:-this._index,this._index+=n,this.currentPosition-=n*(this.liW+this.options.itemMargin),this.prevIndex=this.currentIndex,this.currentIndex=this._index,this.run(e,t);return}this.options.animationLoop&&(this._index=this.liCount-this.options.onceShow,this.currentPosition=-this._index*(this.liW+this.options.itemMargin),this.prevIndex=this.currentIndex,this.currentIndex=this._index,this.run(e,t))}},next:function(e,t){if(this.animating)return;if(this.options._loop)this.indexChange=1,this.prevIndex=this.currentIndex,this.currentIndex++,this.currentIndex>=this.liCount&&(this.currentIndex=0),this._seekTo(this._defaultIndex+1,e,t);else{var n=this.liCount-(this._index+this.options.onceShow);n=n>this.options.onceShow?this.options.onceShow:n;if(n!=0){this._index+=n,this.currentPosition-=n*(this.liW+this.options.itemMargin),this.prevIndex=this.currentIndex,this.currentIndex=this._index,this.run(e,t);return}this.options.animationLoop&&(this._index=0,this.currentPosition=0,this.prevIndex=this.currentIndex,this.currentIndex=this._index,this.run(e,t))}},_seekTo:function(e,t,n){if(this.animating||this._index==e||e>this.liCount-1)return;this.currentPosition+=(this._index-e)*(this.liW+this.options.itemMargin),this._index=e,this.options._loop||(this.prevIndex=this.currentIndex,this.currentIndex=e),this.run(t,n)},seekTo:function(e,t,n){if(!this.options._loop)this._seekTo(e,t,n);else{this.isSeek=!0;for(var r=0;r<this.liCount;r++)this.ul.append(this.getLiByIndex(r));this.ul.css("left",-this.currentIndex*(this.liW+this.options.itemMargin)),this.currentIndex=this._index=e,this.currentPosition=-this.currentIndex*(this.liW+this.options.itemMargin),this.run(t,n)}},run:function(e,t){e!=0&&(e=e?e:.8),this.animating=!0;var n=this;e>=0&&typeof this.options.start=="function"&&this.options.start.call(this,this.currentIndex,this.prevIndex);if(e<=0){this.ul.css("left",this.currentPosition),this._prevPosition=this.currentPosition,n.animating=!1,e==0&&typeof n.options.ended=="function"&&n.options.ended.call(n,n.currentIndex,n.prevIndex);return}var r=parseFloat(this.ul.css("left"));TweenMax.to(this.ul[0],e,{left:this.currentPosition,ease:t?t:Quad.easeInOut,onUpdate:function(){if(typeof n.options.update=="function"){var e=parseFloat(this.ul.css("left")),t=Math.abs((e-n._prevPosition)/(n.liW+n.options.itemMargin));n.isSpringback&&(t=1-t),n.options.update.call(n,n.currentIndex,n.prevIndex,t)}},onComplete:function(){n.animating=!1,n._prevPosition=n.currentPosition;if(n.options._loop)if(!n.isSeek)n.indexChange<0?n.ul.prepend(n.ul.find("."+n._idPrefix+"item:last-child")):n.indexChange>0&&n.ul.append(n.ul.find("."+n._idPrefix+"item:first-child")),n._seekTo(n._defaultIndex,-1);else{for(var e=0;e<n._defaultIndex;e++)n.ul.prepend(n.ul.find("."+n._idPrefix+"item:last-child"));for(var e=0;e<n.currentIndex;e++)n.ul.append(n.ul.find("."+n._idPrefix+"item:first-child"));n._seekTo(n._defaultIndex,-1),n.isSeek=!1}typeof n.options.ended=="function"&&n.options.ended.call(n,n.currentIndex,n.prevIndex),n.isSpringback=!1}})},touchStart:function(e){function s(e){if(n&&Math.abs(e.originalEvent.touches[0].pageY-t.startY)>5)return o(),!0;if(t.animating)return;n=!1,i=e.originalEvent.touches[0].pageX-t.startX,t.currentPosition+=i,t.currentPosition>r?t.currentPosition=r:t.currentPosition<-(t.liW+t.options.itemMargin)*(t.liCount-t.options.onceShow)-r&&(t.currentPosition=-(t.liW+t.options.itemMargin)*(t.liCount-t.options.onceShow)-r),t.ul.css("left",t.currentPosition),t.startX=e.originalEvent.touches[0].pageX,t.startY=e.originalEvent.touches[0].pageY;if(typeof t.options.update=="function"){var s=-t.currentPosition/(t.liW+t.options.itemMargin),u=Math.abs(t._index-s);u>0&&(s+=.5*(s-t._index>0?1:-1)),s=t.currentIndex+(Math.round(s)-t._defaultIndex),s<0?s+=t.liCount:s>t.liCount-1&&(s=t.liCount-1),t.options.update.call(t,s,t.currentIndex,u)}return!1}function o(e){t.el.unbind("touchmove",s),t.el.unbind("touchend",o);if(e){var n=3e3/Math.abs(i);n=n>250?250:n,n=n<100?100:n;if(t.currentPosition>0||t.currentPosition<-(t.liW+t.options.itemMargin)*(t.liCount-t.options.onceShow))n=250;var r=-t.currentPosition/(t.liW+t.options.itemMargin);Math.abs(r-t._index)>.15?(r+=.5*(r-t._index>0?1:-1),t.isSpringback=!1):t.isSpringback=!0,r=Math.round(r),r<0?r=0:r>t.liCount-1&&(r=t.liCount-1),t.indexChange=r-t._index,t._index=r,t.options._loop?t.indexChange>0?(t.prevIndex=t.currentIndex,t.currentIndex=t.getLiByIndex(t.currentIndex).next().data("index")):t.indexChange<0&&(t.prevIndex=t.currentIndex,t.currentIndex=t.getLiByIndex(t.currentIndex).prev().data("index")):(t.prevIndex=t.currentIndex,t.currentIndex=t._index),t.currentPosition=-t._index*(t.liW+t.options.itemMargin),t.run(n/1e3,Sine.easeOut)}}var t=this;this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY,this.el.bind("touchmove",s),this.el.bind("touchend",o);var n=!0,r=this.options.bound?this.liW/4:0,i}});return s}),define("sections/spo-showroom",["jquery","sections/base","tools/img.loader","core/common","tools/slider"],function(e,t,n,r,i){var s=t.extend({init:function(){function b(e,n,r){r?w(e,n):TweenMax.to(u[0],.2,{alpha:0,onComplete:function(){w(e,n)}}),l==1?t.addClass("disabled"):t.removeClass("disabled"),l==h?i.addClass("disabled"):i.removeClass("disabled")}function w(t,r){u.html("");var i=t.length;i=i<5?5:i;for(var s=0;s<i;s++)if(t[s]){var o=e("<li class='imgload' data-img-src='"+s3Url+t[s].thumbUrl+"' data-fill-mode='canvas' style='cursor:pointer;'/>");o.appendTo(u),o.append(e("<img class='car-fill' style='background:rgba(242,102,73,.7) url(images/loading.gif) no-repeat center center' src='images/1x1.png'>")),o.data(t[s]),o.data("index",t[s].index)}else{var o=e("<li style='cursor:default;'/>");o.appendTo(u),o.append(e("<img class='car-fill' src='images/1x1.png'>")),o.data(t[s])}TweenMax.to(u[0],.35,{alpha:1}),n.load({holder:u,complete:function(){var t=e("#gallery-overlay-close");t.parent().append(t),r&&typeof r=="function"&&r.call(this),u.find(".car-fill").each(function(){e(this).css("background","")})}})}function E(e){var t=k.find(".content-top");TweenMax.to(t[0],.1,{alpha:0,ease:Sine.easeOut,onComplete:function(){t.css({"background-image":"url("+(s3Url+g[e].url)+")"}),TweenMax.to(t[0],.35,{alpha:1,ease:Sine.easeIn})}}),C.html(e+1+"/"+y),e==0?S.addClass("disabled"):S.removeClass("disabled"),e==y-1?x.addClass("disabled"):x.removeClass("disabled"),r.addressTo("showroom/gallery-overlay/"+g[e].id)}if(r.isMobile)return;u=e("#showroom-gallery ul.car-list"),o=e("#showroom-gallery"),v=e("#showroom-loading"),N=e("#showroom-holder"),C=e("#gallery-overlay-imgnum"),d=e("#showroom-gallery-select"),k=e("#gallery-overlay"),L=e("#gallery-overlay-select"),f=e("#showroom-gallery-pagenum");var t=e("#showroom-gallery-pre").addClass("disabled"),i=e("#showroom-gallery-next"),s=e(r.data("car-xml-data")).find("images");if(s.length==0)return;h=parseInt(s.attr("totalpages")),s3Url=s.attr("s3Url")?s.attr("s3Url"):"";for(var a=1;a<=h;a++){var p=[];s.children("e[page='"+a+"']").each(function(t){var n=e(this),r={};r.id=n.attr("id"),r.url=n.attr("url"),r.thumbUrl=n.attr("thumbUrl"),r.index=g.length,p.push(r),g.push(r)}),m[a]=p}y=g.length,v.fadeOut(),u.html(""),b(m[l],null,!0),f.html(l+"/"+h),r.on("INIT-SHOW-ROOM",function(e,t,n){if(n){for(var r=0;r<y;r++)if(g[r].id==n){c=r;break}}else c=t;console.log(c),E(c)}),d.on("click",".showroom-gallery-slcbtns",function(){$this=e(this);if($this.attr("id")=="showroom-gallery-pre"){if(!(l>1))return;l--}else{if(!(l<h))return;l++}r.trigger("TRACKING",["/showroom/page/"+l]),b(m[l]),f.html(l+"/"+h)});var S=e("#gallery-overlay-pre"),x=e("#gallery-overlay-next");e(".gallery-overlay-slcbtns").each(function(t){e(this).on("click",function(){var t=e(this);if(t.data("i")==0){if(!(c>0))return;c--}else{if(!(c<y-1))return;c++}E(c)}).data("i",t)})}}),o,u,a=!1,f,l=1,c=0,h=0,p=8,d,v,m=[],g=[],y=0,b=!1,w=!1,E=!0,S,x,T,N,C,k,L;return s}),define("sections/nick-games",["jquery","sections/base","tools/slider","core/common"],function(e,t,n,r){function s(){var t=e("#games-carousel-btn li");t.eq(0).addClass("selected");var i=new n(e("#games-carousel-content"),{onceShow:1,animationLoop:!0,autoResize:!0,viewPortPosition:"absolute",start:function(e){t.eq(e).addClass("selected").siblings().removeClass("selected")}}),s=new n(e("#overlay-games-holder"),{onceShow:1,animationLoop:!1,autoResize:!0,viewPortPosition:"absolute",start:function(e,t){i.seekTo(e,1e-4),o.eq(e).addClass("selected").siblings().removeClass("selected"),s.getLiByIndex(e).find("iframe").attr("src","games/game-"+(e+1)+"/index.html")},ended:function(e,t){s.getLiByIndex(t).find("iframe").attr("src","")}});e("#games-carousel").on("click",".carousel-slide-btn",function(){$this=e(this),$this.hasClass("carousel-slide-left")?(i.prev(),r.trigger("TRACKING",["/games/prev-btn"])):(i.next(),r.trigger("TRACKING",["/games/next-btn"]))}),e("#games-carousel-btn li").each(function(t){e(this).data("index",t).on("click",function(){var t=e(this).data("index");if(i.currentIndex==t)return;i.seekTo(t),r.trigger("TRACKING",["/games/seek-btn/"+(t+1)])})}),e("#game-overlay-close").on("click",function(){s.getLiByIndex(s.currentIndex).find("iframe").attr("src","")});var o=e("#game-overlay .content-bottom li").each(function(t){e(this).data("index",t).on("click",function(){var t=e(this),n=t.data("index");s.seekTo(n),r.addressTo("games/games-overlay/"+(n+1))})});o.eq(0).addClass("selected"),e("#games-carousel-content").on("click",function(){e("#game-center").trigger("click")}),r.on("games-overlay",function(t,n){i.seekTo(n-1,0),e("#game-center").trigger("click")}),r.hasTouch?(e("#game-center").css("visibility","hidden"),e(".unsupport").show()):e("#game-center").on("click",function(){if(r.hasTouch)return;var e=i.currentIndex;s.seekTo(e,0),s.getLiByIndex(e).find("iframe").attr("src","games/game-"+(e+1)+"/index.html"),r.addressTo("games/games-overlay/"+(e+1))});var u=e("#overlay-games-holder .games-box");r.resize(function(e){e&&r.trigger("GAMES-OVERLAY-REFRESH")}),r.on("GAMES-OVERLAY-REFRESH",function(){var t=u.eq(0).parent("li"),n=t.height(),r=t.width();u.each(function(){var t=e(this),i=t.find("iframe"),s=n*(t.data("width")/t.data("height"));t.height(n).width(s).css("margin-left",(r-s)/2),i.height(n).width(s)})})}var i=t.extend({init:function(){s()}});return i}),function(window,undefined){function returnTrue(){return!0}function returnFalse(){return!1}var document=window.document;document.createElement("video"),document.createElement("audio");var VideoJS=function(e,t,n){var r;if(typeof e=="string"){e.indexOf("#")===0&&(e=e.slice(1));if(_V_.players[e])return _V_.players[e];r=_V_.el(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (VideoJS)");return r.player||new _V_.Player(r,t,n)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={},VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},overlay:{}}},CDN_VERSION!="GENERATED_CDN_VSN"&&(_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"),_V_.merge=function(e,t,n){t||(t={});for(var r in t)t.hasOwnProperty(r)&&(!n||!e.hasOwnProperty(r))&&(e[r]=t[r]);return e},_V_.extend=function(e){this.merge(this,e,!0)},_V_.extend({tech:{},controlSets:{},isIE:function(){return!1},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var e=navigator.userAgent.match(/OS (\d+)_/i);if(e&&e[1])return e[1]},isAndroid:function(){return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion:function(){var e=navigator.userAgent.match(/Android (\d+)\./i);if(e&&e[1])return e[1]},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(e,t){if(!e||e.length===0)return;for(var n=0,r=e.length;n<r;n++)t.call(this,e[n],n)},eachProp:function(e,t){if(!e)return;for(var n in e)e.hasOwnProperty(n)&&t.call(this,n,e[n])},el:function(e){return document.getElementById(e)},createElement:function(e,t){var n=document.createElement(e),r;for(r in t)t.hasOwnProperty(r)&&(r.indexOf("-")!==-1?n.setAttribute(r,t[r]):n[r]=t[r]);return n},insertFirst:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},addClass:function(e,t){(" "+e.className+" ").indexOf(" "+t+" ")==-1&&(e.className=e.className===""?t:e.className+" "+t)},removeClass:function(e,t){if(e.className.indexOf(t)==-1)return;var n=e.className.split(" ");n.splice(n.indexOf(t),1),e.className=n.join(" ")},remove:function(e,t){if(!t)return;var n=t.indexOf(e);if(n!=-1)return t.splice(n,1)},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);return i=i>0||o>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n},uc:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getRelativePosition:function(e,t){return Math.max(0,Math.min(1,(e-_V_.findPosX(t))/t.offsetWidth))},getComputedStyleValue:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},isEmpty:function(e){for(var t in e)return!1;return!0},createTimeRange:function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(e){var t=e[_V_.expando];return t||(t=e[_V_.expando]=_V_.guid++,_V_.cache[t]={}),_V_.cache[t]},removeData:function(e){var t=e[_V_.expando];if(!t)return;delete _V_.cache[t];try{delete e[_V_.expando]}catch(n){e.removeAttribute?e.removeAttribute(_V_.expando):e[_V_.expando]=null}},proxy:function(e,t,n){t.guid||(t.guid=_V_.guid++);var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},get:function(e,t,n){var r=e.indexOf("file:")==0||window.location.href.indexOf("file:")==0&&e.indexOf("http:")==-1;typeof XMLHttpRequest=="undefined"&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")});var i=new XMLHttpRequest;try{i.open("GET",e)}catch(s){return _V_.log("VideoJS XMLHttpRequest (open)",s),!1}i.onreadystatechange=_V_.proxy(this,function(){i.readyState==4&&(i.status==200||r&&i.status==0?t(i.responseText):n&&n())});try{i.send()}catch(s){_V_.log("VideoJS XMLHttpRequest (send)",s),n&&n(s)}},setLocalStorage:function(e,t){var n=window.localStorage||!1;if(!n)return;try{n[e]=t}catch(r){r.code==22||r.code==1014?_V_.log("LocalStorage Full (VideoJS)",r):_V_.log("LocalStorage Error (VideoJS)",r)}},getAbsoluteURL:function(e){return e.match(/^https?:\/\//)||(e=_V_.createElement("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e}}),_V_.log=function(){_V_.log.history=_V_.log.history||[],_V_.log.history.push(arguments);if(window.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log=="object"?_V_.log.apply.call(console.log,console,e):console.log.apply(console,e)}},function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();)e[r]=e[r]||t}(function(){try{return console.log(),window.console}catch(e){return window.console={}}}()),"getBoundingClientRect"in document.documentElement?_V_.findPosX=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){}if(!t)return 0;var r=document.documentElement,i=document.body,s=r.clientLeft||i.clientLeft||0,o=window.pageXOffset||i.scrollLeft,u=t.left+o-s;return u}:_V_.findPosX=function(e){var t=e.offsetLeft;while(e=obj.offsetParent)e.className.indexOf("video-js")==-1,t+=e.offsetLeft;return t},function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;_V_.Class=function(){},_V_.Class.extend=function(n){function o(){if(!e&&this.init)return this.init.apply(this,arguments);if(!e)return arguments.callee.prototype.init()}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.constructor=o,o.extend=arguments.callee,o}}(),_V_.Component=_V_.Class.extend({init:function(e,t){this.player=e,t=this.options=_V_.merge(this.options||{},t),t.el?this.el=t.el:this.el=this.createElement(),this.initComponents()},destroy:function(){},createElement:function(e,t){return _V_.createElement(e||"div",t)},buildCSSClass:function(){return""},initComponents:function(){var e=this.options;e&&e.components&&this.eachProp(e.components,function(e,t){var n=this.proxy(function(){this[e]=this.addComponent(e,t)});t.loadEvent?this.one(t.loadEvent,n):n()})},addComponent:function(e,t){var n,r;return typeof e=="string"?(t=t||{},r=t.componentClass||_V_.uc(e),n=new _V_[r](this.player||this,t)):n=e,this.el.appendChild(n.el),n},removeComponent:function(e){this.el.removeChild(e.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out")},lockShowing:function(){var e=this.el.style;e.display="block",e.opacity=1,e.visiblity="visible"},unlockShowing:function(){var e=this.el.style;e.display="",e.opacity="",e.visiblity=""},addClass:function(e){_V_.addClass(this.el,e)},removeClass:function(e){_V_.removeClass(this.el,e)},addEvent:function(e,t,n){return _V_.addEvent(this.el,e,_V_.proxy(this,t))},removeEvent:function(e,t){return _V_.removeEvent(this.el,e,t)},triggerEvent:function(e,t){return _V_.triggerEvent(this.el,e,t)},one:function(e,t){_V_.one(this.el,e,_V_.proxy(this,t))},ready:function(e){return e?(this.isReady?e.call(this):(this.readyQueue===undefined&&(this.readyQueue=[]),this.readyQueue.push(e)),this):this},triggerReady:function(){this.isReady=!0,this.readyQueue&&this.readyQueue.length>0&&(this.each(this.readyQueue,function(e){e.call(this)}),this.readyQueue=[],this.triggerEvent("ready"))},each:function(e,t){_V_.each.call(this,e,t)},eachProp:function(e,t){_V_.eachProp.call(this,e,t)},extend:function(e){_V_.merge(this,e)},proxy:function(e,t){return _V_.proxy(this,e,t)}}),_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}}),_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(e,t){this._super(e,t),e.addEvent("play",this.proxy(function(){this.fadeIn(),this.player.addEvent("mouseover",this.proxy(this.fadeIn)),this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super(),this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super(),this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}}),_V_.Button=_V_.Control.extend({init:function(e,t){this._super(e,t),this.addEvent("click",this.onClick),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur)},createElement:function(e,t){return t=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div class="button-rollover-bg"></div><div class="button-rollover"><div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div></div>",role:"button",tabIndex:0},t),this._super(e,t)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){if(e.which==32||e.which==13)e.preventDefault(),this.onClick()},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}}),_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}}),_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.onPlay)),e.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){this.player.paused()?this.player.play():this.player.pause()},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")}}),_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){this.player.isFullScreen?this.player.cancelFullScreen():this.player.requestFullScreen()}}),_V_.BigPlayButton=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.hide)),e.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:'<div class="play-box"><span></span></div>'})},onClick:function(){this.player.currentTime(),this.player.play()}}),_V_.Overlay=_V_.Button.extend({init:function(e,t){this._super(e,t)},createElement:function(){return this._super("div",{className:"vjs-overlay",innerHTML:""})},onClick:function(){this.player.paused()?this.player.play():this.player.pause()}}),_V_.LoadingSpinner=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("canplay",_V_.proxy(this,this.hide)),e.addEvent("canplaythrough",_V_.proxy(this,this.hide)),e.addEvent("playing",_V_.proxy(this,this.hide)),e.addEvent("seeking",_V_.proxy(this,this.show)),e.addEvent("error",_V_.proxy(this,this.show)),e.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var e,t;return typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"?(e="vjs-loading-spinner",t="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"):(e="vjs-loading-spinner-fallback",t=""),this._super("div",{className:e,innerHTML:t})}}),_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){var e=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(e,this.player.duration())}}),_V_.DurationDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML=_V_.formatTime(this.player.duration()))}}),_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}),_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime()))}}),_V_.Slider=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent(this.playerEvent,_V_.proxy(this,this.update)),this.addEvent("mousedown",this.onMouseDown),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur),this.player.addEvent("controlsvisible",this.proxy(this.update)),this.update()},createElement:function(e,t){return t=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),this._super(e,t)},onMouseDown:function(e){e.preventDefault(),_V_.blockTextSelection(),_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove)),_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp)),this.onMouseMove(e)},onMouseUp:function(e){_V_.unblockTextSelection(),_V_.removeEvent(document,"mousemove",this.onMouseMove,!1),_V_.removeEvent(document,"mouseup",this.onMouseUp,!1),this.update()},update:function(){var e,t=this.getPercent();handle=this.handle,bar=this.bar,isNaN(t)&&(t=0),e=t;if(handle){var n=this.el,r=n.offsetWidth,i=handle.el.offsetWidth,s=i?i/r:0,o=1-s;adjustedProgress=t*o,e=adjustedProgress+s/2,handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"}bar.el.style.width=_V_.round(e*100,2)+"%"},calculateDistance:function(e){var t=this.el,n=_V_.findPosX(t),r=t.offsetWidth,i=this.handle;if(i){var s=i.el.offsetWidth;n+=s/2,r-=s}return Math.max(0,Math.min(1,(e.pageX-n)/r))},onFocus:function(e){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){e.which==37?(e.preventDefault(),this.stepBack()):e.which==39&&(e.preventDefault(),this.stepForward())},onBlur:function(e){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}}),_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(e,t){this._super(e,t)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(e){this._super(e),this.player.scrubbing=!0,this.videoWasPlaying=!this.player.paused(),this.player.pause()},onMouseMove:function(e){var t=this.calculateDistance(e)*this.player.duration();t==this.player.duration()&&(t-=.1),this.player.currentTime(t)},onMouseUp:function(e){this._super(e),this.player.scrubbing=!1,this.videoWasPlaying&&this.player.play()},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}}),_V_.LoadProgressBar=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){this.el.style&&(this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%")}}),_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}}),_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}}),_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}}),_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(e){this.player.volume(this.calculateDistance(e))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}}),_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.MuteToggle=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(e){this.player.muted(this.player.muted()?!1:!0)},update:function(e){var t=this.player.volume(),n=3;t==0||this.player.muted()?n=0:t<.33?n=1:t<.67&&(n=2),_V_.each.call(this,[0,1,2,3],function(e){_V_.removeClass(this.el,"vjs-vol-"+e)}),_V_.addClass(this.el,"vjs-vol-"+n)}}),_V_.PosterImage=_V_.Button.extend({init:function(e,t){this._super(e,t),this.player.options.poster||this.hide(),e.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}}),_V_.Menu=_V_.Component.extend({init:function(e,t){this._super(e,t)},addItem:function(e){this.addComponent(e),e.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}}),_V_.MenuItem=_V_.Button.extend({init:function(e,t){this._super(e,t),t.selected&&this.addClass("vjs-selected")},createElement:function(e,t){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},t))},onClick:function(){this.selected(!0)},selected:function(e){e?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!==r?r=0:r!==0&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1}),_V_.extend({addEvent:function(e,t,n){var r=_V_.getData(e),i;r&&!r.handler&&(r.handler=function(t){t=_V_.fixEvent(t);var n=_V_.getData(e).events[t.type];if(n){var r=[];_V_.each(n,function(e,t){r[t]=e});for(var i=0,s=r.length;i<s;i++)r[i].call(e,t)}}),r.events||(r.events={}),i=r.events[t],i||(i=r.events[t]=[],document.addEventListener?e.addEventListener(t,r.handler,!1):document.attachEvent&&e.attachEvent("on"+t,r.handler)),n.guid||(n.guid=_V_.guid++),i.push(n)},removeEvent:function(e,t,n){var r=_V_.getData(e),i;if(!r.events)return;if(!t){for(t in r.events)_V_.cleanUpEvents(e,t);return}i=r.events[t];if(!i)return;if(n&&n.guid)for(var s=0;s<i.length;s++)i[s].guid===n.guid&&i.splice(s--,1);_V_.cleanUpEvents(e,t)},cleanUpEvents:function(e,t){var n=_V_.getData(e);n.events[t].length===0&&(delete n.events[t],document.removeEventListener?e.removeEventListener(t,n.handler,!1):document.detachEvent&&e.detachEvent("on"+t,n.handler)),_V_.isEmpty(n.events)&&(delete n.events,delete n.handler),_V_.isEmpty(n)&&_V_.removeData(e)},fixEvent:function(e){if(e[_V_.expando])return e;var t=e;e=new _V_.Event(t);for(var n=_V_.Event.props.length,r;n;)r=_V_.Event.props[--n],e[r]=t[r];e.target||(e.target=e.srcElement||document),e.target.nodeType===3&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement);if(e.pageX==null&&e.clientX!=null){var i=e.target.ownerDocument||document,s=i.documentElement,o=i.body;e.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}return e.which==null&&(e.charCode!=null||e.keyCode!=null)&&(e.which=e.charCode!=null?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button!==undefined&&(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0),e},triggerEvent:function(e,t){var n=_V_.getData(e),r=e.parentNode||e.ownerDocument,i=t.type||t,s;n&&(s=n.handler),t=typeof t=="object"?t[_V_.expando]?t:new _V_.Event(i,t):new _V_.Event(i),t.type=i,s&&s.call(e,t),t.result=undefined,t.target=e},one:function(e,t,n){_V_.addEvent(e,t,function(){_V_.removeEvent(e,t,arguments.callee),n.apply(this,arguments)})}}),_V_.Event=function(e,t){e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&_V_.merge(this,t),this.timeStamp=(new Date).getTime(),this[_V_.expando]=!0},_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;JSON||(JSON={}),function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),_V_.Player=_V_.Component.extend({init:function(e,t,n){this.tag=e;var r=this.el=_V_.createElement("div"),i=this.options={},s=i.width=e.getAttribute("width"),o=i.height=e.getAttribute("height"),u=s||300,a=o||150;e.player=r.player=this,this.ready(n),e.parentNode.insertBefore(r,e),r.appendChild(e),r.id=this.id=e.id,r.className=e.className,e.id+="_html5_api",e.className="vjs-tech",_V_.players[r.id]=this,r.setAttribute("width",u),r.setAttribute("height",a),r.style.width&&(r.style.width=u+"px",r.style.height=a+"px"),e.removeAttribute("width"),e.removeAttribute("height"),_V_.merge(i,_V_.options),_V_.merge(i,this.getVideoTagSettings()),_V_.merge(i,t),e.removeAttribute("controls"),e.removeAttribute("poster");if(e.hasChildNodes())for(var f=0,l=e.childNodes;f<l.length;f++)(l[f].nodeName=="SOURCE"||l[f].nodeName=="TRACK")&&e.removeChild(l[f]);this.values={},this.addClass("vjs-paused"),this.addEvent("ended",this.onEnded),this.addEvent("play",this.onPlay),this.addEvent("pause",this.onPause),this.addEvent("progress",this.onProgress),this.addEvent("error",this.onError),i.controls&&this.ready(function(){this.initComponents()}),this.textTracks=[],i.tracks&&i.tracks.length>0&&this.addTextTracks(i.tracks);if(!i.sources||i.sources.length==0)for(var f=0,l=i.techOrder;f<l.length;f++){var c=l[f],h=_V_[c];if(h.isSupported()){this.loadTech(c);break}}else this.src(i.sources)},values:{},destroy:function(){this.stopTrackingProgress(),this.stopTrackingCurrentTime(),_V_.players[this.id]=null,delete _V_.players[this.id],this.tech.destroy(),this.el.parentNode.removeChild(this.el)},createElement:function(e,t){},getVideoTagSettings:function(){var e={sources:[],tracks:[]};e.src=this.tag.getAttribute("src"),e.controls=this.tag.getAttribute("controls")!==null,e.poster=this.tag.getAttribute("poster"),e.preload=this.tag.getAttribute("preload"),e.autoplay=this.tag.getAttribute("autoplay")!==null,e.loop=this.tag.getAttribute("loop")!==null,e.muted=this.tag.getAttribute("muted")!==null;if(this.tag.hasChildNodes())for(var t,n=0,r=this.tag.childNodes;n<r.length;n++)t=r[n],t.nodeName=="SOURCE"&&e.sources.push({src:t.getAttribute("src"),type:t.getAttribute("type"),media:t.getAttribute("media"),title:t.getAttribute("title")}),t.nodeName=="TRACK"&&e.tracks.push({src:t.getAttribute("src"),kind:t.getAttribute("kind"),srclang:t.getAttribute("srclang"),label:t.getAttribute("label"),"default":t.getAttribute("default")!==null,title:t.getAttribute("title")});return e},loadTech:function(e,t){this.tech?this.unloadTech():e!="html5"&&this.tag&&(this.el.removeChild(this.tag),this.tag=!1),this.techName=e,this.isReady=!1;var n=function(){this.player.triggerReady(),this.support.progressEvent||this.player.manualProgressOn(),this.support.timeupdateEvent||this.player.manualTimeUpdatesOn()},r=_V_.merge({source:t,parentEl:this.el},this.options[e]);t&&(t.src==this.values.src&&this.values.currentTime>0&&(r.startTime=this.values.currentTime),this.values.src=t.src),this.tech=new _V_[e](this,r),this.tech.ready(n)},unloadTech:function(){this.tech.destroy(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},manualProgressOn:function(){this.manualProgress=!0,this.trackProgress(),this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee),this.support.progressEvent=!0,this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=!1,this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){this.values.bufferEnd<this.buffered().end(0)?this.triggerEvent("progress"):this.bufferedPercent()==1&&(this.stopTrackingProgress(),this.triggerEvent("progress"))}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0,this.addEvent("play",this.trackCurrentTime),this.addEvent("pause",this.stopTrackingCurrentTime),this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee),this.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.removeEvent("play",this.trackCurrentTime),this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){this.options.loop?(this.currentTime(0),this.play()):(this.pause(),this.currentTime(0),this.pause())},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){this.bigPlayButton.el.style.display="block",_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")},onProgress:function(){this.bufferedPercent()==1&&this.triggerEvent("loadedalldata")},onError:function(e){_V_.log("Video Error",e)},techCall:function(e,t){if(!this.tech.isReady)this.tech.ready(function(){this[e](t)});else try{this.tech[e](t)}catch(n){_V_.log(n)}},techGet:function(e){if(this.tech.isReady)try{return this.tech[e]()}catch(t){this.tech[e]===undefined?_V_.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):t.name=="TypeError"?(_V_.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady=!1):_V_.log(t)}return},play:function(){return this.techCall("play"),this},pause:function(){return this.techCall("pause"),this},paused:function(){return this.techGet("paused")===!1?!1:!0},currentTime:function(e){return e!==undefined?(this.values.lastSetCurrentTime=e,this.techCall("setCurrentTime",e),this.manualTimeUpdates&&this.triggerEvent("timeupdate"),this):this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var e=this.techGet("buffered"),t=0,n=this.values.bufferEnd=this.values.bufferEnd||0,r;return e&&e.length>0&&e.end(0)!==n&&(n=e.end(0),this.values.bufferEnd=n),_V_.createTimeRange(t,n)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(e){var t;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.values.volume=t,this.techCall("setVolume",t),_V_.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},muted:function(e){return e!==undefined?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},width:function(e,t){return e!==undefined?(this.el.width=e,this.el.style.width=e+"px",t||this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("width"))},height:function(e){return e!==undefined?(this.el.height=e,this.el.style.height=e+"px",this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("height"))},size:function(e,t){return this.width(e,!0).height(t)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},requestFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!0,e?(_V_.addEvent(document,e.eventName,this.proxy(function(){this.isFullScreen=document[e.isFullScreen],this.isFullScreen==0&&_V_.removeEvent(document,e.eventName,arguments.callee),this.triggerEvent("fullscreenchange")})),this.tech.support.fullscreenResize===!1&&this.options.flash.iFrameMode!=1?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),this.el[e.requestFn]()):this.el[e.requestFn]()):this.tech.supportsFullScreen()?(this.triggerEvent("fullscreenchange"),this.techCall("enterFullScreen")):(this.triggerEvent("fullscreenchange"),this.enterFullWindow()),this},cancelFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!1,e?this.tech.support.fullscreenResize===!1&&this.options.flash.iFrameMode!=1?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),document[e.cancelFn]()):document[e.cancelFn]():this.tech.supportsFullScreen()?(this.techCall("exitFullScreen"),this.triggerEvent("fullscreenchange")):(this.exitFullWindow(),this.triggerEvent("fullscreenchange")),this},enterFullWindow:function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",_V_.addClass(document.body,"vjs-full-window"),_V_.addClass(this.el,"vjs-fullscreen"),this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(e){e.keyCode==27&&(this.isFullScreen==1?this.cancelFullScreen():this.exitFullWindow())},exitFullWindow:function(){this.isFullWindow=!1,_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(document.body,"vjs-full-window"),_V_.removeClass(this.el,"vjs-fullscreen"),this.triggerEvent("exitFullWindow")},selectSource:function(e){for(var t=0,n=this.options.techOrder;t<n.length;t++){var r=n[t],i=_V_[r];if(i.isSupported())for(var s=0,o=e;s<o.length;s++){var u=o[s];if(i.canPlaySource.call(this,u))return{source:u,tech:r}}}return!1},src:function(e){if(e instanceof Array){var t=this.selectSource(e),e,n;t?(e=t.source,n=t.tech,n==this.techName?this.src(e):this.loadTech(n,e)):_V_.log("No compatible source and playback technology were found.")}else e instanceof Object?_V_[this.techName].canPlaySource(e)?this.src(e.src):this.src([e]):(this.values.src=e,this.isReady?(this.techCall("src",e),this.options.preload=="auto"&&this.load(),this.options.autoplay&&this.play()):this.ready(function(){this.src(e)}));return this},load:function(){return this.techCall("load"),this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(e){return e!==undefined?(this.techCall("setPreload",e),this.options.preload=e,this):this.techGet("preload")},autoplay:function(e){return e!==undefined?(this.techCall("setAutoplay",e),this.options.autoplay=e,this):this.techGet("autoplay",e)},loop:function(e){return e!==undefined?(this.techCall("setLoop",e),this.options.loop=e,this):this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}}),function(){var e,t,n,r,i=_V_.Player.prototype;document.cancelFullscreen!==undefined?(e="requestFullscreen",t="exitFullscreen",n="fullscreenchange",r="fullScreen"):_V_.each(["moz","webkit"],function(i){(i!="moz"||document.mozFullScreenEnabled)&&document[i+"CancelFullScreen"]!==undefined&&(e=i+"RequestFullScreen",t=i+"CancelFullScreen",n=i+"fullscreenchange",i=="webkit"?r=i+"IsFullScreen":r=i+"FullScreen")}),e&&(_V_.support.requestFullScreen={requestFn:e,cancelFn:t,eventName:n,isFullScreen:r})}(),_V_.PlaybackTech=_V_.Component.extend({init:function(e,t){},onClick:function(){this.player.options.controls&&_V_.PlayToggle.prototype.onClick.call(this)}}),_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","),_V_.each(_V_.apiMethods,function(e){_V_.PlaybackTech.prototype[e]=function(){throw new Error("The '"+e+"' method is not available on the playback technology's API")}}),_V_.html5=_V_.PlaybackTech.extend({init:function(e,t,n){this.player=e,this.el=this.createElement(),this.ready(n),this.addEvent("click",this.proxy(this.onClick));var r=t.source;r&&this.el.currentSrc==r.src?e.triggerEvent("loadstart"):r&&(this.el.src=r.src),e.ready(function(){this.options.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.setupTriggers(),this.triggerReady()},destroy:function(){this.player.tag=!1,this.removeTriggers(),this.el.parentNode.removeChild(this.el)},createElement:function(){var e=_V_.html5,t=this.player,n=t.tag,r;if(!n||this.support.movingElementInDOM===!1)n&&t.el.removeChild(n),r=_V_.createElement("video",{id:n.id||t.el.id+"_html5_api",className:n.className||"vjs-tech"}),n=r,_V_.insertFirst(n,t.el);return _V_.each(["autoplay","preload","loop","muted"],function(e){t.options[e]!==null&&(n[e]=t.options[e])},this),n},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.addEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.removeEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation(),this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(e){try{this.el.currentTime=e}catch(t){_V_.log(t,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(e){this.el.volume=e},muted:function(){return this.el.muted},setMuted:function(e){this.el.muted=e},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return typeof this.el.webkitEnterFullScreen=="function"&&!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")?!0:!1},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){e.code==11&&_V_.log("VideoJS: Video not ready.")}},src:function(e){this.el.src=e},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(e){this.el.preload=e},autoplay:function(){return this.el.autoplay},setAutoplay:function(e){this.el.autoplay=e},loop:function(){return this.el.loop},setLoop:function(e){this.el.loop=e},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}}),_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType},_V_.html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)},_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?!0:!1:!1,movingElementInDOM:!_V_.isIOS()},_V_.isAndroid()&&_V_.androidVersion()<3&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&e.toLowerCase().indexOf("video/mp4")!=-1?"maybe":""}),_V_.flash=_V_.PlaybackTech.extend({init:function(e,t){this.player=e;var n=t.source,r=t.parentEl,i=this.el=_V_.createElement("div",{id:r.id+"_temp_flash"}),s=e.el.id+"_flash_api",o=e.options,u=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:o.autoplay,preload:o.preload,loop:o.loop,muted:o.muted},t.flashVars),a=_V_.merge({wmode:"opaque",bgcolor:"#000000"},t.params),f=_V_.merge({id:s,name:s,"class":"vjs-tech"},t.attributes);n&&(u.src=encodeURIComponent(_V_.getAbsoluteURL(n.src))),_V_.insertFirst(i,r),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)});if(t.iFrameMode==1&&!_V_.isFF){var l=_V_.createElement("iframe",{id:s+"_iframe",name:s+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});u.readyFunction="ready",u.eventProxyFunction="events",u.errorEventProxyFunction="errors",_V_.addEvent(l,"load",_V_.proxy(this,function(){var e,n,r,i=l.contentWindow,s="";e=l.contentDocument?l.contentDocument:l.contentWindow.document,e.write(_V_.flash.getEmbedCode(t.swf,u,a,f)),i.player=this.player,i.ready=_V_.proxy(this.player,function(t){var n=e.getElementById(t),r=this,i=r.tech;i.el=n,_V_.addEvent(n,"click",i.proxy(i.onClick)),_V_.flash.checkReady(i)}),i.events=_V_.proxy(this.player,function(e,t,n){var r=this;r&&r.techName=="flash"&&r.triggerEvent(t)}),i.errors=_V_.proxy(this.player,function(e,t){_V_.log("Flash Error",t)})})),i.parentNode.replaceChild(l,i)}else _V_.flash.embed(t.swf,i,u,a,f)},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(e){e=_V_.getAbsoluteURL(e),this.el.vjs_src(e);if(this.player.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return!1},enterFullScreen:function(){return!1}}),function(){var e=_V_.flash.prototype,t="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),n="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),r="load,play,pause".split(",");createSetter=function(t){var n=t.charAt(0).toUpperCase()+t.slice(1);e["set"+n]=function(e){return this.el.vjs_setProperty(t,e)}},createGetter=function(t){e[t]=function(){return this.el.vjs_getProperty(t)}},_V_.each(t,function(e){createGetter(e),createSetter(e)}),_V_.each(n,function(e){createGetter(e)})}(),_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10},_V_.flash.canPlaySource=function(e){if(e.type in _V_.flash.prototype.support.formats)return"maybe"},_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:!1,timeupdateEvent:!1,fullscreenResize:!1,parentResize:!_V_.ua.match("Firefox")},_V_.flash.onReady=function(e){var t=_V_.el(e),n=t.player||t.parentNode.player,r=n.tech;t.player=n,r.el=t,r.addEvent("click",r.onClick),_V_.flash.checkReady(r)},_V_.flash.checkReady=function(e){e.el.vjs_getProperty?e.triggerReady():setTimeout(function(){_V_.flash.checkReady(e)},50)},_V_.flash.onEvent=function(e,t){var n=_V_.el(e).player;n.triggerEvent(t)},_V_.flash.onError=function(e,t){var n=_V_.el(e).player;n.triggerEvent("error"),_V_.log("Flash Error",t,e)},_V_.flash.version=function(){var e="0,0,0";try{e=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return e.split(",")},_V_.flash.embed=function(e,t,n,r,i){var s=_V_.flash.getEmbedCode(e,n,r,i),o=_V_.createElement("div",{innerHTML:s}).childNodes[0],u=t.parentNode;t.parentNode.replaceChild(o,t);if(_V_.isIE()){var a=u.childNodes[0];setTimeout(function(){a.style.display="block"},1e3)}return o},_V_.flash.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash"',s="",o="";return attrsString="",t&&_V_.eachProp(t,function(e,t){s+=e+"="+t+"&amp;"}),n=_V_.merge({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},n),_V_.eachProp(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'}),r=_V_.merge({data:e,width:"100%",height:"100%"},r),_V_.eachProp(r,function(e,t){attrsString+=e+'="'+t+'" '}),i+attrsString+">"+o+"</object>"},_V_.merge(_V_.Player.prototype,{addTextTracks:function(e){var t=this.textTracks=this.textTracks?this.textTracks:[],n=0,r=e.length,i,s;for(;n<r;n++)s=_V_.uc(e[n].kind||"subtitles"),i=new _V_[s+"Track"](this,e[n]),t.push(i),i["default"]&&this.ready(_V_.proxy(i,i.show));return this},showTextTrack:function(e,t){var n=this.textTracks,r=0,i=n.length,s,o,u;for(;r<i;r++)s=n[r],s.id===e?(s.show(),o=s):t&&s.kind==t&&s.mode>0&&s.disable();return u=o?o.kind:t?t:!1,u&&this.triggerEvent(u+"trackchange"),this}}),_V_.Track=_V_.Component.extend({init:function(e,t){this._super(e,t),_V_.merge(this,{id:t.id||"vjs_"+t.kind+"_"+t.language+"_"+_V_.guid++,src:t.src,"default":t["default"],title:t.title,language:t.srclang,label:t.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate(),this.mode=2,this._super()},hide:function(){this.activate(),this.mode=1,this._super()},disable:function(){this.mode==2&&this.hide(),this.deactivate(),this.mode=0},activate:function(){this.readyState==0&&this.load(),this.mode==0&&(this.player.addEvent("timeupdate",this.proxy(this.update,this.id)),this.player.addEvent("ended",this.proxy(this.reset,this.id)),(this.kind=="captions"||this.kind=="subtitles")&&this.player.textTrackDisplay.addComponent(this))},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id)),this.player.removeEvent("ended",this.proxy(this.reset,this.id)),this.reset(),this.player.textTrackDisplay.removeComponent(this)},load:function(){this.readyState==0&&(this.readyState=1,_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError)))},onError:function(e){this.error=e,this.readyState=3,this.triggerEvent("error")},parseCues:function(e){var t,n,r,i=e.split("\n"),s="",o;for(var u=1,a=i.length;u<a;u++){s=_V_.trim(i[u]);if(s){s.indexOf("-->")==-1?(o=s,s=_V_.trim(i[++u])):o=this.cues.length,t={id:o,index:this.cues.length},n=s.split(" --> "),t.startTime=this.parseCueTime(n[0]),t.endTime=this.parseCueTime(n[1]),r=[];while(i[++u]&&(s=_V_.trim(i[u])))r.push(s);t.text=r.join("<br/>"),this.cues.push(t)}}this.readyState=2,this.triggerEvent("loaded")},parseCueTime:function(e){var t=e.split(":"),n=0,r,i,s,o,u,a;return t.length==3?(r=t[0],i=t[1],s=t[2]):(r=0,i=t[0],s=t[1]),s=s.split(/\s+/),o=s.splice(0,1)[0],o=o.split(/\.|,/),u=parseFloat(o[1]),o=o[0],n+=parseFloat(r)*3600,n+=parseFloat(i)*60,n+=parseFloat(o),u&&(n+=u/1e3),n},update:function(){if(this.cues.length>0){var e=this.player.currentTime();if(this.prevChange===undefined||e<this.prevChange||this.nextChange<=e){var t=this.cues,n=this.player.duration(),r=0,i=!1,s=[],o,u,a="",f,l,c;e>=this.nextChange||this.nextChange===undefined?l=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(i=!0,l=this.lastActiveIndex!==undefined?this.lastActiveIndex:t.length-1);for(;;){f=t[l];if(f.endTime<=e)r=Math.max(r,f.endTime),f.active&&(f.active=!1);else if(e<f.startTime){n=Math.min(n,f.startTime),f.active&&(f.active=!1);if(!i)break}else i?(s.splice(0,0,f),u===undefined&&(u=l),o=l):(s.push(f),o===undefined&&(o=l),u=l),n=Math.min(n,f.endTime),r=Math.max(r,f.startTime),f.active=!0;if(i){if(l===0)break;l--}else{if(l===t.length-1)break;l++}}this.activeCues=s,this.nextChange=n,this.prevChange=r,this.firstActiveIndex=o,this.lastActiveIndex=u,this.updateDisplay(),this.triggerEvent("cuechange")}}},updateDisplay:function(){var e=this.activeCues,t="",n=0,r=e.length;for(;n<r;n++)t+="<span class='vjs-tt-cue'>"+e[n].text+"</span>";this.el.innerHTML=t},reset:function(){this.nextChange=0,this.prevChange=this.player.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0}}),_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"}),_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"}),_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"}),_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}}),_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var n=this.track=t.track;t.label=n.label,t.selected=n["default"],this._super(e,t),this.player.addEvent(n.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){this.track.mode==2?this.selected(!0):this.selected(!1)}}),_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:"Off"},this._super(e,t)},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){var e=this.player.textTracks,t=0,n=e.length,r,i=!0;for(;t<n;t++)r=e[t],r.kind==this.track.kind&&r.mode==2&&(i=!1);i?this.selected(!0):this.selected(!1)}}),_V_.TextTrackButton=_V_.Button.extend({init:function(e,t){this._super(e,t),this.menu=this.createMenu(),this.items.length===0&&this.hide()},createMenu:function(){var e=new _V_.Menu(this.player);return e.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),e.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind})),this.items=this.createItems(),this.each(this.items,function(t){e.addItem(t)}),this.addComponent(e),e},createItems:function(){var e=[];return this.each(this.player.textTracks,function(t){t.kind===this.kind&&e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}),e},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing(),_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing(),this.el.blur()}))}}),_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"}),_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"}),_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(e){var t=[];return this.each(this.player.textTracks,function(e){e.kind===this.kind&&t.push(new _V_.TextTrackMenuItem(this.player,{track:e}))}),t},createMenu:function(){var e=this.player.textTracks,t=0,n=e.length,r,i,s=this.items=[];for(;t<n;t++){r=e[t];if(r.kind==this.kind&&r["default"]){if(r.readyState<2){this.chaptersTrack=r,r.addEvent("loaded",this.proxy(this.createMenu));return}i=r;break}}var o=this.menu=new _V_.Menu(this.player);o.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(i){var u=i.cues,t=0,n=u.length,a,f;for(;t<n;t++)a=u[t],f=new _V_.ChaptersTrackMenuItem(this.player,{track:i,cue:a}),s.push(f),o.addComponent(f)}return this.addComponent(o),this.items.length>0&&this.show(),o}}),_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var n=this.track=t.track,r=this.cue=t.cue,i=e.currentTime();t.label=r.text,t.selected=r.startTime<=i&&i<r.endTime,this._super(e,t),n.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.currentTime(this.cue.startTime),this.update(this.cue.startTime)},update:function(e){var t=this.cue,n=this.player.currentTime();t.startTime<=n&&n<t.endTime?this.selected(!0):this.selected(!1)}}),_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),_V_.autoSetup=function(){var e,t,n,r=document.getElementsByTagName("video");if(r&&r.length>0)for(var i=0,s=r.length;i<s;i++){t=r[i];if(!t||!t.getAttribute){_V_.autoSetupTimeout(1);break}t.player===undefined&&(e=t.getAttribute("data-setup"),e!==null&&(e=JSON.parse(e||"{}"),n=_V_(t,e)))}else _V_.windowLoaded||_V_.autoSetupTimeout(1)},_V_.autoSetupTimeout=function(e){setTimeout(_V_.autoSetup,e)},_V_.addEvent(window,"load",function(){_V_.windowLoaded=!0}),_V_.autoSetup(),window.VideoJS=window._V_=VideoJS,typeof define=="function"&&define("videojs",[],function(){return VideoJS})}(window),define("sections/nick-videos",["jquery","sections/base","tools/slider","videojs","core/common"],function(e,t,n,r,i){function a(){u=e("#video-player"),e("#videos-carousel-content li").each(function(t){e(this).data("index",t)}),e("#videos-carousel-content").on("click",function(){u.trigger("click")});var t=new n(e("#videos-carousel-content"),{onceShow:1,animationLoop:!0,autoResize:!0,viewPortPosition:"absolute",start:function(e){s.eq(e).addClass("selected").siblings().removeClass("selected")}}),r=new n(e("#overlay-videos-holder"),{onceShow:1,animationLoop:!1,autoResize:!0,touch:!1,viewPortPosition:"absolute",start:function(e){t.seekTo(e,1e-4),a.eq(e).addClass("selected").siblings().removeClass("selected")},ended:function(e){o[e]&&o[e].play()}});u.on("click",function(){var e=t.currentIndex;i.isMobile?location.href="medias/video-"+(e+1)+".mp4":(r.seekTo(e,0),o[e]&&o[e].play(),i.addressTo("videos/videos-overlay/"+(e+1)))}),i.on("videos-overlay",function(e,n){t.seekTo(n-1,0),u.trigger("click")});var s=e("#videos-carousel-btn li");s.eq(0).addClass("selected"),e("#videos-carousel").on("click",".carousel-slide-btn",function(){$this=e(this),$this.hasClass("carousel-slide-left")?(t.prev(),i.trigger("TRACKING",["/videos/prev-btn"])):(t.next(),i.trigger("TRACKING",["/videos/next-btn"]))}),e("#videos-carousel-btn li").each(function(n){e(this).data("index",n).on("click",function(){var n=e(this).data("index");if(t.currentIndex==n)return;t.seekTo(n),i.trigger("TRACKING",["/videos/seek-btn/"+(n+1)])})}),e("#silder-holder").on("click",function(){o[t.currentIndex].paused?o[t.currentIndex].play():o[t.currentIndex].pause()});var a=e("#video-overlay .content-bottom li").each(function(t){e(this).data("index",t).on("click",function(){var t=e(this),n=t.data("index");if(r.currentIndex==n)return;i.trigger("PAUSE_VIDEO"),r.seekTo(n),i.addressTo("videos/videos-overlay/"+(n+1))})});a.eq(0).addClass("selected")}function f(){r.options.flash={swf:"medias/video-js.swf"},e("video").each(function(){r(this).ready(function(){o.push(this),this.addEvent("play",function(){i.trigger("TRACKING",["/videos/videos-overlay/"+this.id.replace("video-","")+"/play"])}),this.addEvent("pause",function(){i.trigger("TRACKING",["/videos/videos-overlay/"+this.id.replace("video-","")+"/pause"])})})}),i.on("PAUSE_VIDEO",function(){for(var e=0,t=o.length;e<t;e++)o[e].paused()||o[e].pause()})}var s=t.extend({init:function(){a(),f()}}),o=[],u;return s}),define("sections/other",["jquery","sections/base","core/common","compose/canvas-compose"],function(e,t,n,r){var i=t.extend({init:function(){function a(e){n.trigger("GAMES-OVERLAY-REFRESH"),n.isFullScreen=!0,e.show(),t.css({opacity:.01,top:0,visibility:"visible"}),e.css({top:0,visibility:"visible"}),TweenMax.to(t[0],.5,{alpha:1}),TweenMax.fromTo(e.find(".content-top")[0],.5,{y:-n.stageH},{y:0,delay:.2,ease:Back.easeOut,onComplete:function(){e.find(".content-top").css("transform","")}}),TweenMax.fromTo(e.find(".content-bottom")[0],.4,{y:300,alpha:0},{y:0,alpha:1,delay:.7,ease:Sine.easeOut})}function f(){n.isFullScreen=!1,n.trigger("PAUSE_VIDEO"),TweenMax.to(t[0],.5,{alpha:.01,onComplete:function(){t.css({top:"100%",visibility:"hidden"}),e(".masksections").css({top:"100%",visibility:"hidden"})}})}var t=e("#mask"),i=e("#game-overlay"),s=e("#video-overlay"),o=e("#gallery-overlay");e("#showroom-gallery ul.car-list").on("click","li",function(){e(this).data("index")!=undefined&&(a(o),n.trigger("INIT-SHOW-ROOM",[e(this).data("index")]))}),e.browser.mozilla||t.css("backfaceVisibility","hidden"),n.on("gallery-overlay",function(e,t){a(o),n.trigger("INIT-SHOW-ROOM",[-1,t])}),e("#game-center").on("click",function(){if(n.hasTouch)return;a(i)});var u=!0;e("#video-player").on("click",function(){if(n.isMobile)return;a(s),u&&(n.$window.trigger("resize"),u=!1)}),e("#submitted-select li").each(function(t){e(this).on("click",function(){var t=e(this).data("index");switch(t){case 0:window.open(s3Url+n.data("current-design").url);break;case 1:r.reset(),f();break;case 2:e("#nav-nick-games").trigger("click"),f();break;case 3:e("#nav-nick-videos").trigger("click"),f()}}).data("index",t)}),n.on("SHOW-CAR-UPLOAD",function(r,i){n.isFullScreen=!0;if(i=="upload"){t.css({opacity:.01,top:0,visibility:"visible"}),TweenMax.to(t[0],.5,{alpha:1}),e("#submitted-close").hide(),e("#submitted-done").hide(),e("#submitted-loading").show();var s=e("#submitted").show().css({transformOrigin:"50% 100%",top:0,visibility:"visible"});TweenMax.from(s[0],.5,{rotation:90,alpha:0,ease:Back.easeOut})}else i=="complete"&&(e("#submitted-done").fadeIn(),e("#submitted-loading").hide(),e("#submitted-close").fadeIn())}),e("#mask").on("click",".mask-close",function(){f();switch(e(this).parent().attr("id")){case"video-overlay":n.trigger("TRACKING",["/videos/videos-overlay/close"]),n.addressTo("videos");break;case"game-overlay":n.trigger("TRACKING",["/games/games-overlay/close"]),n.addressTo("games");break;case"gallery-overlay":n.trigger("TRACKING",["/showroom/gallery-overlay/close"]),n.addressTo("showroom");break;case"submitted-content":n.trigger("TRACKING",["/design-your-own/save-overlay/close"]),n.addressTo("design-your-own")}}),n.on("hideOverklay",f)}});return i}),define("tools/btnHover",["jquery","libs/class"],function($,Class){var scheme=Class.extend({el:undefined,render:undefined,options:{d:"h",sp:0,stepSize:100,step:10,unit:"px",isPlayback:!0,fps:30,target:"self",renderType:"canvas",hasTouch:!1,hasTranslate3d:$("html").hasClass("csstransforms3d")},_currentIndex:0,_timeoutId:undefined,_isPlayback:!1,init:function(e,t){this.el=e,this.options=$.extend({},this.options,t);var n=this,r;$("html").hasClass("canvas")||(this.options.renderType="bg"),this.options.renderType!="canvas"||!$("html").hasClass("canvas")?((this.el.css("position")==""||this.el.css("position")=="static")&&this.el.css({position:"relative",overflow:"hidden"}),this.render=this.el.children(".wish-fill-img").css("position","absolute")):this.render=this.el.children(".wish-fill-img"),this.el.css({overflow:"hidden"}),this.options.target=="self"?r=this.el:(r=this.el.parent(),r.children().each(function(){$(this).css("pointer-events","none")})),n._update(!0);if(this.options.hasTouch){console.log(0);return}r.on("mouseover",function(){if($(this).hasClass("disabled"))return;clearTimeout(n._timeoutId),n._currentIndex=0,n._isPlayback=!1,n._update()}).on("mouseleave",function(){n.options.isPlayback&&(clearTimeout(n._timeoutId),n._isPlayback=!0,n._currentIndex>0&&(n._currentIndex--,n._update()))})},_update:function(e){var t=this;t.options.d=="h"?this.options.renderType=="canvas"?this.options.hasTranslate3d?t.render.css({transform:"translate3d("+(this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit)+",0px,0)"}):t.render.css({transform:"translate("+(this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit)+",0px)"}):t.render.css({top:0,left:this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit}):this.options.renderType=="canvas"?this.options.hasTranslate3d?t.render.css({transform:"translate3d(0px,"+(this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit)+",0)"}):t.render.css({transform:"translate(0px,"+(this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit)+")"}):t.render.css({left:0,top:this.options.sp+this._currentIndex*this.options.stepSize+this.options.unit});if(e)return;t._isPlayback?(t._currentIndex--,t._currentIndex>=0&&(t._timeoutId=setTimeout(function(){t._update()},1e3/t.options.fps))):(t._currentIndex++,t._currentIndex<this.options.step?t._timeoutId=setTimeout(function(){t._update()},1e3/t.options.fps):t._currentIndex=this.options.step-1)}});return scheme.init=function(_options){var options={className:"hover-ani",hasTouch:!1};options=$.extend({},options,_options),$("."+options.className).each(function(){var $this=$(this),objs=eval("("+$this.attr("data-options")+")");objs.hasTouch=options.hasTouch;var btn=new scheme($this,objs)})},scheme}),window.Modernizr=function(e,t,n){function r(e){g.cssText=e}function i(e,t){return r(E.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e)if(g[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+x.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+T.join(r+" ")+r).split(" "),a(i,t,n))}function l(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)L[n[r]]=n[r]in y;return L.list&&(L.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),L}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r=0,i,s,o,u=e.length;r<u;r++)y.setAttribute("type",s=e[r]),i=y.type!=="text",i&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&y.style.WebkitAppearance!==n?(d.appendChild(y),o=t.defaultView,i=o.getComputedStyle&&o.getComputedStyle(y,null).WebkitAppearance!=="textfield"&&y.offsetHeight!==0,d.removeChild(y)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=y.checkValidity&&y.checkValidity()===!1:/^color$/.test(s)?(d.appendChild(y),d.offsetWidth,i=y.value!=b,d.removeChild(y)):i=y.value!=b)),k[e[r]]=!!i;return k}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c="2.5.3",h={},p=!0,d=t.documentElement,v="modernizr",m=t.createElement(v),g=m.style,y=t.createElement("input"),b=":)",w={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",x=S.split(" "),T=S.toLowerCase().split(" "),N={svg:"http://www.w3.org/2000/svg"},C={},k={},L={},A=[],O=A.slice,M,_=function(e,n,r,i){var s,o,u,a=t.createElement("div"),f=t.body,l=f?f:t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:v+(r+1),a.appendChild(u);return s=["&#173;","<style>",e,"</style>"].join(""),a.id=v,l.innerHTML+=s,l.appendChild(a),f||(l.style.background="",d.appendChild(l)),o=n(a,e),f?a.parentNode.removeChild(a):l.parentNode.removeChild(l),!!o},D=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=s(i[e],"function"),s(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),P={}.hasOwnProperty,H;!s(P,"undefined")&&!s(P.call,"undefined")?H=function(e,t){return P.call(e,t)}:H=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=O.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(O.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(O.call(arguments)))};return r});var B=function(n,r){var i=n.join(""),s=r.length;_(i,function(n,r){var i=t.styleSheets[t.styleSheets.length-1],o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"",u=n.childNodes,a={};while(s--)a[u[s].id]=u[s];h.touch="ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch||(a.touch&&a.touch.offsetTop)===9,h.csstransforms3d=(a.csstransforms3d&&a.csstransforms3d.offsetLeft)===9&&a.csstransforms3d.offsetHeight===3,h.generatedcontent=(a.generatedcontent&&a.generatedcontent.offsetHeight)>=1,h.fontface=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0},s,r)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",E.join("touch-enabled),("),v,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",E.join("transform-3d),("),v,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',b,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);C.flexbox=function(){return f("flexOrder")},C.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},C.canvastext=function(){return!!h.canvas&&!!s(t.createElement("canvas").getContext("2d").fillText,"function")},C.webgl=function(){try{var r=t.createElement("canvas"),i;i=!(!e.WebGLRenderingContext||!r.getContext("experimental-webgl")&&!r.getContext("webgl")),r=n}catch(s){i=!1}return i},C.touch=function(){return h.touch},C.geolocation=function(){return!!navigator.geolocation},C.postmessage=function(){return!!e.postMessage},C.websqldatabase=function(){return!!e.openDatabase},C.indexedDB=function(){return!!f("indexedDB",e)},C.hashchange=function(){return D("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},C.history=function(){return!!e.history&&!!history.pushState},C.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},C.websockets=function(){for(var t=-1,n=x.length;++t<n;)if(e[x[t]+"WebSocket"])return!0;return"WebSocket"in e},C.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),o(g.backgroundColor,"rgba")},C.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),o(g.backgroundColor,"rgba")||o(g.backgroundColor,"hsla")},C.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},C.backgroundsize=function(){return f("backgroundSize")},C.borderimage=function(){return f("borderImage")},C.borderradius=function(){return f("borderRadius")},C.boxshadow=function(){return f("boxShadow")},C.textshadow=function(){return t.createElement("div").style.textShadow===""},C.opacity=function(){return i("opacity:.55"),/^0.55$/.test(g.opacity)},C.cssanimations=function(){return f("animationName")},C.csscolumns=function(){return f("columnCount")},C.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+E.join(n+e)).slice(0,-e.length)),o(g.backgroundImage,"gradient")},C.cssreflections=function(){return f("boxReflect")},C.csstransforms=function(){return!!f("transform")},C.csstransforms3d=function(){var e=!!f("perspective");return e&&"webkitPerspective"in d.style&&(e=h.csstransforms3d),e},C.csstransitions=function(){return f("transition")},C.fontface=function(){return h.fontface},C.generatedcontent=function(){return h.generatedcontent},C.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},C.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},C.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},C.webworkers=function(){return!!e.Worker},C.applicationcache=function(){return!!e.applicationCache},C.svg=function(){return!!t.createElementNS&&!!t.createElementNS(N.svg,"svg").createSVGRect},C.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==N.svg},C.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(N.svg,"animate")))},C.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(N.svg,"clipPath")))};for(var j in C)H(C,j)&&(M=j.toLowerCase(),h[M]=C[j](),A.push((h[M]?"":"no-")+M));return h.input||l(),r(""),m=y=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=l.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t={},n=e.createElement,i=e.createDocumentFragment,s=i();e.createElement=function(e){var r=(t[e]||(t[e]=n(e))).cloneNode();return l.shivMethods&&r.canHaveChildren&&!u.test(e)?s.appendChild(r):r},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t[e]=n(e),s.createElement(e),'c("'+e+'")'})+");return n}")(l,s)}function s(e){var t;return e.documentShived?e:(l.shivCSS&&!a&&(t=!!n(e,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(t=!i(e)),t&&(e.documentShived=t),e)}var o=e.html5||{},u=/^<|^(?:button|form|map|select|textarea)$/i,a,f;(function(){var e=t.createElement("a");e.innerHTML="<xyz></xyz>",a="hidden"in e,f=e.childNodes.length==1||function(){try{t.createElement("a")}catch(e){return!0}var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()})();var l={elements:o.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:o.shivCSS!==!1,shivMethods:o.shivMethods!==!1,type:"default",shivDocument:s};e.html5=l,s(t)}(this,t),h._version=c,h._prefixes=E,h._domPrefixes=T,h._cssomPrefixes=x,h.hasEvent=D,h.testProp=function(e){return u([e])},h.testAllProps=f,h.testStyles=_,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+A.join(" "):""),h}(this,this.document),function(e,t,n){function r(e){return d.call(e)=="[object Function]"}function i(e){return typeof e=="string"}function s(){}function o(e){return!e||e=="loaded"||e=="complete"||e=="uninitialized"}function u(){var e=v.shift();m=1,e?e.t?h(function(){(e.t=="c"?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){e!="img"&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c={},d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};T[n]===1&&(g=1,T[n]=[],c=t.createElement(e)),e=="object"?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),e!="img"&&(g||T[n]===2?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a(t=="c"?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),v.length==1&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&d.call(e.opera)=="[object Opera]",c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return d.call(e)=="[object Array]"},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,a){var f=t(e),c=f.autoCallback;f.url.split(".").pop().split("?").shift(),f.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]||u),f.instead?f.instead(e,i,s,o,a):(T[f.url]?f.noexec=!0:T[f.url]=1,s.load(f.url,f.forceCSS||!f.forceJS&&"css"==f.url.split(".").pop().split("?").shift()?"c":n,f.noexec,f.attrs,f.timeout),(r(i)||r(c))&&s.load(function(){l(),i&&i(f.origUrl,a,o),c&&c(f.origUrl,a,o),T[f.url]=2})))}function a(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var f,c,h=this.yepnope.loader;if(i(e))o(e,0,h,0);else if(S(e))for(f=0;f<e.length;f++)c=e[f],i(c)?o(c,0,h,0):S(c)?k(c):Object(c)===c&&a(c,h);else Object(e)===e&&a(e,h)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,t.readyState==null&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},define("modernizr",function(){}),define("site",["jquery","core/common","tools/img.loader","compose/canvas-compose","animate/parallax","sections/base","sections/spo-garage","sections/spo-showroom","sections/nick-games","sections/nick-videos","sections/other","tools/btnHover","hammer","modernizr","TweenMax"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=[],p={},d=[],v,m,g,y,b=!1;e(function(){function E(){x(),clearInterval(u),TweenMax.to(l[0],2,{top:"-100%",ease:Quart.easeInOut,delay:.2,onComplete:function(){l.remove()},startAt:{width:"100%",height:"100%",right:"",bottom:"",overflow:"hidden"}}),TweenMax.to("#loading-logo",1,{top:"+=0",delay:0,ease:Quart.easeInOut}),TweenMax.to(a[0],1.1,{top:"+=10",delay:.1,ease:Quart.easeInOut}),TweenMax.to("#progress",1.2,{top:"+=40",delay:.2,ease:Quart.easeInOut}),TweenMax.fromTo("nav",.5,{left:"-100px"},{left:0,ease:Quart.easeOut,delay:2});var t=0;e("nav li span").each(function(){var n=e(this);n.hasClass("menu-text")||(TweenMax.fromTo(this,.8,{alpha:0},{alpha:1,ease:Quart.easeInOut,delay:2+.1*t}),t++)})}function S(){n.load({preload:!0,rule:{small:[0,740]},progress:function(e){w=parseInt(e*100)},complete:function(){}})}function x(){s.init(),t.resize(s.resize),t.resize(function(e){e&&n.load({preload:!0,rule:{small:[0,740]},className:"adapt"})}),c.init({hasTouch:t.hasTouch});var r=e("nav li").each(function(n){var r=e(this).attr("id").replace("nav-","");p[n]=e("#"+r).data({index:n,id:r}),p[r]=p[n],h.push(p[n].offset().top),e(this).on("click",function(){var n=e(this).data("path");return T(n),t.options.useAddress&&e("nav li").eq(p[n].data("index")).addClass("selected").siblings().removeClass("selected"),!1}).data("path",r)});e("#get-started").on("click",function(){r.eq(1).trigger("click")}),t.addressChange(function(n,r){r=r.length==0?"home":r,paths=r.split("/"),n=="external"&&(t.isDragScroll=!1,T(paths[0])),t.options.useAddress&&e("nav li").eq(p[paths[0]].data("index")).addClass("selected").siblings().removeClass("selected"),n!="init"?(t.trigger("TRACKING",["/"+r]),b=paths[0]):paths.length==3&&t.trigger(paths[1],[paths[2]])}),t.on("TRACKING",function(e,t){typeof pageNameAppend=="function"&&t&&pageNameAppend(t)}),e("body").on("click","a",function(){var n=e(this).attr("data-path")?e(this).attr("data-path"):e(this).attr("href").replace(/(http:\/\/|https:\/\/|[^A-Za-z0-9])/ig,"");e(this).attr("data-path")?t.trigger("TRACKING",[n]):n&&n!="none"&&t.trigger("TRACKING",["/external/"+n])}),t.resize(function(e){if(e){v=h.length,h=[],d=[],m={};for(var n=0;n<v;n++){h.push(p[n].offset().top),d.push(p[n].height());if(n==0)m[p[n].data("id")]=1;else{var r=t.stageH/(d[n]+t.stageH);m[p[n].data("id")]=(1-r)/r}}i.setTimeScales(m),N(t.currentTop)}}),t.init({useAddress:!0,mousewheel:!t.hasTouch&&!t.ie8}),!t.hasTouch&&!t.ie8&&t.options.mousewheel&&(i.init(e("section")),i.update())}function T(e){if(p[e]){var n=p[e].offset().top;e=="design-your-own"?d[p[e].data("index")]-t.stageH>0&&(n+=(d[p[e].data("index")]-t.stageH)/2):e=="showroom"?d[p[e].data("index")]-t.stageH-100>0&&(n+=t.stageH*.07):e=="games"&&d[p[e].data("index")]-t.stageH>0&&(n+=t.stageH*.09),t.scrollTo(n<200?0:n)}}function N(e){var n,r,s={};for(var o=0;o<v;o++){if(t.stageW<=740){s[p[o].data("id")]=.5;continue}n=e-h[o],n>0?r=n/d[o]/2+.5:(n+=t.stageH,r=n/t.stageH/2),r=Math.max(0,r),r=Math.min(1,r),s[p[o].data("id")]=r;continue}i.update(s)}navigator.platform.match("Mac")!==null&&e("html").addClass("osx"),t.hasTouch&&(e("#loading").on("touchstart",function(){return}),e("#games,#nav-games").remove()),y=e("nav");var o=e("<img/>"),u,a=e("#loading-ani"),f=e("#progress"),l=e("#loading"),b,w=0;o.load(function(){var i=150,s=115,o=25,l=2,c=0,h=78;a.css("background-image","url("+this.src+")"),u=setInterval(function(){a.css("background-position",-l*i+"px -"+s*o+"px");if(c*100/h>w)return;c++,f.html(parseInt(c/((h+1)/100))+"%");if(c==h){f.html("99%"),e.get("php/getImagesXml.php").done(function(e){t.data("car-xml-data",e),f.html("100%"),E()}).error(function(){f.html("100%"),E()}),!t.ie8&&!t.isMobile&&r.init({canvasId:"car-canvas",defaultColor:"#d6292c",defaultBackground:"images/car/overlay-bg-1.jpg",car:n.getImageByName("car/car.png"),colorMask:n.getImageByName("car/color-mask.png"),carShadowMask:n.getImageByName("car/car-shadow-mask.png"),carHighLight:n.getImageByName("car/car-high-light.png")});return}l--,l<0&&(l=2,o--)},40),S()}).attr("src","images/loading.png"),t.scroll(function(n){clearTimeout(g),g=setTimeout(function(){for(var r=0,i=h.length;r<i;r++)if(n<h[r]+t.stageH/1.2){var s=e.address.value().split("/");if(s.length==2){t.addressTo(p[r].data("id"));return}}},200),t.hasTouch||N(n)})})}),window.console||(window.console={},window.console.log=function(){}),require.config({baseUrl:"./scripts",paths:{jquery:"libs/require-jquery.min","jquery.easing":"libs/jquery.easing.1.3",modernizr:"libs/modernizr-2.5.3.min","browser.animation":"libs/browser.animation","class":"libs/class",videojs:"libs/video",move:"libs/move","jquery.address":"libs/jquery.address-1.5.min",TweenMax:"libs/TweenMax.min",nanoscroller:"libs/jquery.nanoscroller.min",pixastic:"libs/pixastic/pixastic.custom",blend:"libs/pixastic/blend",hammer:"libs/jquery.hammer.min",swfobject:"libs/swfobject"},shim:{"jquery.address":["jquery"],"jquery.easing":["jquery"],nanoscroller:["jquery"],blend:["pixastic"],hammer:["jquery"]},waitSeconds:0});var toyotaServerUrl=location.href.indexOf("localhost")!=-1||location.href.indexOf("192.168.1")!=-1?"http://clientapprove.com/preview/toyota/preview_0530/":"",s3Url;require(["site"],function(){}),define("main",function(){});